(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function fR(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var $d={exports:{}},no={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function hR(){if(x0)return no;x0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:s,type:i,key:c,ref:a!==void 0?a:null,props:o}}return no.Fragment=e,no.jsx=t,no.jsxs=t,no}var A0;function dR(){return A0||(A0=1,$d.exports=hR()),$d.exports}var C=dR(),Zd={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function pR(){if(N0)return ve;N0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),g=Symbol.iterator;function v(x){return x===null||typeof x!="object"?null:(x=g&&x[g]||x["@@iterator"],typeof x=="function"?x:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function w(x,k,$){this.props=x,this.context=k,this.refs=S,this.updater=$||E}w.prototype.isReactComponent={},w.prototype.setState=function(x,k){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,k,"setState")},w.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function A(){}A.prototype=w.prototype;function D(x,k,$){this.props=x,this.context=k,this.refs=S,this.updater=$||E}var N=D.prototype=new A;N.constructor=D,T(N,w.prototype),N.isPureReactComponent=!0;var H=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function Y(x,k,$,Z,F,ne){return $=ne.ref,{$$typeof:s,type:x,key:k,ref:$!==void 0?$:null,props:ne}}function Q(x,k){return Y(x.type,k,void 0,void 0,void 0,x.props)}function V(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function te(x){var k={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function($){return k[$]})}var ie=/\/+/g;function oe(x,k){return typeof x=="object"&&x!==null&&x.key!=null?te(""+x.key):k.toString(36)}function fe(){}function ue(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(fe,fe):(x.status="pending",x.then(function(k){x.status==="pending"&&(x.status="fulfilled",x.value=k)},function(k){x.status==="pending"&&(x.status="rejected",x.reason=k)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ae(x,k,$,Z,F){var ne=typeof x;(ne==="undefined"||ne==="boolean")&&(x=null);var se=!1;if(x===null)se=!0;else switch(ne){case"bigint":case"string":case"number":se=!0;break;case"object":switch(x.$$typeof){case s:case e:se=!0;break;case _:return se=x._init,ae(se(x._payload),k,$,Z,F)}}if(se)return F=F(x),se=Z===""?"."+oe(x,0):Z,H(F)?($="",se!=null&&($=se.replace(ie,"$&/")+"/"),ae(F,k,$,"",function(_t){return _t})):F!=null&&(V(F)&&(F=Q(F,$+(F.key==null||x&&x.key===F.key?"":(""+F.key).replace(ie,"$&/")+"/")+se)),k.push(F)),1;se=0;var xe=Z===""?".":Z+":";if(H(x))for(var Ae=0;Ae<x.length;Ae++)Z=x[Ae],ne=xe+oe(Z,Ae),se+=ae(Z,k,$,ne,F);else if(Ae=v(x),typeof Ae=="function")for(x=Ae.call(x),Ae=0;!(Z=x.next()).done;)Z=Z.value,ne=xe+oe(Z,Ae++),se+=ae(Z,k,$,ne,F);else if(ne==="object"){if(typeof x.then=="function")return ae(ue(x),k,$,Z,F);throw k=String(x),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return se}function U(x,k,$){if(x==null)return x;var Z=[],F=0;return ae(x,Z,"","",function(ne){return k.call($,ne,F++)}),Z}function G(x){if(x._status===-1){var k=x._result;k=k(),k.then(function($){(x._status===0||x._status===-1)&&(x._status=1,x._result=$)},function($){(x._status===0||x._status===-1)&&(x._status=2,x._result=$)}),x._status===-1&&(x._status=0,x._result=k)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function he(){}return ve.Children={map:U,forEach:function(x,k,$){U(x,function(){k.apply(this,arguments)},$)},count:function(x){var k=0;return U(x,function(){k++}),k},toArray:function(x){return U(x,function(k){return k})||[]},only:function(x){if(!V(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ve.Component=w,ve.Fragment=t,ve.Profiler=a,ve.PureComponent=D,ve.StrictMode=i,ve.Suspense=f,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ve.__COMPILER_RUNTIME={__proto__:null,c:function(x){return L.H.useMemoCache(x)}},ve.cache=function(x){return function(){return x.apply(null,arguments)}},ve.cloneElement=function(x,k,$){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Z=T({},x.props),F=x.key,ne=void 0;if(k!=null)for(se in k.ref!==void 0&&(ne=void 0),k.key!==void 0&&(F=""+k.key),k)!W.call(k,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&k.ref===void 0||(Z[se]=k[se]);var se=arguments.length-2;if(se===1)Z.children=$;else if(1<se){for(var xe=Array(se),Ae=0;Ae<se;Ae++)xe[Ae]=arguments[Ae+2];Z.children=xe}return Y(x.type,F,void 0,void 0,ne,Z)},ve.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:o,_context:x},x},ve.createElement=function(x,k,$){var Z,F={},ne=null;if(k!=null)for(Z in k.key!==void 0&&(ne=""+k.key),k)W.call(k,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=k[Z]);var se=arguments.length-2;if(se===1)F.children=$;else if(1<se){for(var xe=Array(se),Ae=0;Ae<se;Ae++)xe[Ae]=arguments[Ae+2];F.children=xe}if(x&&x.defaultProps)for(Z in se=x.defaultProps,se)F[Z]===void 0&&(F[Z]=se[Z]);return Y(x,ne,void 0,void 0,null,F)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(x){return{$$typeof:h,render:x}},ve.isValidElement=V,ve.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:G}},ve.memo=function(x,k){return{$$typeof:p,type:x,compare:k===void 0?null:k}},ve.startTransition=function(x){var k=L.T,$={};L.T=$;try{var Z=x(),F=L.S;F!==null&&F($,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(he,J)}catch(ne){J(ne)}finally{L.T=k}},ve.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ve.use=function(x){return L.H.use(x)},ve.useActionState=function(x,k,$){return L.H.useActionState(x,k,$)},ve.useCallback=function(x,k){return L.H.useCallback(x,k)},ve.useContext=function(x){return L.H.useContext(x)},ve.useDebugValue=function(){},ve.useDeferredValue=function(x,k){return L.H.useDeferredValue(x,k)},ve.useEffect=function(x,k,$){var Z=L.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(x,k)},ve.useId=function(){return L.H.useId()},ve.useImperativeHandle=function(x,k,$){return L.H.useImperativeHandle(x,k,$)},ve.useInsertionEffect=function(x,k){return L.H.useInsertionEffect(x,k)},ve.useLayoutEffect=function(x,k){return L.H.useLayoutEffect(x,k)},ve.useMemo=function(x,k){return L.H.useMemo(x,k)},ve.useOptimistic=function(x,k){return L.H.useOptimistic(x,k)},ve.useReducer=function(x,k,$){return L.H.useReducer(x,k,$)},ve.useRef=function(x){return L.H.useRef(x)},ve.useState=function(x){return L.H.useState(x)},ve.useSyncExternalStore=function(x,k,$){return L.H.useSyncExternalStore(x,k,$)},ve.useTransition=function(){return L.H.useTransition()},ve.version="19.1.1",ve}var O0;function gm(){return O0||(O0=1,Zd.exports=pR()),Zd.exports}var M=gm();const Rt=fR(M);var Jd={exports:{}},io={},ep={exports:{}},tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function mR(){return M0||(M0=1,function(s){function e(U,G){var J=U.length;U.push(G);e:for(;0<J;){var he=J-1>>>1,x=U[he];if(0<a(x,G))U[he]=G,U[J]=x,J=he;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var G=U[0],J=U.pop();if(J!==G){U[0]=J;e:for(var he=0,x=U.length,k=x>>>1;he<k;){var $=2*(he+1)-1,Z=U[$],F=$+1,ne=U[F];if(0>a(Z,J))F<x&&0>a(ne,Z)?(U[he]=ne,U[F]=J,he=F):(U[he]=Z,U[$]=J,he=$);else if(F<x&&0>a(ne,J))U[he]=ne,U[F]=J,he=F;else break e}}return G}function a(U,G){var J=U.sortIndex-G.sortIndex;return J!==0?J:U.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();s.unstable_now=function(){return c.now()-h}}var f=[],p=[],_=1,g=null,v=3,E=!1,T=!1,S=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function H(U){for(var G=t(p);G!==null;){if(G.callback===null)i(p);else if(G.startTime<=U)i(p),G.sortIndex=G.expirationTime,e(f,G);else break;G=t(p)}}function L(U){if(S=!1,H(U),!T)if(t(f)!==null)T=!0,W||(W=!0,oe());else{var G=t(p);G!==null&&ae(L,G.startTime-U)}}var W=!1,Y=-1,Q=5,V=-1;function te(){return w?!0:!(s.unstable_now()-V<Q)}function ie(){if(w=!1,W){var U=s.unstable_now();V=U;var G=!0;try{e:{T=!1,S&&(S=!1,D(Y),Y=-1),E=!0;var J=v;try{t:{for(H(U),g=t(f);g!==null&&!(g.expirationTime>U&&te());){var he=g.callback;if(typeof he=="function"){g.callback=null,v=g.priorityLevel;var x=he(g.expirationTime<=U);if(U=s.unstable_now(),typeof x=="function"){g.callback=x,H(U),G=!0;break t}g===t(f)&&i(f),H(U)}else i(f);g=t(f)}if(g!==null)G=!0;else{var k=t(p);k!==null&&ae(L,k.startTime-U),G=!1}}break e}finally{g=null,v=J,E=!1}G=void 0}}finally{G?oe():W=!1}}}var oe;if(typeof N=="function")oe=function(){N(ie)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ue=fe.port2;fe.port1.onmessage=ie,oe=function(){ue.postMessage(null)}}else oe=function(){A(ie,0)};function ae(U,G){Y=A(function(){U(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(U){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var J=v;v=G;try{return U()}finally{v=J}},s.unstable_requestPaint=function(){w=!0},s.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=v;v=U;try{return G()}finally{v=J}},s.unstable_scheduleCallback=function(U,G,J){var he=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?he+J:he):J=he,U){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,U={id:_++,callback:G,priorityLevel:U,startTime:J,expirationTime:x,sortIndex:-1},J>he?(U.sortIndex=J,e(p,U),t(f)===null&&U===t(p)&&(S?(D(Y),Y=-1):S=!0,ae(L,J-he))):(U.sortIndex=x,e(f,U),T||E||(T=!0,W||(W=!0,oe()))),U},s.unstable_shouldYield=te,s.unstable_wrapCallback=function(U){var G=v;return function(){var J=v;v=G;try{return U.apply(this,arguments)}finally{v=J}}}}(tp)),tp}var D0;function _R(){return D0||(D0=1,ep.exports=mR()),ep.exports}var np={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function gR(){if(I0)return Vt;I0=1;var s=gm();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,_){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:p,implementation:_}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vt.createPortal=function(f,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,_)},Vt.flushSync=function(f){var p=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=_,i.d.f()}},Vt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Vt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Vt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var _=p.as,g=h(_,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:E}):_==="script"&&i.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Vt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,g=h(_,p.crossOrigin);i.d.L(f,_,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(f,p){if(typeof f=="string")if(p){var _=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Vt.requestFormReset=function(f){i.d.r(f)},Vt.unstable_batchedUpdates=function(f,p){return f(p)},Vt.useFormState=function(f,p,_){return c.H.useFormState(f,p,_)},Vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vt.version="19.1.1",Vt}var k0;function vR(){if(k0)return np.exports;k0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),np.exports=gR(),np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function yR(){if(L0)return io;L0=1;var s=_R(),e=gm(),t=vR();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function f(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(i(188));return r!==n?null:n}for(var l=n,u=r;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return h(d),n;if(m===u)return h(d),r;m=m.sibling}throw Error(i(188))}if(l.return!==u.return)l=d,u=m;else{for(var y=!1,b=d.child;b;){if(b===l){y=!0,l=d,u=m;break}if(b===u){y=!0,u=d,l=m;break}b=b.sibling}if(!y){for(b=m.child;b;){if(b===l){y=!0,l=m,u=d;break}if(b===u){y=!0,u=m,l=d;break}b=b.sibling}if(!y)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),N=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var fe=Symbol.for("react.client.reference");function ue(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===fe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case W:return"SuspenseList";case V:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case N:return(n.displayName||"Context")+".Provider";case D:return(n._context.displayName||"Context")+".Consumer";case H:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return r=n.displayName||null,r!==null?r:ue(n.type)||"Memo";case Q:r=n._payload,n=n._init;try{return ue(n(r))}catch{}}return null}var ae=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},he=[],x=-1;function k(n){return{current:n}}function $(n){0>x||(n.current=he[x],he[x]=null,x--)}function Z(n,r){x++,he[x]=n.current,n.current=r}var F=k(null),ne=k(null),se=k(null),xe=k(null);function Ae(n,r){switch(Z(se,r),Z(ne,n),Z(F,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?t0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=t0(r),n=n0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(F),Z(F,n)}function _t(){$(F),$(ne),$(se)}function me(n){n.memoizedState!==null&&Z(xe,n);var r=F.current,l=n0(r,n.type);r!==l&&(Z(ne,n),Z(F,l))}function Oe(n){ne.current===n&&($(F),$(ne)),xe.current===n&&($(xe),$l._currentValue=J)}var Pe=Object.prototype.hasOwnProperty,at=s.unstable_scheduleCallback,An=s.unstable_cancelCallback,cn=s.unstable_shouldYield,fn=s.unstable_requestPaint,gt=s.unstable_now,Tt=s.unstable_getCurrentPriorityLevel,ht=s.unstable_ImmediatePriority,mi=s.unstable_UserBlockingPriority,Qi=s.unstable_NormalPriority,Bs=s.unstable_LowPriority,iu=s.unstable_IdlePriority,QT=s.log,XT=s.unstable_setDisableYieldValue,rl=null,hn=null;function Xi(n){if(typeof QT=="function"&&XT(n),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(rl,n)}catch{}}var dn=Math.clz32?Math.clz32:$T,WT=Math.log,KT=Math.LN2;function $T(n){return n>>>=0,n===0?32:31-(WT(n)/KT|0)|0}var su=256,ru=4194304;function Hs(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function au(n,r,l){var u=n.pendingLanes;if(u===0)return 0;var d=0,m=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~m,u!==0?d=Hs(u):(y&=b,y!==0?d=Hs(y):l||(l=b&~n,l!==0&&(d=Hs(l))))):(b=u&~m,b!==0?d=Hs(b):y!==0?d=Hs(y):l||(l=u&~n,l!==0&&(d=Hs(l)))),d===0?0:r!==0&&r!==d&&(r&m)===0&&(m=d&-d,l=r&-r,m>=l||m===32&&(l&4194048)!==0)?r:d}function al(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ZT(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z_(){var n=su;return su<<=1,(su&4194048)===0&&(su=256),n}function j_(){var n=ru;return ru<<=1,(ru&62914560)===0&&(ru=4194304),n}function Bf(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function ll(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function JT(n,r,l,u,d,m){var y=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var b=n.entanglements,R=n.expirationTimes,z=n.hiddenUpdates;for(l=y&~l;0<l;){var q=31-dn(l),K=1<<q;b[q]=0,R[q]=-1;var j=z[q];if(j!==null)for(z[q]=null,q=0;q<j.length;q++){var B=j[q];B!==null&&(B.lane&=-536870913)}l&=~K}u!==0&&B_(n,u,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(y&~r))}function B_(n,r,l){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-dn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function H_(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var u=31-dn(l),d=1<<u;d&r|n[u]&r&&(n[u]|=r),l&=~d}}function Hf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ff(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function F_(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:E0(n.type))}function eC(n,r){var l=G.p;try{return G.p=n,r()}finally{G.p=l}}var Wi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Wi,Zt="__reactProps$"+Wi,Dr="__reactContainer$"+Wi,Vf="__reactEvents$"+Wi,tC="__reactListeners$"+Wi,nC="__reactHandles$"+Wi,V_="__reactResources$"+Wi,ol="__reactMarker$"+Wi;function Gf(n){delete n[Ht],delete n[Zt],delete n[Vf],delete n[tC],delete n[nC]}function Ir(n){var r=n[Ht];if(r)return r;for(var l=n.parentNode;l;){if(r=l[Dr]||l[Ht]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=a0(n);n!==null;){if(l=n[Ht])return l;n=a0(n)}return r}n=l,l=n.parentNode}return null}function kr(n){if(n=n[Ht]||n[Dr]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ul(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Lr(n){var r=n[V_];return r||(r=n[V_]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(n){n[ol]=!0}var G_=new Set,q_={};function Fs(n,r){Pr(n,r),Pr(n+"Capture",r)}function Pr(n,r){for(q_[n]=r,n=0;n<r.length;n++)G_.add(r[n])}var iC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Y_={},Q_={};function sC(n){return Pe.call(Q_,n)?!0:Pe.call(Y_,n)?!1:iC.test(n)?Q_[n]=!0:(Y_[n]=!0,!1)}function lu(n,r,l){if(sC(r))if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+l)}}function ou(n,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+l)}}function _i(n,r,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(r,l,""+u)}}var qf,X_;function Ur(n){if(qf===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);qf=r&&r[1]||"",X_=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qf+n+X_}var Yf=!1;function Qf(n,r){if(!n||Yf)return"";Yf=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var j=B}Reflect.construct(n,[],K)}else{try{K.call()}catch(B){j=B}n.call(K.prototype)}}else{try{throw Error()}catch(B){j=B}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),y=m[0],b=m[1];if(y&&b){var R=y.split(`
`),z=b.split(`
`);for(d=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(u===R.length||d===z.length)for(u=R.length-1,d=z.length-1;1<=u&&0<=d&&R[u]!==z[d];)d--;for(;1<=u&&0<=d;u--,d--)if(R[u]!==z[d]){if(u!==1||d!==1)do if(u--,d--,0>d||R[u]!==z[d]){var q=`
`+R[u].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=u&&0<=d);break}}}finally{Yf=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Ur(l):""}function rC(n){switch(n.tag){case 26:case 27:case 5:return Ur(n.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Qf(n.type,!1);case 11:return Qf(n.type.render,!1);case 1:return Qf(n.type,!0);case 31:return Ur("Activity");default:return""}}function W_(n){try{var r="";do r+=rC(n),n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function K_(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function aC(n){var r=K_(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(y){u=""+y,m.call(this,y)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function uu(n){n._valueTracker||(n._valueTracker=aC(n))}function $_(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return n&&(u=K_(n)?n.checked?"true":"false":n.value),n=u,n!==l?(r.setValue(n),!0):!1}function cu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var lC=/[\n"\\]/g;function On(n){return n.replace(lC,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xf(n,r,l,u,d,m,y,b){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),r!=null?y==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Nn(r)):n.value!==""+Nn(r)&&(n.value=""+Nn(r)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),r!=null?Wf(n,y,Nn(r)):l!=null?Wf(n,y,Nn(l)):u!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Nn(b):n.removeAttribute("name")}function Z_(n,r,l,u,d,m,y,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;l=l!=null?""+Nn(l):"",r=r!=null?""+Nn(r):l,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y)}function Wf(n,r,l){r==="number"&&cu(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function zr(n,r,l,u){if(n=n.options,r){r={};for(var d=0;d<l.length;d++)r["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=r.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Nn(l),r=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function J_(n,r,l){if(r!=null&&(r=""+Nn(r),r!==n.value&&(n.value=r),l==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=l!=null?""+Nn(l):""}function eg(n,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(ae(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=Nn(r),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function jr(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var oC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tg(n,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,l):typeof l!="number"||l===0||oC.has(r)?r==="float"?n.cssFloat=l:n[r]=(""+l).trim():n[r]=l+"px"}function ng(n,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&l[d]!==u&&tg(n,d,u)}else for(var m in r)r.hasOwnProperty(m)&&tg(n,m,r[m])}function Kf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fu(n){return cC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var $f=null;function Zf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Br=null,Hr=null;function ig(n){var r=kr(n);if(r&&(n=r.stateNode)){var l=n[Zt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Xf(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+On(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==n&&u.form===n.form){var d=u[Zt]||null;if(!d)throw Error(i(90));Xf(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===n.form&&$_(u)}break e;case"textarea":J_(n,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&zr(n,!!l.multiple,r,!1)}}}var Jf=!1;function sg(n,r,l){if(Jf)return n(r,l);Jf=!0;try{var u=n(r);return u}finally{if(Jf=!1,(Br!==null||Hr!==null)&&(Ku(),Br&&(r=Br,n=Hr,Hr=Br=null,ig(r),n)))for(r=0;r<n.length;r++)ig(n[r])}}function cl(n,r){var l=n.stateNode;if(l===null)return null;var u=l[Zt]||null;if(u===null)return null;l=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eh=!1;if(gi)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){eh=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{eh=!1}var Ki=null,th=null,hu=null;function rg(){if(hu)return hu;var n,r=th,l=r.length,u,d="value"in Ki?Ki.value:Ki.textContent,m=d.length;for(n=0;n<l&&r[n]===d[n];n++);var y=l-n;for(u=1;u<=y&&r[l-u]===d[m-u];u++);return hu=d.slice(n,1<u?1-u:void 0)}function du(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function pu(){return!0}function ag(){return!1}function Jt(n){function r(l,u,d,m,y){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(l=n[b],this[b]=l?l(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pu:ag,this.isPropagationStopped=ag,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),r}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=Jt(Vs),hl=_({},Vs,{view:0,detail:0}),fC=Jt(hl),nh,ih,dl,_u=_({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==dl&&(dl&&n.type==="mousemove"?(nh=n.screenX-dl.screenX,ih=n.screenY-dl.screenY):ih=nh=0,dl=n),nh)},movementY:function(n){return"movementY"in n?n.movementY:ih}}),lg=Jt(_u),hC=_({},_u,{dataTransfer:0}),dC=Jt(hC),pC=_({},hl,{relatedTarget:0}),sh=Jt(pC),mC=_({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),_C=Jt(mC),gC=_({},Vs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vC=Jt(gC),yC=_({},Vs,{data:0}),og=Jt(yC),SC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TC(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=bC[n])?!!r[n]:!1}function rh(){return TC}var CC=_({},hl,{key:function(n){if(n.key){var r=SC[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=du(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?EC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(n){return n.type==="keypress"?du(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?du(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wC=Jt(CC),RC=_({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ug=Jt(RC),xC=_({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),AC=Jt(xC),NC=_({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),OC=Jt(NC),MC=_({},_u,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),DC=Jt(MC),IC=_({},Vs,{newState:0,oldState:0}),kC=Jt(IC),LC=[9,13,27,32],ah=gi&&"CompositionEvent"in window,pl=null;gi&&"documentMode"in document&&(pl=document.documentMode);var PC=gi&&"TextEvent"in window&&!pl,cg=gi&&(!ah||pl&&8<pl&&11>=pl),fg=" ",hg=!1;function dg(n,r){switch(n){case"keyup":return LC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fr=!1;function UC(n,r){switch(n){case"compositionend":return pg(r);case"keypress":return r.which!==32?null:(hg=!0,fg);case"textInput":return n=r.data,n===fg&&hg?null:n;default:return null}}function zC(n,r){if(Fr)return n==="compositionend"||!ah&&dg(n,r)?(n=rg(),hu=th=Ki=null,Fr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return cg&&r.locale!=="ko"?null:r.data;default:return null}}var jC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!jC[n.type]:r==="textarea"}function _g(n,r,l,u){Br?Hr?Hr.push(u):Hr=[u]:Br=u,r=nc(r,"onChange"),0<r.length&&(l=new mu("onChange","change",null,l,u),n.push({event:l,listeners:r}))}var ml=null,_l=null;function BC(n){Ky(n,0)}function gu(n){var r=ul(n);if($_(r))return n}function gg(n,r){if(n==="change")return r}var vg=!1;if(gi){var lh;if(gi){var oh="oninput"in document;if(!oh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),oh=typeof yg.oninput=="function"}lh=oh}else lh=!1;vg=lh&&(!document.documentMode||9<document.documentMode)}function Sg(){ml&&(ml.detachEvent("onpropertychange",Eg),_l=ml=null)}function Eg(n){if(n.propertyName==="value"&&gu(_l)){var r=[];_g(r,_l,n,Zf(n)),sg(BC,r)}}function HC(n,r,l){n==="focusin"?(Sg(),ml=r,_l=l,ml.attachEvent("onpropertychange",Eg)):n==="focusout"&&Sg()}function FC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gu(_l)}function VC(n,r){if(n==="click")return gu(r)}function GC(n,r){if(n==="input"||n==="change")return gu(r)}function qC(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:qC;function gl(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!Pe.call(r,d)||!pn(n[d],r[d]))return!1}return!0}function bg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tg(n,r){var l=bg(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=r&&u>=r)return{node:l,offset:r-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bg(l)}}function Cg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Cg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function wg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=cu(n.document);r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=cu(n.document)}return r}function uh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var YC=gi&&"documentMode"in document&&11>=document.documentMode,Vr=null,ch=null,vl=null,fh=!1;function Rg(n,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fh||Vr==null||Vr!==cu(u)||(u=Vr,"selectionStart"in u&&uh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vl&&gl(vl,u)||(vl=u,u=nc(ch,"onSelect"),0<u.length&&(r=new mu("onSelect","select",null,r,l),n.push({event:r,listeners:u}),r.target=Vr)))}function Gs(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var Gr={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},hh={},xg={};gi&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function qs(n){if(hh[n])return hh[n];if(!Gr[n])return n;var r=Gr[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in xg)return hh[n]=r[l];return n}var Ag=qs("animationend"),Ng=qs("animationiteration"),Og=qs("animationstart"),QC=qs("transitionrun"),XC=qs("transitionstart"),WC=qs("transitioncancel"),Mg=qs("transitionend"),Dg=new Map,dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dh.push("scrollEnd");function Vn(n,r){Dg.set(n,r),Fs(r,[n])}var Ig=new WeakMap;function Mn(n,r){if(typeof n=="object"&&n!==null){var l=Ig.get(n);return l!==void 0?l:(r={value:n,source:r,stack:W_(r)},Ig.set(n,r),r)}return{value:n,source:r,stack:W_(r)}}var Dn=[],qr=0,ph=0;function vu(){for(var n=qr,r=ph=qr=0;r<n;){var l=Dn[r];Dn[r++]=null;var u=Dn[r];Dn[r++]=null;var d=Dn[r];Dn[r++]=null;var m=Dn[r];if(Dn[r++]=null,u!==null&&d!==null){var y=u.pending;y===null?d.next=d:(d.next=y.next,y.next=d),u.pending=d}m!==0&&kg(l,d,m)}}function yu(n,r,l,u){Dn[qr++]=n,Dn[qr++]=r,Dn[qr++]=l,Dn[qr++]=u,ph|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function mh(n,r,l,u){return yu(n,r,l,u),Su(n)}function Yr(n,r){return yu(n,null,null,r),Su(n)}function kg(n,r,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var d=!1,m=n.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&r!==null&&(d=31-dn(l),n=m.hiddenUpdates,u=n[d],u===null?n[d]=[r]:u.push(r),r.lane=l|536870912),m):null}function Su(n){if(50<Vl)throw Vl=0,Ed=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Qr={};function KC(n,r,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,r,l,u){return new KC(n,r,l,u)}function _h(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vi(n,r){var l=n.alternate;return l===null?(l=mn(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Lg(n,r){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,r=l.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Eu(n,r,l,u,d,m){var y=0;if(u=n,typeof n=="function")_h(n)&&(y=1);else if(typeof n=="string")y=Zw(n,l,F.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case V:return n=mn(31,l,r,d),n.elementType=V,n.lanes=m,n;case T:return Ys(l.children,d,m,r);case S:y=8,d|=24;break;case w:return n=mn(12,l,r,d|2),n.elementType=w,n.lanes=m,n;case L:return n=mn(13,l,r,d),n.elementType=L,n.lanes=m,n;case W:return n=mn(19,l,r,d),n.elementType=W,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case N:y=10;break e;case D:y=9;break e;case H:y=11;break e;case Y:y=14;break e;case Q:y=16,u=null;break e}y=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return r=mn(y,l,r,d),r.elementType=n,r.type=u,r.lanes=m,r}function Ys(n,r,l,u){return n=mn(7,n,u,r),n.lanes=l,n}function gh(n,r,l){return n=mn(6,n,null,r),n.lanes=l,n}function vh(n,r,l){return r=mn(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Xr=[],Wr=0,bu=null,Tu=0,In=[],kn=0,Qs=null,yi=1,Si="";function Xs(n,r){Xr[Wr++]=Tu,Xr[Wr++]=bu,bu=n,Tu=r}function Pg(n,r,l){In[kn++]=yi,In[kn++]=Si,In[kn++]=Qs,Qs=n;var u=yi;n=Si;var d=32-dn(u)-1;u&=~(1<<d),l+=1;var m=32-dn(r)+d;if(30<m){var y=d-d%5;m=(u&(1<<y)-1).toString(32),u>>=y,d-=y,yi=1<<32-dn(r)+d|l<<d|u,Si=m+n}else yi=1<<m|l<<d|u,Si=n}function yh(n){n.return!==null&&(Xs(n,1),Pg(n,1,0))}function Sh(n){for(;n===bu;)bu=Xr[--Wr],Xr[Wr]=null,Tu=Xr[--Wr],Xr[Wr]=null;for(;n===Qs;)Qs=In[--kn],In[kn]=null,Si=In[--kn],In[kn]=null,yi=In[--kn],In[kn]=null}var Yt=null,lt=null,Le=!1,Ws=null,ti=!1,Eh=Error(i(519));function Ks(n){var r=Error(i(418,""));throw El(Mn(r,n)),Eh}function Ug(n){var r=n.stateNode,l=n.type,u=n.memoizedProps;switch(r[Ht]=n,r[Zt]=u,l){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(l=0;l<ql.length;l++)Ce(ql[l],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Ce("invalid",r),Z_(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),uu(r);break;case"select":Ce("invalid",r);break;case"textarea":Ce("invalid",r),eg(r,u.value,u.defaultValue,u.children),uu(r)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||e0(r.textContent,l)?(u.popover!=null&&(Ce("beforetoggle",r),Ce("toggle",r)),u.onScroll!=null&&Ce("scroll",r),u.onScrollEnd!=null&&Ce("scrollend",r),u.onClick!=null&&(r.onclick=ic),r=!0):r=!1,r||Ks(n)}function zg(n){for(Yt=n.return;Yt;)switch(Yt.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Yt=Yt.return}}function yl(n){if(n!==Yt)return!1;if(!Le)return zg(n),Le=!0,!1;var r=n.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Ud(n.type,n.memoizedProps)),l=!l),l&&lt&&Ks(n),zg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(r===0){lt=qn(n.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;n=n.nextSibling}lt=null}}else r===27?(r=lt,hs(n.type)?(n=Hd,Hd=null,lt=n):lt=r):lt=Yt?qn(n.stateNode.nextSibling):null;return!0}function Sl(){lt=Yt=null,Le=!1}function jg(){var n=Ws;return n!==null&&(nn===null?nn=n:nn.push.apply(nn,n),Ws=null),n}function El(n){Ws===null?Ws=[n]:Ws.push(n)}var bh=k(null),$s=null,Ei=null;function $i(n,r,l){Z(bh,r._currentValue),r._currentValue=l}function bi(n){n._currentValue=bh.current,$(bh)}function Th(n,r,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===l)break;n=n.return}}function Ch(n,r,l,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var y=d.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=d;for(var R=0;R<r.length;R++)if(b.context===r[R]){m.lanes|=l,b=m.alternate,b!==null&&(b.lanes|=l),Th(m.return,l,n),u||(y=null);break e}m=b.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(i(341));y.lanes|=l,m=y.alternate,m!==null&&(m.lanes|=l),Th(y,l,n),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function bl(n,r,l,u){n=null;for(var d=r,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var b=d.type;pn(d.pendingProps.value,y.value)||(n!==null?n.push(b):n=[b])}}else if(d===xe.current){if(y=d.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}d=d.return}n!==null&&Ch(r,n,l,u),r.flags|=262144}function Cu(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Zs(n){$s=n,Ei=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ft(n){return Bg($s,n)}function wu(n,r){return $s===null&&Zs(n),Bg(n,r)}function Bg(n,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ei===null){if(n===null)throw Error(i(308));Ei=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ei=Ei.next=r;return l}var $C=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(l){return l()})}},ZC=s.unstable_scheduleCallback,JC=s.unstable_NormalPriority,Ct={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new $C,data:new Map,refCount:0}}function Tl(n){n.refCount--,n.refCount===0&&ZC(JC,function(){n.controller.abort()})}var Cl=null,Rh=0,Kr=0,$r=null;function ew(n,r){if(Cl===null){var l=Cl=[];Rh=0,Kr=Ad(),$r={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Rh++,r.then(Hg,Hg),r}function Hg(){if(--Rh===0&&Cl!==null){$r!==null&&($r.status="fulfilled");var n=Cl;Cl=null,Kr=0,$r=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function tw(n,r){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<l.length;d++)(0,l[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var Fg=U.S;U.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ew(n,r),Fg!==null&&Fg(n,r)};var Js=k(null);function xh(){var n=Js.current;return n!==null?n:Qe.pooledCache}function Ru(n,r){r===null?Z(Js,Js.current):Z(Js,r.pool)}function Vg(){var n=xh();return n===null?null:{parent:Ct._currentValue,pool:n}}var wl=Error(i(460)),Gg=Error(i(474)),xu=Error(i(542)),Ah={then:function(){}};function qg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Au(){}function Yg(n,r,l){switch(l=n[l],l===void 0?n.push(r):l!==r&&(r.then(Au,Au),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Xg(n),n;default:if(typeof r.status=="string")r.then(Au,Au);else{if(n=Qe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Xg(n),n}throw Rl=r,wl}}var Rl=null;function Qg(){if(Rl===null)throw Error(i(459));var n=Rl;return Rl=null,n}function Xg(n){if(n===wl||n===xu)throw Error(i(483))}var Zi=!1;function Nh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oh(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ji(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function es(n,r,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=Su(n),kg(n,null,l),r}return yu(n,u,r,l),Su(n)}function xl(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,l|=u,r.lanes=l,H_(n,l)}}function Mh(n,r){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var y={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=y:m=m.next=y,l=l.next}while(l!==null);m===null?d=m=r:m=m.next=r}else d=m=r;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}var Dh=!1;function Al(){if(Dh){var n=$r;if(n!==null)throw n}}function Nl(n,r,l,u){Dh=!1;var d=n.updateQueue;Zi=!1;var m=d.firstBaseUpdate,y=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var R=b,z=R.next;R.next=null,y===null?m=z:y.next=z,y=R;var q=n.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==y&&(b===null?q.firstBaseUpdate=z:b.next=z,q.lastBaseUpdate=R))}if(m!==null){var K=d.baseState;y=0,q=z=R=null,b=m;do{var j=b.lane&-536870913,B=j!==b.lane;if(B?(Me&j)===j:(u&j)===j){j!==0&&j===Kr&&(Dh=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=n,ce=b;j=r;var He=l;switch(ce.tag){case 1:if(_e=ce.payload,typeof _e=="function"){K=_e.call(He,K,j);break e}K=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ce.payload,j=typeof _e=="function"?_e.call(He,K,j):_e,j==null)break e;K=_({},K,j);break e;case 2:Zi=!0}}j=b.callback,j!==null&&(n.flags|=64,B&&(n.flags|=8192),B=d.callbacks,B===null?d.callbacks=[j]:B.push(j))}else B={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(z=q=B,R=K):q=q.next=B,y|=j;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;B=b,b=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);q===null&&(R=K),d.baseState=R,d.firstBaseUpdate=z,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),os|=y,n.lanes=y,n.memoizedState=K}}function Wg(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function Kg(n,r){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Wg(l[n],r)}var Zr=k(null),Nu=k(0);function $g(n,r){n=Ni,Z(Nu,n),Z(Zr,r),Ni=n|r.baseLanes}function Ih(){Z(Nu,Ni),Z(Zr,Zr.current)}function kh(){Ni=Nu.current,$(Zr),$(Nu)}var ts=0,ye=null,je=null,vt=null,Ou=!1,Jr=!1,er=!1,Mu=0,Ol=0,ea=null,nw=0;function dt(){throw Error(i(321))}function Lh(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!pn(n[l],r[l]))return!1;return!0}function Ph(n,r,l,u,d,m){return ts=m,ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=n===null||n.memoizedState===null?kv:Lv,er=!1,m=l(u,d),er=!1,Jr&&(m=Jg(r,l,u,d)),Zg(n),m}function Zg(n){U.H=Uu;var r=je!==null&&je.next!==null;if(ts=0,vt=je=ye=null,Ou=!1,Ol=0,ea=null,r)throw Error(i(300));n===null||Nt||(n=n.dependencies,n!==null&&Cu(n)&&(Nt=!0))}function Jg(n,r,l,u){ye=n;var d=0;do{if(Jr&&(ea=null),Ol=0,Jr=!1,25<=d)throw Error(i(301));if(d+=1,vt=je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=uw,m=r(l,u)}while(Jr);return m}function iw(){var n=U.H,r=n.useState()[0];return r=typeof r.then=="function"?Ml(r):r,n=n.useState()[0],(je!==null?je.memoizedState:null)!==n&&(ye.flags|=1024),r}function Uh(){var n=Mu!==0;return Mu=0,n}function zh(n,r,l){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~l}function jh(n){if(Ou){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ou=!1}ts=0,vt=je=ye=null,Jr=!1,Ol=Mu=0,ea=null}function en(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?ye.memoizedState=vt=n:vt=vt.next=n,vt}function yt(){if(je===null){var n=ye.alternate;n=n!==null?n.memoizedState:null}else n=je.next;var r=vt===null?ye.memoizedState:vt.next;if(r!==null)vt=r,je=n;else{if(n===null)throw ye.alternate===null?Error(i(467)):Error(i(310));je=n,n={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},vt===null?ye.memoizedState=vt=n:vt=vt.next=n}return vt}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(n){var r=Ol;return Ol+=1,ea===null&&(ea=[]),n=Yg(ea,n,r),r=ye,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?kv:Lv),n}function Du(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ml(n);if(n.$$typeof===N)return Ft(n)}throw Error(i(438,String(n)))}function Hh(n){var r=null,l=ye.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Bh(),ye.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(n),u=0;u<n;u++)l[u]=te;return r.index++,l}function Ti(n,r){return typeof r=="function"?r(n):r}function Iu(n){var r=yt();return Fh(r,je,n)}function Fh(n,r,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var d=n.baseQueue,m=u.pending;if(m!==null){if(d!==null){var y=d.next;d.next=m.next,m.next=y}r.baseQueue=d=m,u.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{r=d.next;var b=y=null,R=null,z=r,q=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Me&K)===K:(ts&K)===K){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Kr&&(q=!0);else if((ts&j)===j){z=z.next,j===Kr&&(q=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=K,y=m):R=R.next=K,ye.lanes|=j,os|=j;K=z.action,er&&l(m,K),m=z.hasEagerState?z.eagerState:l(m,K)}else j={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(b=R=j,y=m):R=R.next=j,ye.lanes|=K,os|=K;z=z.next}while(z!==null&&z!==r);if(R===null?y=m:R.next=b,!pn(m,n.memoizedState)&&(Nt=!0,q&&(l=$r,l!==null)))throw l;n.memoizedState=m,n.baseState=y,n.baseQueue=R,u.lastRenderedState=m}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Vh(n){var r=yt(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,d=l.pending,m=r.memoizedState;if(d!==null){l.pending=null;var y=d=d.next;do m=n(m,y.action),y=y.next;while(y!==d);pn(m,r.memoizedState)||(Nt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),l.lastRenderedState=m}return[m,u]}function ev(n,r,l){var u=ye,d=yt(),m=Le;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=r();var y=!pn((je||d).memoizedState,l);y&&(d.memoizedState=l,Nt=!0),d=d.queue;var b=iv.bind(null,u,d,n);if(Dl(2048,8,b,[n]),d.getSnapshot!==r||y||vt!==null&&vt.memoizedState.tag&1){if(u.flags|=2048,ta(9,ku(),nv.bind(null,u,d,l,r),null),Qe===null)throw Error(i(349));m||(ts&124)!==0||tv(u,r,l)}return l}function tv(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=ye.updateQueue,r===null?(r=Bh(),ye.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function nv(n,r,l,u){r.value=l,r.getSnapshot=u,sv(r)&&rv(n)}function iv(n,r,l){return l(function(){sv(r)&&rv(n)})}function sv(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!pn(n,l)}catch{return!0}}function rv(n){var r=Yr(n,2);r!==null&&Sn(r,n,2)}function Gh(n){var r=en();if(typeof n=="function"){var l=n;if(n=l(),er){Xi(!0);try{l()}finally{Xi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:n},r}function av(n,r,l,u){return n.baseState=l,Fh(n,je,typeof u=="function"?u:Ti)}function sw(n,r,l,u,d){if(Pu(n))throw Error(i(485));if(n=r.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};U.T!==null?l(!0):m.isTransition=!1,u(m),l=r.pending,l===null?(m.next=r.pending=m,lv(r,m)):(m.next=l.next,r.pending=l.next=m)}}function lv(n,r){var l=r.action,u=r.payload,d=n.state;if(r.isTransition){var m=U.T,y={};U.T=y;try{var b=l(d,u),R=U.S;R!==null&&R(y,b),ov(n,r,b)}catch(z){qh(n,r,z)}finally{U.T=m}}else try{m=l(d,u),ov(n,r,m)}catch(z){qh(n,r,z)}}function ov(n,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){uv(n,r,u)},function(u){return qh(n,r,u)}):uv(n,r,l)}function uv(n,r,l){r.status="fulfilled",r.value=l,cv(r),n.state=l,r=n.pending,r!==null&&(l=r.next,l===r?n.pending=null:(l=l.next,r.next=l,lv(n,l)))}function qh(n,r,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,cv(r),r=r.next;while(r!==u)}n.action=null}function cv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function fv(n,r){return r}function hv(n,r){if(Le){var l=Qe.formState;if(l!==null){e:{var u=ye;if(Le){if(lt){t:{for(var d=lt,m=ti;d.nodeType!==8;){if(!m){d=null;break t}if(d=qn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){lt=qn(d.nextSibling),u=d.data==="F!";break e}}Ks(u)}u=!1}u&&(r=l[0])}}return l=en(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:r},l.queue=u,l=Mv.bind(null,ye,u),u.dispatch=l,u=Gh(!1),m=Kh.bind(null,ye,!1,u.queue),u=en(),d={state:r,dispatch:null,action:n,pending:null},u.queue=d,l=sw.bind(null,ye,d,m,l),d.dispatch=l,u.memoizedState=n,[r,l,!1]}function dv(n){var r=yt();return pv(r,je,n)}function pv(n,r,l){if(r=Fh(n,r,fv)[0],n=Iu(Ti)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ml(r)}catch(y){throw y===wl?xu:y}else u=r;r=yt();var d=r.queue,m=d.dispatch;return l!==r.memoizedState&&(ye.flags|=2048,ta(9,ku(),rw.bind(null,d,l),null)),[u,m,n]}function rw(n,r){n.action=r}function mv(n){var r=yt(),l=je;if(l!==null)return pv(r,l,n);yt(),r=r.memoizedState,l=yt();var u=l.queue.dispatch;return l.memoizedState=n,[r,u,!1]}function ta(n,r,l,u){return n={tag:n,create:l,deps:u,inst:r,next:null},r=ye.updateQueue,r===null&&(r=Bh(),ye.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,r.lastEffect=n),n}function ku(){return{destroy:void 0,resource:void 0}}function _v(){return yt().memoizedState}function Lu(n,r,l,u){var d=en();u=u===void 0?null:u,ye.flags|=n,d.memoizedState=ta(1|r,ku(),l,u)}function Dl(n,r,l,u){var d=yt();u=u===void 0?null:u;var m=d.memoizedState.inst;je!==null&&u!==null&&Lh(u,je.memoizedState.deps)?d.memoizedState=ta(r,m,l,u):(ye.flags|=n,d.memoizedState=ta(1|r,m,l,u))}function gv(n,r){Lu(8390656,8,n,r)}function vv(n,r){Dl(2048,8,n,r)}function yv(n,r){return Dl(4,2,n,r)}function Sv(n,r){return Dl(4,4,n,r)}function Ev(n,r){if(typeof r=="function"){n=n();var l=r(n);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function bv(n,r,l){l=l!=null?l.concat([n]):null,Dl(4,4,Ev.bind(null,r,n),l)}function Yh(){}function Tv(n,r){var l=yt();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&Lh(r,u[1])?u[0]:(l.memoizedState=[n,r],n)}function Cv(n,r){var l=yt();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&Lh(r,u[1]))return u[0];if(u=n(),er){Xi(!0);try{n()}finally{Xi(!1)}}return l.memoizedState=[u,r],u}function Qh(n,r,l){return l===void 0||(ts&1073741824)!==0?n.memoizedState=r:(n.memoizedState=l,n=xy(),ye.lanes|=n,os|=n,l)}function wv(n,r,l,u){return pn(l,r)?l:Zr.current!==null?(n=Qh(n,l,u),pn(n,r)||(Nt=!0),n):(ts&42)===0?(Nt=!0,n.memoizedState=l):(n=xy(),ye.lanes|=n,os|=n,r)}function Rv(n,r,l,u,d){var m=G.p;G.p=m!==0&&8>m?m:8;var y=U.T,b={};U.T=b,Kh(n,!1,r,l);try{var R=d(),z=U.S;if(z!==null&&z(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=tw(R,u);Il(n,r,q,yn(n))}else Il(n,r,u,yn(n))}catch(K){Il(n,r,{then:function(){},status:"rejected",reason:K},yn())}finally{G.p=m,U.T=y}}function aw(){}function Xh(n,r,l,u){if(n.tag!==5)throw Error(i(476));var d=xv(n).queue;Rv(n,d,r,J,l===null?aw:function(){return Av(n),l(u)})}function xv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:J},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:l},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Av(n){var r=xv(n).next.queue;Il(n,r,{},yn())}function Wh(){return Ft($l)}function Nv(){return yt().memoizedState}function Ov(){return yt().memoizedState}function lw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var l=yn();n=Ji(l);var u=es(r,n,l);u!==null&&(Sn(u,r,l),xl(u,r,l)),r={cache:wh()},n.payload=r;return}r=r.return}}function ow(n,r,l){var u=yn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Pu(n)?Dv(r,l):(l=mh(n,r,l,u),l!==null&&(Sn(l,n,u),Iv(l,r,u)))}function Mv(n,r,l){var u=yn();Il(n,r,l,u)}function Il(n,r,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Pu(n))Dv(r,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var y=r.lastRenderedState,b=m(y,l);if(d.hasEagerState=!0,d.eagerState=b,pn(b,y))return yu(n,r,d,0),Qe===null&&vu(),!1}catch{}finally{}if(l=mh(n,r,d,u),l!==null)return Sn(l,n,u),Iv(l,r,u),!0}return!1}function Kh(n,r,l,u){if(u={lane:2,revertLane:Ad(),action:u,hasEagerState:!1,eagerState:null,next:null},Pu(n)){if(r)throw Error(i(479))}else r=mh(n,l,u,2),r!==null&&Sn(r,n,2)}function Pu(n){var r=n.alternate;return n===ye||r!==null&&r===ye}function Dv(n,r){Jr=Ou=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function Iv(n,r,l){if((l&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,l|=u,r.lanes=l,H_(n,l)}}var Uu={readContext:Ft,use:Du,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},kv={readContext:Ft,use:Du,useCallback:function(n,r){return en().memoizedState=[n,r===void 0?null:r],n},useContext:Ft,useEffect:gv,useImperativeHandle:function(n,r,l){l=l!=null?l.concat([n]):null,Lu(4194308,4,Ev.bind(null,r,n),l)},useLayoutEffect:function(n,r){return Lu(4194308,4,n,r)},useInsertionEffect:function(n,r){Lu(4,2,n,r)},useMemo:function(n,r){var l=en();r=r===void 0?null:r;var u=n();if(er){Xi(!0);try{n()}finally{Xi(!1)}}return l.memoizedState=[u,r],u},useReducer:function(n,r,l){var u=en();if(l!==void 0){var d=l(r);if(er){Xi(!0);try{l(r)}finally{Xi(!1)}}}else d=r;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=ow.bind(null,ye,n),[u.memoizedState,n]},useRef:function(n){var r=en();return n={current:n},r.memoizedState=n},useState:function(n){n=Gh(n);var r=n.queue,l=Mv.bind(null,ye,r);return r.dispatch=l,[n.memoizedState,l]},useDebugValue:Yh,useDeferredValue:function(n,r){var l=en();return Qh(l,n,r)},useTransition:function(){var n=Gh(!1);return n=Rv.bind(null,ye,n.queue,!0,!1),en().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,l){var u=ye,d=en();if(Le){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Qe===null)throw Error(i(349));(Me&124)!==0||tv(u,r,l)}d.memoizedState=l;var m={value:l,getSnapshot:r};return d.queue=m,gv(iv.bind(null,u,m,n),[n]),u.flags|=2048,ta(9,ku(),nv.bind(null,u,m,l,r),null),l},useId:function(){var n=en(),r=Qe.identifierPrefix;if(Le){var l=Si,u=yi;l=(u&~(1<<32-dn(u)-1)).toString(32)+l,r=""+r+"R"+l,l=Mu++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=nw++,r=""+r+"r"+l.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Wh,useFormState:hv,useActionState:hv,useOptimistic:function(n){var r=en();r.memoizedState=r.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Kh.bind(null,ye,!0,l),l.dispatch=r,[n,r]},useMemoCache:Hh,useCacheRefresh:function(){return en().memoizedState=lw.bind(null,ye)}},Lv={readContext:Ft,use:Du,useCallback:Tv,useContext:Ft,useEffect:vv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:Sv,useMemo:Cv,useReducer:Iu,useRef:_v,useState:function(){return Iu(Ti)},useDebugValue:Yh,useDeferredValue:function(n,r){var l=yt();return wv(l,je.memoizedState,n,r)},useTransition:function(){var n=Iu(Ti)[0],r=yt().memoizedState;return[typeof n=="boolean"?n:Ml(n),r]},useSyncExternalStore:ev,useId:Nv,useHostTransitionStatus:Wh,useFormState:dv,useActionState:dv,useOptimistic:function(n,r){var l=yt();return av(l,je,n,r)},useMemoCache:Hh,useCacheRefresh:Ov},uw={readContext:Ft,use:Du,useCallback:Tv,useContext:Ft,useEffect:vv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:Sv,useMemo:Cv,useReducer:Vh,useRef:_v,useState:function(){return Vh(Ti)},useDebugValue:Yh,useDeferredValue:function(n,r){var l=yt();return je===null?Qh(l,n,r):wv(l,je.memoizedState,n,r)},useTransition:function(){var n=Vh(Ti)[0],r=yt().memoizedState;return[typeof n=="boolean"?n:Ml(n),r]},useSyncExternalStore:ev,useId:Nv,useHostTransitionStatus:Wh,useFormState:mv,useActionState:mv,useOptimistic:function(n,r){var l=yt();return je!==null?av(l,je,n,r):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:Ov},na=null,kl=0;function zu(n){var r=kl;return kl+=1,na===null&&(na=[]),Yg(na,n,r)}function Ll(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ju(n,r){throw r.$$typeof===g?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Pv(n){var r=n._init;return r(n._payload)}function Uv(n){function r(I,O){if(n){var P=I.deletions;P===null?(I.deletions=[O],I.flags|=16):P.push(O)}}function l(I,O){if(!n)return null;for(;O!==null;)r(I,O),O=O.sibling;return null}function u(I){for(var O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function d(I,O){return I=vi(I,O),I.index=0,I.sibling=null,I}function m(I,O,P){return I.index=P,n?(P=I.alternate,P!==null?(P=P.index,P<O?(I.flags|=67108866,O):P):(I.flags|=67108866,O)):(I.flags|=1048576,O)}function y(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function b(I,O,P,X){return O===null||O.tag!==6?(O=gh(P,I.mode,X),O.return=I,O):(O=d(O,P),O.return=I,O)}function R(I,O,P,X){var re=P.type;return re===T?q(I,O,P.props.children,X,P.key):O!==null&&(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Q&&Pv(re)===O.type)?(O=d(O,P.props),Ll(O,P),O.return=I,O):(O=Eu(P.type,P.key,P.props,null,I.mode,X),Ll(O,P),O.return=I,O)}function z(I,O,P,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=vh(P,I.mode,X),O.return=I,O):(O=d(O,P.children||[]),O.return=I,O)}function q(I,O,P,X,re){return O===null||O.tag!==7?(O=Ys(P,I.mode,X,re),O.return=I,O):(O=d(O,P),O.return=I,O)}function K(I,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gh(""+O,I.mode,P),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return P=Eu(O.type,O.key,O.props,null,I.mode,P),Ll(P,O),P.return=I,P;case E:return O=vh(O,I.mode,P),O.return=I,O;case Q:var X=O._init;return O=X(O._payload),K(I,O,P)}if(ae(O)||oe(O))return O=Ys(O,I.mode,P,null),O.return=I,O;if(typeof O.then=="function")return K(I,zu(O),P);if(O.$$typeof===N)return K(I,wu(I,O),P);ju(I,O)}return null}function j(I,O,P,X){var re=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return re!==null?null:b(I,O,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return P.key===re?R(I,O,P,X):null;case E:return P.key===re?z(I,O,P,X):null;case Q:return re=P._init,P=re(P._payload),j(I,O,P,X)}if(ae(P)||oe(P))return re!==null?null:q(I,O,P,X,null);if(typeof P.then=="function")return j(I,O,zu(P),X);if(P.$$typeof===N)return j(I,O,wu(I,P),X);ju(I,P)}return null}function B(I,O,P,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return I=I.get(P)||null,b(O,I,""+X,re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return I=I.get(X.key===null?P:X.key)||null,R(O,I,X,re);case E:return I=I.get(X.key===null?P:X.key)||null,z(O,I,X,re);case Q:var Se=X._init;return X=Se(X._payload),B(I,O,P,X,re)}if(ae(X)||oe(X))return I=I.get(P)||null,q(O,I,X,re,null);if(typeof X.then=="function")return B(I,O,P,zu(X),re);if(X.$$typeof===N)return B(I,O,P,wu(O,X),re);ju(O,X)}return null}function _e(I,O,P,X){for(var re=null,Se=null,le=O,de=O=0,Mt=null;le!==null&&de<P.length;de++){le.index>de?(Mt=le,le=null):Mt=le.sibling;var Ie=j(I,le,P[de],X);if(Ie===null){le===null&&(le=Mt);break}n&&le&&Ie.alternate===null&&r(I,le),O=m(Ie,O,de),Se===null?re=Ie:Se.sibling=Ie,Se=Ie,le=Mt}if(de===P.length)return l(I,le),Le&&Xs(I,de),re;if(le===null){for(;de<P.length;de++)le=K(I,P[de],X),le!==null&&(O=m(le,O,de),Se===null?re=le:Se.sibling=le,Se=le);return Le&&Xs(I,de),re}for(le=u(le);de<P.length;de++)Mt=B(le,I,de,P[de],X),Mt!==null&&(n&&Mt.alternate!==null&&le.delete(Mt.key===null?de:Mt.key),O=m(Mt,O,de),Se===null?re=Mt:Se.sibling=Mt,Se=Mt);return n&&le.forEach(function(gs){return r(I,gs)}),Le&&Xs(I,de),re}function ce(I,O,P,X){if(P==null)throw Error(i(151));for(var re=null,Se=null,le=O,de=O=0,Mt=null,Ie=P.next();le!==null&&!Ie.done;de++,Ie=P.next()){le.index>de?(Mt=le,le=null):Mt=le.sibling;var gs=j(I,le,Ie.value,X);if(gs===null){le===null&&(le=Mt);break}n&&le&&gs.alternate===null&&r(I,le),O=m(gs,O,de),Se===null?re=gs:Se.sibling=gs,Se=gs,le=Mt}if(Ie.done)return l(I,le),Le&&Xs(I,de),re;if(le===null){for(;!Ie.done;de++,Ie=P.next())Ie=K(I,Ie.value,X),Ie!==null&&(O=m(Ie,O,de),Se===null?re=Ie:Se.sibling=Ie,Se=Ie);return Le&&Xs(I,de),re}for(le=u(le);!Ie.done;de++,Ie=P.next())Ie=B(le,I,de,Ie.value,X),Ie!==null&&(n&&Ie.alternate!==null&&le.delete(Ie.key===null?de:Ie.key),O=m(Ie,O,de),Se===null?re=Ie:Se.sibling=Ie,Se=Ie);return n&&le.forEach(function(cR){return r(I,cR)}),Le&&Xs(I,de),re}function He(I,O,P,X){if(typeof P=="object"&&P!==null&&P.type===T&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case v:e:{for(var re=P.key;O!==null;){if(O.key===re){if(re=P.type,re===T){if(O.tag===7){l(I,O.sibling),X=d(O,P.props.children),X.return=I,I=X;break e}}else if(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Q&&Pv(re)===O.type){l(I,O.sibling),X=d(O,P.props),Ll(X,P),X.return=I,I=X;break e}l(I,O);break}else r(I,O);O=O.sibling}P.type===T?(X=Ys(P.props.children,I.mode,X,P.key),X.return=I,I=X):(X=Eu(P.type,P.key,P.props,null,I.mode,X),Ll(X,P),X.return=I,I=X)}return y(I);case E:e:{for(re=P.key;O!==null;){if(O.key===re)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){l(I,O.sibling),X=d(O,P.children||[]),X.return=I,I=X;break e}else{l(I,O);break}else r(I,O);O=O.sibling}X=vh(P,I.mode,X),X.return=I,I=X}return y(I);case Q:return re=P._init,P=re(P._payload),He(I,O,P,X)}if(ae(P))return _e(I,O,P,X);if(oe(P)){if(re=oe(P),typeof re!="function")throw Error(i(150));return P=re.call(P),ce(I,O,P,X)}if(typeof P.then=="function")return He(I,O,zu(P),X);if(P.$$typeof===N)return He(I,O,wu(I,P),X);ju(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(l(I,O.sibling),X=d(O,P),X.return=I,I=X):(l(I,O),X=gh(P,I.mode,X),X.return=I,I=X),y(I)):l(I,O)}return function(I,O,P,X){try{kl=0;var re=He(I,O,P,X);return na=null,re}catch(le){if(le===wl||le===xu)throw le;var Se=mn(29,le,null,I.mode);return Se.lanes=X,Se.return=I,Se}finally{}}}var ia=Uv(!0),zv=Uv(!1),Ln=k(null),ni=null;function ns(n){var r=n.alternate;Z(wt,wt.current&1),Z(Ln,n),ni===null&&(r===null||Zr.current!==null||r.memoizedState!==null)&&(ni=n)}function jv(n){if(n.tag===22){if(Z(wt,wt.current),Z(Ln,n),ni===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ni=n)}}else is()}function is(){Z(wt,wt.current),Z(Ln,Ln.current)}function Ci(n){$(Ln),ni===n&&(ni=null),$(wt)}var wt=k(0);function Bu(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Bd(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function $h(n,r,l,u){r=n.memoizedState,l=l(u,r),l=l==null?r:_({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Zh={enqueueSetState:function(n,r,l){n=n._reactInternals;var u=yn(),d=Ji(u);d.payload=r,l!=null&&(d.callback=l),r=es(n,d,u),r!==null&&(Sn(r,n,u),xl(r,n,u))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var u=yn(),d=Ji(u);d.tag=1,d.payload=r,l!=null&&(d.callback=l),r=es(n,d,u),r!==null&&(Sn(r,n,u),xl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=yn(),u=Ji(l);u.tag=2,r!=null&&(u.callback=r),r=es(n,u,l),r!==null&&(Sn(r,n,l),xl(r,n,l))}};function Bv(n,r,l,u,d,m,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,y):r.prototype&&r.prototype.isPureReactComponent?!gl(l,u)||!gl(d,m):!0}function Hv(n,r,l,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==n&&Zh.enqueueReplaceState(r,r.state,null)}function tr(n,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(n=n.defaultProps){l===r&&(l=_({},l));for(var d in n)l[d]===void 0&&(l[d]=n[d])}return l}var Hu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Fv(n){Hu(n)}function Vv(n){console.error(n)}function Gv(n){Hu(n)}function Fu(n,r){try{var l=n.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function qv(n,r,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Jh(n,r,l){return l=Ji(l),l.tag=3,l.payload={element:null},l.callback=function(){Fu(n,r)},l}function Yv(n){return n=Ji(n),n.tag=3,n}function Qv(n,r,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;n.payload=function(){return d(m)},n.callback=function(){qv(r,l,u)}}var y=l.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){qv(r,l,u),typeof d!="function"&&(us===null?us=new Set([this]):us.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function cw(n,r,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&bl(r,l,d,!0),l=Ln.current,l!==null){switch(l.tag){case 13:return ni===null?Td():l.alternate===null&&ot===0&&(ot=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===Ah?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),wd(n,u,d)),!1;case 22:return l.flags|=65536,u===Ah?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),wd(n,u,d)),!1}throw Error(i(435,l.tag))}return wd(n,u,d),Td(),!1}if(Le)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Eh&&(n=Error(i(422),{cause:u}),El(Mn(n,l)))):(u!==Eh&&(r=Error(i(423),{cause:u}),El(Mn(r,l))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=Mn(u,l),d=Jh(n.stateNode,u,d),Mh(n,d),ot!==4&&(ot=2)),!1;var m=Error(i(520),{cause:u});if(m=Mn(m,l),Fl===null?Fl=[m]:Fl.push(m),ot!==4&&(ot=2),r===null)return!0;u=Mn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,n=d&-d,l.lanes|=n,n=Jh(l.stateNode,u,n),Mh(l,n),!1;case 1:if(r=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(us===null||!us.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Yv(d),Qv(d,n,l,u),Mh(l,d),!1}l=l.return}while(l!==null);return!1}var Xv=Error(i(461)),Nt=!1;function Lt(n,r,l,u){r.child=n===null?zv(r,null,l,u):ia(r,n.child,l,u)}function Wv(n,r,l,u,d){l=l.render;var m=r.ref;if("ref"in u){var y={};for(var b in u)b!=="ref"&&(y[b]=u[b])}else y=u;return Zs(r),u=Ph(n,r,l,y,m,d),b=Uh(),n!==null&&!Nt?(zh(n,r,d),wi(n,r,d)):(Le&&b&&yh(r),r.flags|=1,Lt(n,r,u,d),r.child)}function Kv(n,r,l,u,d){if(n===null){var m=l.type;return typeof m=="function"&&!_h(m)&&m.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=m,$v(n,r,m,u,d)):(n=Eu(l.type,null,u,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!ld(n,d)){var y=m.memoizedProps;if(l=l.compare,l=l!==null?l:gl,l(y,u)&&n.ref===r.ref)return wi(n,r,d)}return r.flags|=1,n=vi(m,u),n.ref=r.ref,n.return=r,r.child=n}function $v(n,r,l,u,d){if(n!==null){var m=n.memoizedProps;if(gl(m,u)&&n.ref===r.ref)if(Nt=!1,r.pendingProps=u=m,ld(n,d))(n.flags&131072)!==0&&(Nt=!0);else return r.lanes=n.lanes,wi(n,r,d)}return ed(n,r,l,u,d)}function Zv(n,r,l){var u=r.pendingProps,d=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,n!==null){for(d=r.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return Jv(n,r,u,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ru(r,m!==null?m.cachePool:null),m!==null?$g(r,m):Ih(),jv(r);else return r.lanes=r.childLanes=536870912,Jv(n,r,m!==null?m.baseLanes|l:l,l)}else m!==null?(Ru(r,m.cachePool),$g(r,m),is(),r.memoizedState=null):(n!==null&&Ru(r,null),Ih(),is());return Lt(n,r,d,l),r.child}function Jv(n,r,l,u){var d=xh();return d=d===null?null:{parent:Ct._currentValue,pool:d},r.memoizedState={baseLanes:l,cachePool:d},n!==null&&Ru(r,null),Ih(),jv(r),n!==null&&bl(n,r,u,!0),null}function Vu(n,r){var l=r.ref;if(l===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(r.flags|=4194816)}}function ed(n,r,l,u,d){return Zs(r),l=Ph(n,r,l,u,void 0,d),u=Uh(),n!==null&&!Nt?(zh(n,r,d),wi(n,r,d)):(Le&&u&&yh(r),r.flags|=1,Lt(n,r,l,d),r.child)}function ey(n,r,l,u,d,m){return Zs(r),r.updateQueue=null,l=Jg(r,u,l,d),Zg(n),u=Uh(),n!==null&&!Nt?(zh(n,r,m),wi(n,r,m)):(Le&&u&&yh(r),r.flags|=1,Lt(n,r,l,m),r.child)}function ty(n,r,l,u,d){if(Zs(r),r.stateNode===null){var m=Qr,y=l.contextType;typeof y=="object"&&y!==null&&(m=Ft(y)),m=new l(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Zh,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Nh(r),y=l.contextType,m.context=typeof y=="object"&&y!==null?Ft(y):Qr,m.state=r.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&($h(r,l,y,u),m.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&Zh.enqueueReplaceState(m,m.state,null),Nl(r,u,m,d),Al(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var b=r.memoizedProps,R=tr(l,b);m.props=R;var z=m.context,q=l.contextType;y=Qr,typeof q=="object"&&q!==null&&(y=Ft(q));var K=l.getDerivedStateFromProps;q=typeof K=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||z!==y)&&Hv(r,m,u,y),Zi=!1;var j=r.memoizedState;m.state=j,Nl(r,u,m,d),Al(),z=r.memoizedState,b||j!==z||Zi?(typeof K=="function"&&($h(r,l,K,u),z=r.memoizedState),(R=Zi||Bv(r,l,R,u,j,z,y))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=z),m.props=u,m.state=z,m.context=y,u=R):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Oh(n,r),y=r.memoizedProps,q=tr(l,y),m.props=q,K=r.pendingProps,j=m.context,z=l.contextType,R=Qr,typeof z=="object"&&z!==null&&(R=Ft(z)),b=l.getDerivedStateFromProps,(z=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==K||j!==R)&&Hv(r,m,u,R),Zi=!1,j=r.memoizedState,m.state=j,Nl(r,u,m,d),Al();var B=r.memoizedState;y!==K||j!==B||Zi||n!==null&&n.dependencies!==null&&Cu(n.dependencies)?(typeof b=="function"&&($h(r,l,b,u),B=r.memoizedState),(q=Zi||Bv(r,l,q,u,j,B,R)||n!==null&&n.dependencies!==null&&Cu(n.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,B,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,B,R)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=B),m.props=u,m.state=B,m.context=R,u=q):(typeof m.componentDidUpdate!="function"||y===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Vu(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=ia(r,n.child,null,d),r.child=ia(r,null,l,d)):Lt(n,r,l,d),r.memoizedState=m.state,n=r.child):n=wi(n,r,d),n}function ny(n,r,l,u){return Sl(),r.flags|=256,Lt(n,r,l,u),r.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(n){return{baseLanes:n,cachePool:Vg()}}function id(n,r,l){return n=n!==null?n.childLanes&~l:0,r&&(n|=Pn),n}function iy(n,r,l){var u=r.pendingProps,d=!1,m=(r.flags&128)!==0,y;if((y=m)||(y=n!==null&&n.memoizedState===null?!1:(wt.current&2)!==0),y&&(d=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,n===null){if(Le){if(d?ns(r):is(),Le){var b=lt,R;if(R=b){e:{for(R=b,b=ti;R.nodeType!==8;){if(!b){b=null;break e}if(R=qn(R.nextSibling),R===null){b=null;break e}}b=R}b!==null?(r.memoizedState={dehydrated:b,treeContext:Qs!==null?{id:yi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},R=mn(18,null,null,0),R.stateNode=b,R.return=r,r.child=R,Yt=r,lt=null,R=!0):R=!1}R||Ks(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Bd(b)?r.lanes=32:r.lanes=536870912,null;Ci(r)}return b=u.children,u=u.fallback,d?(is(),d=r.mode,b=Gu({mode:"hidden",children:b},d),u=Ys(u,d,l,null),b.return=r,u.return=r,b.sibling=u,r.child=b,d=r.child,d.memoizedState=nd(l),d.childLanes=id(n,y,l),r.memoizedState=td,u):(ns(r),sd(r,b))}if(R=n.memoizedState,R!==null&&(b=R.dehydrated,b!==null)){if(m)r.flags&256?(ns(r),r.flags&=-257,r=rd(n,r,l)):r.memoizedState!==null?(is(),r.child=n.child,r.flags|=128,r=null):(is(),d=u.fallback,b=r.mode,u=Gu({mode:"visible",children:u.children},b),d=Ys(d,b,l,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,ia(r,n.child,null,l),u=r.child,u.memoizedState=nd(l),u.childLanes=id(n,y,l),r.memoizedState=td,r=d);else if(ns(r),Bd(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var z=y.dgst;y=z,u=Error(i(419)),u.stack="",u.digest=y,El({value:u,source:null,stack:null}),r=rd(n,r,l)}else if(Nt||bl(n,r,l,!1),y=(l&n.childLanes)!==0,Nt||y){if(y=Qe,y!==null&&(u=l&-l,u=(u&42)!==0?1:Hf(u),u=(u&(y.suspendedLanes|l))!==0?0:u,u!==0&&u!==R.retryLane))throw R.retryLane=u,Yr(n,u),Sn(y,n,u),Xv;b.data==="$?"||Td(),r=rd(n,r,l)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=R.treeContext,lt=qn(b.nextSibling),Yt=r,Le=!0,Ws=null,ti=!1,n!==null&&(In[kn++]=yi,In[kn++]=Si,In[kn++]=Qs,yi=n.id,Si=n.overflow,Qs=r),r=sd(r,u.children),r.flags|=4096);return r}return d?(is(),d=u.fallback,b=r.mode,R=n.child,z=R.sibling,u=vi(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,z!==null?d=vi(z,d):(d=Ys(d,b,l,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,b=n.child.memoizedState,b===null?b=nd(l):(R=b.cachePool,R!==null?(z=Ct._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Vg(),b={baseLanes:b.baseLanes|l,cachePool:R}),d.memoizedState=b,d.childLanes=id(n,y,l),r.memoizedState=td,u):(ns(r),l=n.child,n=l.sibling,l=vi(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,n!==null&&(y=r.deletions,y===null?(r.deletions=[n],r.flags|=16):y.push(n)),r.child=l,r.memoizedState=null,l)}function sd(n,r){return r=Gu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Gu(n,r){return n=mn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function rd(n,r,l){return ia(r,n.child,null,l),n=sd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function sy(n,r,l){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Th(n.return,r,l)}function ad(n,r,l,u,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=d)}function ry(n,r,l){var u=r.pendingProps,d=u.revealOrder,m=u.tail;if(Lt(n,r,u.children,l),u=wt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&sy(n,l,r);else if(n.tag===19)sy(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Z(wt,u),d){case"forwards":for(l=r.child,d=null;l!==null;)n=l.alternate,n!==null&&Bu(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=r.child,r.child=null):(d=l.sibling,l.sibling=null),ad(r,!1,d,l,m);break;case"backwards":for(l=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Bu(n)===null){r.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}ad(r,!0,l,null,m);break;case"together":ad(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function wi(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),os|=r.lanes,(l&r.childLanes)===0)if(n!==null){if(bl(n,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,l=vi(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=vi(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function ld(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Cu(n)))}function fw(n,r,l){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),$i(r,Ct,n.memoizedState.cache),Sl();break;case 27:case 5:me(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:$i(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ns(r),r.flags|=128,null):(l&r.child.childLanes)!==0?iy(n,r,l):(ns(r),n=wi(n,r,l),n!==null?n.sibling:null);ns(r);break;case 19:var d=(n.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(bl(n,r,l,!1),u=(l&r.childLanes)!==0),d){if(u)return ry(n,r,l);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(wt,wt.current),u)break;return null;case 22:case 23:return r.lanes=0,Zv(n,r,l);case 24:$i(r,Ct,n.memoizedState.cache)}return wi(n,r,l)}function ay(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps)Nt=!0;else{if(!ld(n,l)&&(r.flags&128)===0)return Nt=!1,fw(n,r,l);Nt=(n.flags&131072)!==0}else Nt=!1,Le&&(r.flags&1048576)!==0&&Pg(r,Tu,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")_h(u)?(n=tr(u,n),r.tag=1,r=ty(null,r,u,n,l)):(r.tag=0,r=ed(null,r,u,n,l));else{if(u!=null){if(d=u.$$typeof,d===H){r.tag=11,r=Wv(null,r,u,n,l);break e}else if(d===Y){r.tag=14,r=Kv(null,r,u,n,l);break e}}throw r=ue(u)||u,Error(i(306,r,""))}}return r;case 0:return ed(n,r,r.type,r.pendingProps,l);case 1:return u=r.type,d=tr(u,r.pendingProps),ty(n,r,u,d,l);case 3:e:{if(Ae(r,r.stateNode.containerInfo),n===null)throw Error(i(387));u=r.pendingProps;var m=r.memoizedState;d=m.element,Oh(n,r),Nl(r,u,null,l);var y=r.memoizedState;if(u=y.cache,$i(r,Ct,u),u!==m.cache&&Ch(r,[Ct],l,!0),Al(),u=y.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=ny(n,r,u,l);break e}else if(u!==d){d=Mn(Error(i(424)),r),El(d),r=ny(n,r,u,l);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(lt=qn(n.firstChild),Yt=r,Le=!0,Ws=null,ti=!0,l=zv(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Sl(),u===d){r=wi(n,r,l);break e}Lt(n,r,u,l)}r=r.child}return r;case 26:return Vu(n,r),n===null?(l=c0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Le||(l=r.type,n=r.pendingProps,u=sc(se.current).createElement(l),u[Ht]=r,u[Zt]=n,Ut(u,l,n),At(u),r.stateNode=u):r.memoizedState=c0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return me(r),n===null&&Le&&(u=r.stateNode=l0(r.type,r.pendingProps,se.current),Yt=r,ti=!0,d=lt,hs(r.type)?(Hd=d,lt=qn(u.firstChild)):lt=d),Lt(n,r,r.pendingProps.children,l),Vu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Le&&((d=u=lt)&&(u=jw(u,r.type,r.pendingProps,ti),u!==null?(r.stateNode=u,Yt=r,lt=qn(u.firstChild),ti=!1,d=!0):d=!1),d||Ks(r)),me(r),d=r.type,m=r.pendingProps,y=n!==null?n.memoizedProps:null,u=m.children,Ud(d,m)?u=null:y!==null&&Ud(d,y)&&(r.flags|=32),r.memoizedState!==null&&(d=Ph(n,r,iw,null,null,l),$l._currentValue=d),Vu(n,r),Lt(n,r,u,l),r.child;case 6:return n===null&&Le&&((n=l=lt)&&(l=Bw(l,r.pendingProps,ti),l!==null?(r.stateNode=l,Yt=r,lt=null,n=!0):n=!1),n||Ks(r)),null;case 13:return iy(n,r,l);case 4:return Ae(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=ia(r,null,u,l):Lt(n,r,u,l),r.child;case 11:return Wv(n,r,r.type,r.pendingProps,l);case 7:return Lt(n,r,r.pendingProps,l),r.child;case 8:return Lt(n,r,r.pendingProps.children,l),r.child;case 12:return Lt(n,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,$i(r,r.type,u.value),Lt(n,r,u.children,l),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Zs(r),d=Ft(d),u=u(d),r.flags|=1,Lt(n,r,u,l),r.child;case 14:return Kv(n,r,r.type,r.pendingProps,l);case 15:return $v(n,r,r.type,r.pendingProps,l);case 19:return ry(n,r,l);case 31:return u=r.pendingProps,l=r.mode,u={mode:u.mode,children:u.children},n===null?(l=Gu(u,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=vi(n.child,u),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Zv(n,r,l);case 24:return Zs(r),u=Ft(Ct),n===null?(d=xh(),d===null&&(d=Qe,m=wh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),r.memoizedState={parent:u,cache:d},Nh(r),$i(r,Ct,d)):((n.lanes&l)!==0&&(Oh(n,r),Nl(r,null,null,l),Al()),d=n.memoizedState,m=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),$i(r,Ct,u)):(u=m.cache,$i(r,Ct,u),u!==d.cache&&Ch(r,[Ct],l,!0))),Lt(n,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ri(n){n.flags|=4}function ly(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!m0(r)){if(r=Ln.current,r!==null&&((Me&4194048)===Me?ni!==null:(Me&62914560)!==Me&&(Me&536870912)===0||r!==ni))throw Rl=Ah,Gg;n.flags|=8192}}function qu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?j_():536870912,n.lanes|=r,la|=r)}function Pl(n,r){if(!Le)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function tt(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(r)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=l,r}function hw(n,r,l){var u=r.pendingProps;switch(Sh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return tt(r),null;case 3:return l=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),bi(Ct),_t(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(yl(r)?Ri(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jg())),tt(r),null;case 26:return l=r.memoizedState,n===null?(Ri(r),l!==null?(tt(r),ly(r,l)):(tt(r),r.flags&=-16777217)):l?l!==n.memoizedState?(Ri(r),tt(r),ly(r,l)):(tt(r),r.flags&=-16777217):(n.memoizedProps!==u&&Ri(r),tt(r),r.flags&=-16777217),null;case 27:Oe(r),l=se.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ri(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return tt(r),null}n=F.current,yl(r)?Ug(r):(n=l0(d,u,l),r.stateNode=n,Ri(r))}return tt(r),null;case 5:if(Oe(r),l=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ri(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return tt(r),null}if(n=F.current,yl(r))Ug(r);else{switch(d=sc(se.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}n[Ht]=r,n[Zt]=u;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;e:switch(Ut(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ri(r)}}return tt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Ri(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(n=se.current,yl(r)){if(n=r.stateNode,l=r.memoizedProps,u=null,d=Yt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[Ht]=r,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||e0(n.nodeValue,l)),n||Ks(r)}else n=sc(n).createTextNode(u),n[Ht]=r,r.stateNode=n}return tt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=yl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ht]=r}else Sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tt(r),d=!1}else d=jg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Ci(r),r):(Ci(r),null)}if(Ci(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)}return l!==n&&l&&(r.child.flags|=8192),qu(r,r.updateQueue),tt(r),null;case 4:return _t(),n===null&&Dd(r.stateNode.containerInfo),tt(r),null;case 10:return bi(r.type),tt(r),null;case 19:if($(wt),d=r.memoizedState,d===null)return tt(r),null;if(u=(r.flags&128)!==0,m=d.rendering,m===null)if(u)Pl(d,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Bu(n),m!==null){for(r.flags|=128,Pl(d,!1),n=m.updateQueue,r.updateQueue=n,qu(r,n),r.subtreeFlags=0,n=l,l=r.child;l!==null;)Lg(l,n),l=l.sibling;return Z(wt,wt.current&1|2),r.child}n=n.sibling}d.tail!==null&&gt()>Xu&&(r.flags|=128,u=!0,Pl(d,!1),r.lanes=4194304)}else{if(!u)if(n=Bu(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,qu(r,n),Pl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Le)return tt(r),null}else 2*gt()-d.renderingStartTime>Xu&&l!==536870912&&(r.flags|=128,u=!0,Pl(d,!1),r.lanes=4194304);d.isBackwards?(m.sibling=r.child,r.child=m):(n=d.last,n!==null?n.sibling=m:r.child=m,d.last=m)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=gt(),r.sibling=null,n=wt.current,Z(wt,u?n&1|2:n&1),r):(tt(r),null);case 22:case 23:return Ci(r),kh(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),l=r.updateQueue,l!==null&&qu(r,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),n!==null&&$(Js),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),bi(Ct),tt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function dw(n,r){switch(Sh(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return bi(Ct),_t(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Oe(r),null;case 13:if(Ci(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Sl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return $(wt),null;case 4:return _t(),null;case 10:return bi(r.type),null;case 22:case 23:return Ci(r),kh(),n!==null&&$(Js),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return bi(Ct),null;case 25:return null;default:return null}}function oy(n,r){switch(Sh(r),r.tag){case 3:bi(Ct),_t();break;case 26:case 27:case 5:Oe(r);break;case 4:_t();break;case 13:Ci(r);break;case 19:$(wt);break;case 10:bi(r.type);break;case 22:case 23:Ci(r),kh(),n!==null&&$(Js);break;case 24:bi(Ct)}}function Ul(n,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&n)===n){u=void 0;var m=l.create,y=l.inst;u=m(),y.destroy=u}l=l.next}while(l!==d)}}catch(b){Ge(r,r.return,b)}}function ss(n,r,l){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&n)===n){var y=u.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,d=r;var R=l,z=b;try{z()}catch(q){Ge(d,R,q)}}}u=u.next}while(u!==m)}}catch(q){Ge(r,r.return,q)}}function uy(n){var r=n.updateQueue;if(r!==null){var l=n.stateNode;try{Kg(r,l)}catch(u){Ge(n,n.return,u)}}}function cy(n,r,l){l.props=tr(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Ge(n,r,u)}}function zl(n,r){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(d){Ge(n,r,d)}}function ii(n,r){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){Ge(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Ge(n,r,d)}else l.current=null}function fy(n){var r=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){Ge(n,n.return,d)}}function od(n,r,l){try{var u=n.stateNode;kw(u,n.type,l,r),u[Zt]=r}catch(d){Ge(n,n.return,d)}}function hy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&hs(n.type)||n.tag===4}function ud(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&hs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cd(n,r,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(n),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ic));else if(u!==4&&(u===27&&hs(n.type)&&(l=n.stateNode,r=null),n=n.child,n!==null))for(cd(n,r,l),n=n.sibling;n!==null;)cd(n,r,l),n=n.sibling}function Yu(n,r,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(u!==4&&(u===27&&hs(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Yu(n,r,l),n=n.sibling;n!==null;)Yu(n,r,l),n=n.sibling}function dy(n){var r=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Ut(r,u,l),r[Ht]=n,r[Zt]=l}catch(m){Ge(n,n.return,m)}}var xi=!1,pt=!1,fd=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function pw(n,r){if(n=n.containerInfo,Ld=cc,n=wg(n),uh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var y=0,b=-1,R=-1,z=0,q=0,K=n,j=null;t:for(;;){for(var B;K!==l||d!==0&&K.nodeType!==3||(b=y+d),K!==m||u!==0&&K.nodeType!==3||(R=y+u),K.nodeType===3&&(y+=K.nodeValue.length),(B=K.firstChild)!==null;)j=K,K=B;for(;;){if(K===n)break t;if(j===l&&++z===d&&(b=y),j===m&&++q===u&&(R=y),(B=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=B}l=b===-1||R===-1?null:{start:b,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pd={focusedElem:n,selectionRange:l},cc=!1,Ot=r;Ot!==null;)if(r=Ot,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ot=n;else for(;Ot!==null;){switch(r=Ot,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,l=r,d=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var _e=tr(l.type,d,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(_e,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(ce){Ge(l,l.return,ce)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,l=n.nodeType,l===9)jd(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":jd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Ot=n;break}Ot=r.return}}function my(n,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:rs(n,l),u&4&&Ul(5,l);break;case 1:if(rs(n,l),u&4)if(n=l.stateNode,r===null)try{n.componentDidMount()}catch(y){Ge(l,l.return,y)}else{var d=tr(l.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Ge(l,l.return,y)}}u&64&&uy(l),u&512&&zl(l,l.return);break;case 3:if(rs(n,l),u&64&&(n=l.updateQueue,n!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Kg(n,r)}catch(y){Ge(l,l.return,y)}}break;case 27:r===null&&u&4&&dy(l);case 26:case 5:rs(n,l),r===null&&u&4&&fy(l),u&512&&zl(l,l.return);break;case 12:rs(n,l);break;case 13:rs(n,l),u&4&&vy(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Tw.bind(null,l),Hw(n,l))));break;case 22:if(u=l.memoizedState!==null||xi,!u){r=r!==null&&r.memoizedState!==null||pt,d=xi;var m=pt;xi=u,(pt=r)&&!m?as(n,l,(l.subtreeFlags&8772)!==0):rs(n,l),xi=d,pt=m}break;case 30:break;default:rs(n,l)}}function _y(n){var r=n.alternate;r!==null&&(n.alternate=null,_y(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Gf(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ke=null,tn=!1;function Ai(n,r,l){for(l=l.child;l!==null;)gy(n,r,l),l=l.sibling}function gy(n,r,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(rl,l)}catch{}switch(l.tag){case 26:pt||ii(l,r),Ai(n,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pt||ii(l,r);var u=Ke,d=tn;hs(l.type)&&(Ke=l.stateNode,tn=!1),Ai(n,r,l),Ql(l.stateNode),Ke=u,tn=d;break;case 5:pt||ii(l,r);case 6:if(u=Ke,d=tn,Ke=null,Ai(n,r,l),Ke=u,tn=d,Ke!==null)if(tn)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(l.stateNode)}catch(m){Ge(l,r,m)}else try{Ke.removeChild(l.stateNode)}catch(m){Ge(l,r,m)}break;case 18:Ke!==null&&(tn?(n=Ke,r0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),to(n)):r0(Ke,l.stateNode));break;case 4:u=Ke,d=tn,Ke=l.stateNode.containerInfo,tn=!0,Ai(n,r,l),Ke=u,tn=d;break;case 0:case 11:case 14:case 15:pt||ss(2,l,r),pt||ss(4,l,r),Ai(n,r,l);break;case 1:pt||(ii(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&cy(l,r,u)),Ai(n,r,l);break;case 21:Ai(n,r,l);break;case 22:pt=(u=pt)||l.memoizedState!==null,Ai(n,r,l),pt=u;break;default:Ai(n,r,l)}}function vy(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{to(n)}catch(l){Ge(r,r.return,l)}}function mw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new py),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new py),r;default:throw Error(i(435,n.tag))}}function hd(n,r){var l=mw(n);r.forEach(function(u){var d=Cw.bind(null,n,u);l.has(u)||(l.add(u),u.then(d,d))})}function _n(n,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],m=n,y=r,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(hs(b.type)){Ke=b.stateNode,tn=!1;break e}break;case 5:Ke=b.stateNode,tn=!1;break e;case 3:case 4:Ke=b.stateNode.containerInfo,tn=!0;break e}b=b.return}if(Ke===null)throw Error(i(160));gy(m,y,d),Ke=null,tn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)yy(r,n),r=r.sibling}var Gn=null;function yy(n,r){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(r,n),gn(n),u&4&&(ss(3,n,n.return),Ul(3,n),ss(5,n,n.return));break;case 1:_n(r,n),gn(n),u&512&&(pt||l===null||ii(l,l.return)),u&64&&xi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=Gn;if(_n(r,n),gn(n),u&512&&(pt||l===null||ii(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ol]||m[Ht]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),Ut(m,u,l),m[Ht]=n,At(m),u=m;break e;case"link":var y=d0("link","href",d).get(u+(l.href||""));if(y){for(var b=0;b<y.length;b++)if(m=y[b],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){y.splice(b,1);break t}}m=d.createElement(u),Ut(m,u,l),d.head.appendChild(m);break;case"meta":if(y=d0("meta","content",d).get(u+(l.content||""))){for(b=0;b<y.length;b++)if(m=y[b],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){y.splice(b,1);break t}}m=d.createElement(u),Ut(m,u,l),d.head.appendChild(m);break;default:throw Error(i(468,u))}m[Ht]=n,At(m),u=m}n.stateNode=u}else p0(d,n.type,n.stateNode);else n.stateNode=h0(d,u,n.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?p0(d,n.type,n.stateNode):h0(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&od(n,n.memoizedProps,l.memoizedProps)}break;case 27:_n(r,n),gn(n),u&512&&(pt||l===null||ii(l,l.return)),l!==null&&u&4&&od(n,n.memoizedProps,l.memoizedProps);break;case 5:if(_n(r,n),gn(n),u&512&&(pt||l===null||ii(l,l.return)),n.flags&32){d=n.stateNode;try{jr(d,"")}catch(B){Ge(n,n.return,B)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,od(n,d,l!==null?l.memoizedProps:d)),u&1024&&(fd=!0);break;case 6:if(_n(r,n),gn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(B){Ge(n,n.return,B)}}break;case 3:if(lc=null,d=Gn,Gn=rc(r.containerInfo),_n(r,n),Gn=d,gn(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{to(r.containerInfo)}catch(B){Ge(n,n.return,B)}fd&&(fd=!1,Sy(n));break;case 4:u=Gn,Gn=rc(n.stateNode.containerInfo),_n(r,n),gn(n),Gn=u;break;case 12:_n(r,n),gn(n);break;case 13:_n(r,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vd=gt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,hd(n,u)));break;case 22:d=n.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,z=xi,q=pt;if(xi=z||d,pt=q||R,_n(r,n),pt=q,xi=z,gn(n),u&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(l===null||R||xi||pt||nr(n)),l=null,r=n;;){if(r.tag===5||r.tag===26){if(l===null){R=l=r;try{if(m=R.stateNode,d)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(B){Ge(R,R.return,B)}}}else if(r.tag===6){if(l===null){R=r;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(B){Ge(R,R.return,B)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,hd(n,l))));break;case 19:_n(r,n),gn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,hd(n,u)));break;case 30:break;case 21:break;default:_n(r,n),gn(n)}}function gn(n){var r=n.flags;if(r&2){try{for(var l,u=n.return;u!==null;){if(hy(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,m=ud(n);Yu(n,m,d);break;case 5:var y=l.stateNode;l.flags&32&&(jr(y,""),l.flags&=-33);var b=ud(n);Yu(n,b,y);break;case 3:case 4:var R=l.stateNode.containerInfo,z=ud(n);cd(n,z,R);break;default:throw Error(i(161))}}catch(q){Ge(n,n.return,q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Sy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Sy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function rs(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)my(n,r.alternate,r),r=r.sibling}function nr(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ss(4,r,r.return),nr(r);break;case 1:ii(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&cy(r,r.return,l),nr(r);break;case 27:Ql(r.stateNode);case 26:case 5:ii(r,r.return),nr(r);break;case 22:r.memoizedState===null&&nr(r);break;case 30:nr(r);break;default:nr(r)}n=n.sibling}}function as(n,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=n,m=r,y=m.flags;switch(m.tag){case 0:case 11:case 15:as(d,m,l),Ul(4,m);break;case 1:if(as(d,m,l),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){Ge(u,u.return,z)}if(u=m,d=u.updateQueue,d!==null){var b=u.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)Wg(R[d],b)}catch(z){Ge(u,u.return,z)}}l&&y&64&&uy(m),zl(m,m.return);break;case 27:dy(m);case 26:case 5:as(d,m,l),l&&u===null&&y&4&&fy(m),zl(m,m.return);break;case 12:as(d,m,l);break;case 13:as(d,m,l),l&&y&4&&vy(d,m);break;case 22:m.memoizedState===null&&as(d,m,l),zl(m,m.return);break;case 30:break;default:as(d,m,l)}r=r.sibling}}function dd(n,r){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Tl(l))}function pd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Tl(n))}function si(n,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ey(n,r,l,u),r=r.sibling}function Ey(n,r,l,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:si(n,r,l,u),d&2048&&Ul(9,r);break;case 1:si(n,r,l,u);break;case 3:si(n,r,l,u),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Tl(n)));break;case 12:if(d&2048){si(n,r,l,u),n=r.stateNode;try{var m=r.memoizedProps,y=m.id,b=m.onPostCommit;typeof b=="function"&&b(y,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Ge(r,r.return,R)}}else si(n,r,l,u);break;case 13:si(n,r,l,u);break;case 23:break;case 22:m=r.stateNode,y=r.alternate,r.memoizedState!==null?m._visibility&2?si(n,r,l,u):jl(n,r):m._visibility&2?si(n,r,l,u):(m._visibility|=2,sa(n,r,l,u,(r.subtreeFlags&10256)!==0)),d&2048&&dd(y,r);break;case 24:si(n,r,l,u),d&2048&&pd(r.alternate,r);break;default:si(n,r,l,u)}}function sa(n,r,l,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,y=r,b=l,R=u,z=y.flags;switch(y.tag){case 0:case 11:case 15:sa(m,y,b,R,d),Ul(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&2?sa(m,y,b,R,d):jl(m,y):(q._visibility|=2,sa(m,y,b,R,d)),d&&z&2048&&dd(y.alternate,y);break;case 24:sa(m,y,b,R,d),d&&z&2048&&pd(y.alternate,y);break;default:sa(m,y,b,R,d)}r=r.sibling}}function jl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=n,u=r,d=u.flags;switch(u.tag){case 22:jl(l,u),d&2048&&dd(u.alternate,u);break;case 24:jl(l,u),d&2048&&pd(u.alternate,u);break;default:jl(l,u)}r=r.sibling}}var Bl=8192;function ra(n){if(n.subtreeFlags&Bl)for(n=n.child;n!==null;)by(n),n=n.sibling}function by(n){switch(n.tag){case 26:ra(n),n.flags&Bl&&n.memoizedState!==null&&eR(Gn,n.memoizedState,n.memoizedProps);break;case 5:ra(n);break;case 3:case 4:var r=Gn;Gn=rc(n.stateNode.containerInfo),ra(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Bl,Bl=16777216,ra(n),Bl=r):ra(n));break;default:ra(n)}}function Ty(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Hl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ot=u,wy(u,n)}Ty(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(n),n=n.sibling}function Cy(n){switch(n.tag){case 0:case 11:case 15:Hl(n),n.flags&2048&&ss(9,n,n.return);break;case 3:Hl(n);break;case 12:Hl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Qu(n)):Hl(n);break;default:Hl(n)}}function Qu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ot=u,wy(u,n)}Ty(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ss(8,r,r.return),Qu(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Qu(r));break;default:Qu(r)}n=n.sibling}}function wy(n,r){for(;Ot!==null;){var l=Ot;switch(l.tag){case 0:case 11:case 15:ss(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ot=u;else e:for(l=n;Ot!==null;){u=Ot;var d=u.sibling,m=u.return;if(_y(u),u===l){Ot=null;break e}if(d!==null){d.return=m,Ot=d;break e}Ot=m}}}var _w={getCacheForType:function(n){var r=Ft(Ct),l=r.data.get(n);return l===void 0&&(l=n(),r.data.set(n,l)),l}},gw=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Qe=null,Te=null,Me=0,ze=0,vn=null,ls=!1,aa=!1,md=!1,Ni=0,ot=0,os=0,ir=0,_d=0,Pn=0,la=0,Fl=null,nn=null,gd=!1,vd=0,Xu=1/0,Wu=null,us=null,Pt=0,cs=null,oa=null,ua=0,yd=0,Sd=null,Ry=null,Vl=0,Ed=null;function yn(){if((Ue&2)!==0&&Me!==0)return Me&-Me;if(U.T!==null){var n=Kr;return n!==0?n:Ad()}return F_()}function xy(){Pn===0&&(Pn=(Me&536870912)===0||Le?z_():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Pn}function Sn(n,r,l){(n===Qe&&(ze===2||ze===9)||n.cancelPendingCommit!==null)&&(ca(n,0),fs(n,Me,Pn,!1)),ll(n,l),((Ue&2)===0||n!==Qe)&&(n===Qe&&((Ue&2)===0&&(ir|=l),ot===4&&fs(n,Me,Pn,!1)),ri(n))}function Ay(n,r,l){if((Ue&6)!==0)throw Error(i(327));var u=!l&&(r&124)===0&&(r&n.expiredLanes)===0||al(n,r),d=u?Sw(n,r):Cd(n,r,!0),m=u;do{if(d===0){aa&&!u&&fs(n,r,0,!1);break}else{if(l=n.current.alternate,m&&!vw(l)){d=Cd(n,r,!1),m=!1;continue}if(d===2){if(m=r,n.errorRecoveryDisabledLanes&m)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;e:{var b=n;d=Fl;var R=b.current.memoizedState.isDehydrated;if(R&&(ca(b,y).flags|=256),y=Cd(b,y,!1),y!==2){if(md&&!R){b.errorRecoveryDisabledLanes|=m,ir|=m,d=4;break e}m=nn,nn=d,m!==null&&(nn===null?nn=m:nn.push.apply(nn,m))}d=y}if(m=!1,d!==2)continue}}if(d===1){ca(n,0),fs(n,r,0,!0);break}e:{switch(u=n,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:fs(u,r,Pn,!ls);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=vd+300-gt(),10<d)){if(fs(u,r,Pn,!ls),au(u,0,!0)!==0)break e;u.timeoutHandle=i0(Ny.bind(null,u,l,nn,Wu,gd,r,Pn,ir,la,ls,m,2,-0,0),d);break e}Ny(u,l,nn,Wu,gd,r,Pn,ir,la,ls,m,0,-0,0)}}break}while(!0);ri(n)}function Ny(n,r,l,u,d,m,y,b,R,z,q,K,j,B){if(n.timeoutHandle=-1,K=r.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:Jw},by(r),K=tR(),K!==null)){n.cancelPendingCommit=K(Py.bind(null,n,r,m,l,u,d,y,b,R,q,1,j,B)),fs(n,m,y,!z);return}Py(n,r,m,l,u,d,y,b,R)}function vw(n){for(var r=n;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],m=d.getSnapshot;d=d.value;try{if(!pn(m(),d))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fs(n,r,l,u){r&=~_d,r&=~ir,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var d=r;0<d;){var m=31-dn(d),y=1<<m;u[m]=-1,d&=~y}l!==0&&B_(n,l,r)}function Ku(){return(Ue&6)===0?(Gl(0),!1):!0}function bd(){if(Te!==null){if(ze===0)var n=Te.return;else n=Te,Ei=$s=null,jh(n),na=null,kl=0,n=Te;for(;n!==null;)oy(n.alternate,n),n=n.return;Te=null}}function ca(n,r){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Pw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),bd(),Qe=n,Te=l=vi(n.current,null),Me=r,ze=0,vn=null,ls=!1,aa=al(n,r),md=!1,la=Pn=_d=ir=os=ot=0,nn=Fl=null,gd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var d=31-dn(u),m=1<<d;r|=n[d],u&=~m}return Ni=r,vu(),l}function Oy(n,r){ye=null,U.H=Uu,r===wl||r===xu?(r=Qg(),ze=3):r===Gg?(r=Qg(),ze=4):ze=r===Xv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Te===null&&(ot=1,Fu(n,Mn(r,n.current)))}function My(){var n=U.H;return U.H=Uu,n===null?Uu:n}function Dy(){var n=U.A;return U.A=_w,n}function Td(){ot=4,ls||(Me&4194048)!==Me&&Ln.current!==null||(aa=!0),(os&134217727)===0&&(ir&134217727)===0||Qe===null||fs(Qe,Me,Pn,!1)}function Cd(n,r,l){var u=Ue;Ue|=2;var d=My(),m=Dy();(Qe!==n||Me!==r)&&(Wu=null,ca(n,r)),r=!1;var y=ot;e:do try{if(ze!==0&&Te!==null){var b=Te,R=vn;switch(ze){case 8:bd(),y=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var z=ze;if(ze=0,vn=null,fa(n,b,R,z),l&&aa){y=0;break e}break;default:z=ze,ze=0,vn=null,fa(n,b,R,z)}}yw(),y=ot;break}catch(q){Oy(n,q)}while(!0);return r&&n.shellSuspendCounter++,Ei=$s=null,Ue=u,U.H=d,U.A=m,Te===null&&(Qe=null,Me=0,vu()),y}function yw(){for(;Te!==null;)Iy(Te)}function Sw(n,r){var l=Ue;Ue|=2;var u=My(),d=Dy();Qe!==n||Me!==r?(Wu=null,Xu=gt()+500,ca(n,r)):aa=al(n,r);e:do try{if(ze!==0&&Te!==null){r=Te;var m=vn;t:switch(ze){case 1:ze=0,vn=null,fa(n,r,m,1);break;case 2:case 9:if(qg(m)){ze=0,vn=null,ky(r);break}r=function(){ze!==2&&ze!==9||Qe!==n||(ze=7),ri(n)},m.then(r,r);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:qg(m)?(ze=0,vn=null,ky(r)):(ze=0,vn=null,fa(n,r,m,7));break;case 5:var y=null;switch(Te.tag){case 26:y=Te.memoizedState;case 5:case 27:var b=Te;if(!y||m0(y)){ze=0,vn=null;var R=b.sibling;if(R!==null)Te=R;else{var z=b.return;z!==null?(Te=z,$u(z)):Te=null}break t}}ze=0,vn=null,fa(n,r,m,5);break;case 6:ze=0,vn=null,fa(n,r,m,6);break;case 8:bd(),ot=6;break e;default:throw Error(i(462))}}Ew();break}catch(q){Oy(n,q)}while(!0);return Ei=$s=null,U.H=u,U.A=d,Ue=l,Te!==null?0:(Qe=null,Me=0,vu(),ot)}function Ew(){for(;Te!==null&&!cn();)Iy(Te)}function Iy(n){var r=ay(n.alternate,n,Ni);n.memoizedProps=n.pendingProps,r===null?$u(n):Te=r}function ky(n){var r=n,l=r.alternate;switch(r.tag){case 15:case 0:r=ey(l,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=ey(l,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:jh(r);default:oy(l,r),r=Te=Lg(r,Ni),r=ay(l,r,Ni)}n.memoizedProps=n.pendingProps,r===null?$u(n):Te=r}function fa(n,r,l,u){Ei=$s=null,jh(r),na=null,kl=0;var d=r.return;try{if(cw(n,d,r,l,Me)){ot=1,Fu(n,Mn(l,n.current)),Te=null;return}}catch(m){if(d!==null)throw Te=d,m;ot=1,Fu(n,Mn(l,n.current)),Te=null;return}r.flags&32768?(Le||u===1?n=!0:aa||(Me&536870912)!==0?n=!1:(ls=n=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ly(r,n)):$u(r)}function $u(n){var r=n;do{if((r.flags&32768)!==0){Ly(r,ls);return}n=r.return;var l=hw(r.alternate,r,Ni);if(l!==null){Te=l;return}if(r=r.sibling,r!==null){Te=r;return}Te=r=n}while(r!==null);ot===0&&(ot=5)}function Ly(n,r){do{var l=dw(n.alternate,n);if(l!==null){l.flags&=32767,Te=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(n=n.sibling,n!==null)){Te=n;return}Te=n=l}while(n!==null);ot=6,Te=null}function Py(n,r,l,u,d,m,y,b,R){n.cancelPendingCommit=null;do Zu();while(Pt!==0);if((Ue&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=ph,JT(n,l,m,y,b,R),n===Qe&&(Te=Qe=null,Me=0),oa=r,cs=n,ua=l,yd=m,Sd=d,Ry=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ww(Qi,function(){return Hy(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,d=G.p,G.p=2,y=Ue,Ue|=4;try{pw(n,r,l)}finally{Ue=y,G.p=d,U.T=u}}Pt=1,Uy(),zy(),jy()}}function Uy(){if(Pt===1){Pt=0;var n=cs,r=oa,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var u=G.p;G.p=2;var d=Ue;Ue|=4;try{yy(r,n);var m=Pd,y=wg(n.containerInfo),b=m.focusedElem,R=m.selectionRange;if(y!==b&&b&&b.ownerDocument&&Cg(b.ownerDocument.documentElement,b)){if(R!==null&&uh(b)){var z=R.start,q=R.end;if(q===void 0&&(q=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(q,b.value.length);else{var K=b.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var B=j.getSelection(),_e=b.textContent.length,ce=Math.min(R.start,_e),He=R.end===void 0?ce:Math.min(R.end,_e);!B.extend&&ce>He&&(y=He,He=ce,ce=y);var I=Tg(b,ce),O=Tg(b,He);if(I&&O&&(B.rangeCount!==1||B.anchorNode!==I.node||B.anchorOffset!==I.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var P=K.createRange();P.setStart(I.node,I.offset),B.removeAllRanges(),ce>He?(B.addRange(P),B.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),B.addRange(P))}}}}for(K=[],B=b;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<K.length;b++){var X=K[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}cc=!!Ld,Pd=Ld=null}finally{Ue=d,G.p=u,U.T=l}}n.current=r,Pt=2}}function zy(){if(Pt===2){Pt=0;var n=cs,r=oa,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var u=G.p;G.p=2;var d=Ue;Ue|=4;try{my(n,r.alternate,r)}finally{Ue=d,G.p=u,U.T=l}}Pt=3}}function jy(){if(Pt===4||Pt===3){Pt=0,fn();var n=cs,r=oa,l=ua,u=Ry;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,oa=cs=null,By(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(us=null),Ff(l),r=r.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(rl,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=U.T,d=G.p,G.p=2,U.T=null;try{for(var m=n.onRecoverableError,y=0;y<u.length;y++){var b=u[y];m(b.value,{componentStack:b.stack})}}finally{U.T=r,G.p=d}}(ua&3)!==0&&Zu(),ri(n),d=n.pendingLanes,(l&4194090)!==0&&(d&42)!==0?n===Ed?Vl++:(Vl=0,Ed=n):Vl=0,Gl(0)}}function By(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Tl(r)))}function Zu(n){return Uy(),zy(),jy(),Hy()}function Hy(){if(Pt!==5)return!1;var n=cs,r=yd;yd=0;var l=Ff(ua),u=U.T,d=G.p;try{G.p=32>l?32:l,U.T=null,l=Sd,Sd=null;var m=cs,y=ua;if(Pt=0,oa=cs=null,ua=0,(Ue&6)!==0)throw Error(i(331));var b=Ue;if(Ue|=4,Cy(m.current),Ey(m,m.current,y,l),Ue=b,Gl(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(rl,m)}catch{}return!0}finally{G.p=d,U.T=u,By(n,r)}}function Fy(n,r,l){r=Mn(l,r),r=Jh(n.stateNode,r,2),n=es(n,r,2),n!==null&&(ll(n,2),ri(n))}function Ge(n,r,l){if(n.tag===3)Fy(n,n,l);else for(;r!==null;){if(r.tag===3){Fy(r,n,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(us===null||!us.has(u))){n=Mn(l,n),l=Yv(2),u=es(r,l,2),u!==null&&(Qv(l,u,r,n),ll(u,2),ri(u));break}}r=r.return}}function wd(n,r,l){var u=n.pingCache;if(u===null){u=n.pingCache=new gw;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(l)||(md=!0,d.add(l),n=bw.bind(null,n,r,l),r.then(n,n))}function bw(n,r,l){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Qe===n&&(Me&l)===l&&(ot===4||ot===3&&(Me&62914560)===Me&&300>gt()-vd?(Ue&2)===0&&ca(n,0):_d|=l,la===Me&&(la=0)),ri(n)}function Vy(n,r){r===0&&(r=j_()),n=Yr(n,r),n!==null&&(ll(n,r),ri(n))}function Tw(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),Vy(n,l)}function Cw(n,r){var l=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Vy(n,l)}function ww(n,r){return at(n,r)}var Ju=null,ha=null,Rd=!1,ec=!1,xd=!1,sr=0;function ri(n){n!==ha&&n.next===null&&(ha===null?Ju=ha=n:ha=ha.next=n),ec=!0,Rd||(Rd=!0,xw())}function Gl(n,r){if(!xd&&ec){xd=!0;do for(var l=!1,u=Ju;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var y=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-dn(42|n)+1)-1,m&=d&~(y&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Qy(u,m))}else m=Me,m=au(u,u===Qe?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||al(u,m)||(l=!0,Qy(u,m));u=u.next}while(l);xd=!1}}function Rw(){Gy()}function Gy(){ec=Rd=!1;var n=0;sr!==0&&(Lw()&&(n=sr),sr=0);for(var r=gt(),l=null,u=Ju;u!==null;){var d=u.next,m=qy(u,r);m===0?(u.next=null,l===null?Ju=d:l.next=d,d===null&&(ha=l)):(l=u,(n!==0||(m&3)!==0)&&(ec=!0)),u=d}Gl(n)}function qy(n,r){for(var l=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var y=31-dn(m),b=1<<y,R=d[y];R===-1?((b&l)===0||(b&u)!==0)&&(d[y]=ZT(b,r)):R<=r&&(n.expiredLanes|=b),m&=~b}if(r=Qe,l=Me,l=au(n,n===r?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===r&&(ze===2||ze===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&An(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||al(n,l)){if(r=l&-l,r===n.callbackPriority)return r;switch(u!==null&&An(u),Ff(l)){case 2:case 8:l=mi;break;case 32:l=Qi;break;case 268435456:l=iu;break;default:l=Qi}return u=Yy.bind(null,n),l=at(l,u),n.callbackPriority=r,n.callbackNode=l,r}return u!==null&&u!==null&&An(u),n.callbackPriority=2,n.callbackNode=null,2}function Yy(n,r){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Zu()&&n.callbackNode!==l)return null;var u=Me;return u=au(n,n===Qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Ay(n,u,r),qy(n,gt()),n.callbackNode!=null&&n.callbackNode===l?Yy.bind(null,n):null)}function Qy(n,r){if(Zu())return null;Ay(n,r,!0)}function xw(){Uw(function(){(Ue&6)!==0?at(ht,Rw):Gy()})}function Ad(){return sr===0&&(sr=z_()),sr}function Xy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fu(""+n)}function Wy(n,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,n.id&&l.setAttribute("form",n.id),r.parentNode.insertBefore(l,r),n=new FormData(n),l.parentNode.removeChild(l),n}function Aw(n,r,l,u,d){if(r==="submit"&&l&&l.stateNode===d){var m=Xy((d[Zt]||null).action),y=u.submitter;y&&(r=(r=y[Zt]||null)?Xy(r.formAction):y.getAttribute("formAction"),r!==null&&(m=r,y=null));var b=new mu("action","action",null,u,d);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sr!==0){var R=y?Wy(d,y):new FormData(d);Xh(l,{pending:!0,data:R,method:d.method,action:m},null,R)}}else typeof m=="function"&&(b.preventDefault(),R=y?Wy(d,y):new FormData(d),Xh(l,{pending:!0,data:R,method:d.method,action:m},m,R))},currentTarget:d}]})}}for(var Nd=0;Nd<dh.length;Nd++){var Od=dh[Nd],Nw=Od.toLowerCase(),Ow=Od[0].toUpperCase()+Od.slice(1);Vn(Nw,"on"+Ow)}Vn(Ag,"onAnimationEnd"),Vn(Ng,"onAnimationIteration"),Vn(Og,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(QC,"onTransitionRun"),Vn(XC,"onTransitionStart"),Vn(WC,"onTransitionCancel"),Vn(Mg,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Ky(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],d=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var y=u.length-1;0<=y;y--){var b=u[y],R=b.instance,z=b.currentTarget;if(b=b.listener,R!==m&&d.isPropagationStopped())break e;m=b,d.currentTarget=z;try{m(d)}catch(q){Hu(q)}d.currentTarget=null,m=R}else for(y=0;y<u.length;y++){if(b=u[y],R=b.instance,z=b.currentTarget,b=b.listener,R!==m&&d.isPropagationStopped())break e;m=b,d.currentTarget=z;try{m(d)}catch(q){Hu(q)}d.currentTarget=null,m=R}}}}function Ce(n,r){var l=r[Vf];l===void 0&&(l=r[Vf]=new Set);var u=n+"__bubble";l.has(u)||($y(r,n,2,!1),l.add(u))}function Md(n,r,l){var u=0;r&&(u|=4),$y(l,n,u,r)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Dd(n){if(!n[tc]){n[tc]=!0,G_.forEach(function(l){l!=="selectionchange"&&(Mw.has(l)||Md(l,!1,n),Md(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[tc]||(r[tc]=!0,Md("selectionchange",!1,r))}}function $y(n,r,l,u){switch(E0(r)){case 2:var d=sR;break;case 8:d=rR;break;default:d=Yd}l=d.bind(null,r,l,n),d=void 0,!eh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(r,l,{capture:!0,passive:d}):n.addEventListener(r,l,!0):d!==void 0?n.addEventListener(r,l,{passive:d}):n.addEventListener(r,l,!1)}function Id(n,r,l,u,d){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var b=u.stateNode.containerInfo;if(b===d)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;b!==null;){if(y=Ir(b),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){u=m=y;continue e}b=b.parentNode}}u=u.return}sg(function(){var z=m,q=Zf(l),K=[];e:{var j=Dg.get(n);if(j!==void 0){var B=mu,_e=n;switch(n){case"keypress":if(du(l)===0)break e;case"keydown":case"keyup":B=wC;break;case"focusin":_e="focus",B=sh;break;case"focusout":_e="blur",B=sh;break;case"beforeblur":case"afterblur":B=sh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=dC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=AC;break;case Ag:case Ng:case Og:B=_C;break;case Mg:B=OC;break;case"scroll":case"scrollend":B=fC;break;case"wheel":B=DC;break;case"copy":case"cut":case"paste":B=vC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ug;break;case"toggle":case"beforetoggle":B=kC}var ce=(r&4)!==0,He=!ce&&(n==="scroll"||n==="scrollend"),I=ce?j!==null?j+"Capture":null:j;ce=[];for(var O=z,P;O!==null;){var X=O;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||I===null||(X=cl(O,I),X!=null&&ce.push(Yl(O,X,P))),He)break;O=O.return}0<ce.length&&(j=new B(j,_e,null,l,q),K.push({event:j,listeners:ce}))}}if((r&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",j&&l!==$f&&(_e=l.relatedTarget||l.fromElement)&&(Ir(_e)||_e[Dr]))break e;if((B||j)&&(j=q.window===q?q:(j=q.ownerDocument)?j.defaultView||j.parentWindow:window,B?(_e=l.relatedTarget||l.toElement,B=z,_e=_e?Ir(_e):null,_e!==null&&(He=o(_e),ce=_e.tag,_e!==He||ce!==5&&ce!==27&&ce!==6)&&(_e=null)):(B=null,_e=z),B!==_e)){if(ce=lg,X="onMouseLeave",I="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(ce=ug,X="onPointerLeave",I="onPointerEnter",O="pointer"),He=B==null?j:ul(B),P=_e==null?j:ul(_e),j=new ce(X,O+"leave",B,l,q),j.target=He,j.relatedTarget=P,X=null,Ir(q)===z&&(ce=new ce(I,O+"enter",_e,l,q),ce.target=P,ce.relatedTarget=He,X=ce),He=X,B&&_e)t:{for(ce=B,I=_e,O=0,P=ce;P;P=da(P))O++;for(P=0,X=I;X;X=da(X))P++;for(;0<O-P;)ce=da(ce),O--;for(;0<P-O;)I=da(I),P--;for(;O--;){if(ce===I||I!==null&&ce===I.alternate)break t;ce=da(ce),I=da(I)}ce=null}else ce=null;B!==null&&Zy(K,j,B,ce,!1),_e!==null&&He!==null&&Zy(K,He,_e,ce,!0)}}e:{if(j=z?ul(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var re=gg;else if(mg(j))if(vg)re=GC;else{re=FC;var Se=HC}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Kf(z.elementType)&&(re=gg):re=VC;if(re&&(re=re(n,z))){_g(K,re,l,q);break e}Se&&Se(n,j,z),n==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Wf(j,"number",j.value)}switch(Se=z?ul(z):window,n){case"focusin":(mg(Se)||Se.contentEditable==="true")&&(Vr=Se,ch=z,vl=null);break;case"focusout":vl=ch=Vr=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,Rg(K,l,q);break;case"selectionchange":if(YC)break;case"keydown":case"keyup":Rg(K,l,q)}var le;if(ah)e:{switch(n){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Fr?dg(n,l)&&(de="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(de="onCompositionStart");de&&(cg&&l.locale!=="ko"&&(Fr||de!=="onCompositionStart"?de==="onCompositionEnd"&&Fr&&(le=rg()):(Ki=q,th="value"in Ki?Ki.value:Ki.textContent,Fr=!0)),Se=nc(z,de),0<Se.length&&(de=new og(de,n,null,l,q),K.push({event:de,listeners:Se}),le?de.data=le:(le=pg(l),le!==null&&(de.data=le)))),(le=PC?UC(n,l):zC(n,l))&&(de=nc(z,"onBeforeInput"),0<de.length&&(Se=new og("onBeforeInput","beforeinput",null,l,q),K.push({event:Se,listeners:de}),Se.data=le)),Aw(K,n,z,l,q)}Ky(K,r)})}function Yl(n,r,l){return{instance:n,listener:r,currentTarget:l}}function nc(n,r){for(var l=r+"Capture",u=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=cl(n,l),d!=null&&u.unshift(Yl(n,d,m)),d=cl(n,r),d!=null&&u.push(Yl(n,d,m))),n.tag===3)return u;n=n.return}return[]}function da(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Zy(n,r,l,u,d){for(var m=r._reactName,y=[];l!==null&&l!==u;){var b=l,R=b.alternate,z=b.stateNode;if(b=b.tag,R!==null&&R===u)break;b!==5&&b!==26&&b!==27||z===null||(R=z,d?(z=cl(l,m),z!=null&&y.unshift(Yl(l,z,R))):d||(z=cl(l,m),z!=null&&y.push(Yl(l,z,R)))),l=l.return}y.length!==0&&n.push({event:r,listeners:y})}var Dw=/\r\n?/g,Iw=/\u0000|\uFFFD/g;function Jy(n){return(typeof n=="string"?n:""+n).replace(Dw,`
`).replace(Iw,"")}function e0(n,r){return r=Jy(r),Jy(n)===r}function ic(){}function Be(n,r,l,u,d,m){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||jr(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&jr(n,""+u);break;case"className":ou(n,"class",u);break;case"tabIndex":ou(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ou(n,l,u);break;case"style":ng(n,u,m);break;case"data":if(r!=="object"){ou(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=fu(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(r!=="input"&&Be(n,r,"name",d.name,d,null),Be(n,r,"formEncType",d.formEncType,d,null),Be(n,r,"formMethod",d.formMethod,d,null),Be(n,r,"formTarget",d.formTarget,d,null)):(Be(n,r,"encType",d.encType,d,null),Be(n,r,"method",d.method,d,null),Be(n,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=fu(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=ic);break;case"onScroll":u!=null&&Ce("scroll",n);break;case"onScrollEnd":u!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=fu(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),lu(n,"popover",u);break;case"xlinkActuate":_i(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_i(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_i(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_i(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_i(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_i(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_i(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_i(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_i(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lu(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=uC.get(l)||l,lu(n,l,u))}}function kd(n,r,l,u,d,m){switch(l){case"style":ng(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?jr(n,u):(typeof u=="number"||typeof u=="bigint")&&jr(n,""+u);break;case"onScroll":u!=null&&Ce("scroll",n);break;case"onScrollEnd":u!=null&&Ce("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!q_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),r=l.slice(2,d?l.length-7:void 0),m=n[Zt]||null,m=m!=null?m[l]:null,typeof m=="function"&&n.removeEventListener(r,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(r,u,d);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):lu(n,l,u)}}}function Ut(n,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var u=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var y=l[m];if(y!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Be(n,r,m,y,l,null)}}d&&Be(n,r,"srcSet",l.srcSet,l,null),u&&Be(n,r,"src",l.src,l,null);return;case"input":Ce("invalid",n);var b=m=y=d=null,R=null,z=null;for(u in l)if(l.hasOwnProperty(u)){var q=l[u];if(q!=null)switch(u){case"name":d=q;break;case"type":y=q;break;case"checked":R=q;break;case"defaultChecked":z=q;break;case"value":m=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Be(n,r,u,q,l,null)}}Z_(n,m,b,R,z,y,d,!1),uu(n);return;case"select":Ce("invalid",n),u=y=m=null;for(d in l)if(l.hasOwnProperty(d)&&(b=l[d],b!=null))switch(d){case"value":m=b;break;case"defaultValue":y=b;break;case"multiple":u=b;default:Be(n,r,d,b,l,null)}r=m,l=y,n.multiple=!!u,r!=null?zr(n,!!u,r,!1):l!=null&&zr(n,!!u,l,!0);return;case"textarea":Ce("invalid",n),m=d=u=null;for(y in l)if(l.hasOwnProperty(y)&&(b=l[y],b!=null))switch(y){case"value":u=b;break;case"defaultValue":d=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Be(n,r,y,b,l,null)}eg(n,u,d,m),uu(n);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(u=l[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Be(n,r,R,u,l,null)}return;case"dialog":Ce("beforetoggle",n),Ce("toggle",n),Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(u=0;u<ql.length;u++)Ce(ql[u],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in l)if(l.hasOwnProperty(z)&&(u=l[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Be(n,r,z,u,l,null)}return;default:if(Kf(r)){for(q in l)l.hasOwnProperty(q)&&(u=l[q],u!==void 0&&kd(n,r,q,u,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(u=l[b],u!=null&&Be(n,r,b,u,l,null))}function kw(n,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,y=null,b=null,R=null,z=null,q=null;for(B in l){var K=l[B];if(l.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:u.hasOwnProperty(B)||Be(n,r,B,null,u,K)}}for(var j in u){var B=u[j];if(K=l[j],u.hasOwnProperty(j)&&(B!=null||K!=null))switch(j){case"type":m=B;break;case"name":d=B;break;case"checked":z=B;break;case"defaultChecked":q=B;break;case"value":y=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:B!==K&&Be(n,r,j,B,u,K)}}Xf(n,y,b,R,z,q,m,d);return;case"select":B=y=b=j=null;for(m in l)if(R=l[m],l.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":B=R;default:u.hasOwnProperty(m)||Be(n,r,m,null,u,R)}for(d in u)if(m=u[d],R=l[d],u.hasOwnProperty(d)&&(m!=null||R!=null))switch(d){case"value":j=m;break;case"defaultValue":b=m;break;case"multiple":y=m;default:m!==R&&Be(n,r,d,m,u,R)}r=b,l=y,u=B,j!=null?zr(n,!!l,j,!1):!!u!=!!l&&(r!=null?zr(n,!!l,r,!0):zr(n,!!l,l?[]:"",!1));return;case"textarea":B=j=null;for(b in l)if(d=l[b],l.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Be(n,r,b,null,u,d)}for(y in u)if(d=u[y],m=l[y],u.hasOwnProperty(y)&&(d!=null||m!=null))switch(y){case"value":j=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&Be(n,r,y,d,u,m)}J_(n,j,B);return;case"option":for(var _e in l)if(j=l[_e],l.hasOwnProperty(_e)&&j!=null&&!u.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:Be(n,r,_e,null,u,j)}for(R in u)if(j=u[R],B=l[R],u.hasOwnProperty(R)&&j!==B&&(j!=null||B!=null))switch(R){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Be(n,r,R,j,u,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)j=l[ce],l.hasOwnProperty(ce)&&j!=null&&!u.hasOwnProperty(ce)&&Be(n,r,ce,null,u,j);for(z in u)if(j=u[z],B=l[z],u.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,r));break;default:Be(n,r,z,j,u,B)}return;default:if(Kf(r)){for(var He in l)j=l[He],l.hasOwnProperty(He)&&j!==void 0&&!u.hasOwnProperty(He)&&kd(n,r,He,void 0,u,j);for(q in u)j=u[q],B=l[q],!u.hasOwnProperty(q)||j===B||j===void 0&&B===void 0||kd(n,r,q,j,u,B);return}}for(var I in l)j=l[I],l.hasOwnProperty(I)&&j!=null&&!u.hasOwnProperty(I)&&Be(n,r,I,null,u,j);for(K in u)j=u[K],B=l[K],!u.hasOwnProperty(K)||j===B||j==null&&B==null||Be(n,r,K,j,u,B)}var Ld=null,Pd=null;function sc(n){return n.nodeType===9?n:n.ownerDocument}function t0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Ud(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zd=null;function Lw(){var n=window.event;return n&&n.type==="popstate"?n===zd?!1:(zd=n,!0):(zd=null,!1)}var i0=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(n){return s0.resolve(null).then(n).catch(zw)}:i0;function zw(n){setTimeout(function(){throw n})}function hs(n){return n==="head"}function r0(n,r){var l=r,u=0,d=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var y=n.ownerDocument;if(l&1&&Ql(y.documentElement),l&2&&Ql(y.body),l&4)for(l=y.head,Ql(l),y=l.firstChild;y;){var b=y.nextSibling,R=y.nodeName;y[ol]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=b}}if(d===0){n.removeChild(m),to(r);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);to(r)}function jd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":jd(l),Gf(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function jw(n,r,l,u){for(;n.nodeType===1;){var d=l;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ol])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=qn(n.nextSibling),n===null)break}return null}function Bw(n,r,l){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=qn(n.nextSibling),n===null))return null;return n}function Bd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Hw(n,r){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function qn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Hd=null;function a0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return n;r--}else l==="/$"&&r++}n=n.previousSibling}return null}function l0(n,r,l){switch(r=sc(l),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Ql(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Gf(n)}var Un=new Map,o0=new Set;function rc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Oi=G.d;G.d={f:Fw,r:Vw,D:Gw,C:qw,L:Yw,m:Qw,X:Ww,S:Xw,M:Kw};function Fw(){var n=Oi.f(),r=Ku();return n||r}function Vw(n){var r=kr(n);r!==null&&r.tag===5&&r.type==="form"?Av(r):Oi.r(n)}var pa=typeof document>"u"?null:document;function u0(n,r,l){var u=pa;if(u&&typeof r=="string"&&r){var d=On(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),o0.has(d)||(o0.add(d),n={rel:n,crossOrigin:l,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Ut(r,"link",n),At(r),u.head.appendChild(r)))}}function Gw(n){Oi.D(n),u0("dns-prefetch",n,null)}function qw(n,r){Oi.C(n,r),u0("preconnect",n,r)}function Yw(n,r,l){Oi.L(n,r,l);var u=pa;if(u&&n&&r){var d='link[rel="preload"][as="'+On(r)+'"]';r==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+On(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+On(l.imageSizes)+'"]')):d+='[href="'+On(n)+'"]';var m=d;switch(r){case"style":m=ma(n);break;case"script":m=_a(n)}Un.has(m)||(n=_({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:n,as:r},l),Un.set(m,n),u.querySelector(d)!==null||r==="style"&&u.querySelector(Xl(m))||r==="script"&&u.querySelector(Wl(m))||(r=u.createElement("link"),Ut(r,"link",n),At(r),u.head.appendChild(r)))}}function Qw(n,r){Oi.m(n,r);var l=pa;if(l&&n){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+On(u)+'"][href="'+On(n)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=_a(n)}if(!Un.has(m)&&(n=_({rel:"modulepreload",href:n},r),Un.set(m,n),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wl(m)))return}u=l.createElement("link"),Ut(u,"link",n),At(u),l.head.appendChild(u)}}}function Xw(n,r,l){Oi.S(n,r,l);var u=pa;if(u&&n){var d=Lr(u).hoistableStyles,m=ma(n);r=r||"default";var y=d.get(m);if(!y){var b={loading:0,preload:null};if(y=u.querySelector(Xl(m)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},l),(l=Un.get(m))&&Fd(n,l);var R=y=u.createElement("link");At(R),Ut(R,"link",n),R._p=new Promise(function(z,q){R.onload=z,R.onerror=q}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ac(y,r,u)}y={type:"stylesheet",instance:y,count:1,state:b},d.set(m,y)}}}function Ww(n,r){Oi.X(n,r);var l=pa;if(l&&n){var u=Lr(l).hoistableScripts,d=_a(n),m=u.get(d);m||(m=l.querySelector(Wl(d)),m||(n=_({src:n,async:!0},r),(r=Un.get(d))&&Vd(n,r),m=l.createElement("script"),At(m),Ut(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function Kw(n,r){Oi.M(n,r);var l=pa;if(l&&n){var u=Lr(l).hoistableScripts,d=_a(n),m=u.get(d);m||(m=l.querySelector(Wl(d)),m||(n=_({src:n,async:!0,type:"module"},r),(r=Un.get(d))&&Vd(n,r),m=l.createElement("script"),At(m),Ut(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function c0(n,r,l,u){var d=(d=se.current)?rc(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ma(l.href),l=Lr(d).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=ma(l.href);var m=Lr(d).hoistableStyles,y=m.get(n);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,y),(m=d.querySelector(Xl(n)))&&!m._p&&(y.instance=m,y.state.loading=5),Un.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Un.set(n,l),m||$w(d,n,l,y.state))),r&&u===null)throw Error(i(528,""));return y}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=_a(l),l=Lr(d).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ma(n){return'href="'+On(n)+'"'}function Xl(n){return'link[rel="stylesheet"]['+n+"]"}function f0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function $w(n,r,l,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ut(r,"link",l),At(r),n.head.appendChild(r))}function _a(n){return'[src="'+On(n)+'"]'}function Wl(n){return"script[async]"+n}function h0(n,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+On(l.href)+'"]');if(u)return r.instance=u,At(u),u;var d=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),At(u),Ut(u,"style",d),ac(u,l.precedence,n),r.instance=u;case"stylesheet":d=ma(l.href);var m=n.querySelector(Xl(d));if(m)return r.state.loading|=4,r.instance=m,At(m),m;u=f0(l),(d=Un.get(d))&&Fd(u,d),m=(n.ownerDocument||n).createElement("link"),At(m);var y=m;return y._p=new Promise(function(b,R){y.onload=b,y.onerror=R}),Ut(m,"link",u),r.state.loading|=4,ac(m,l.precedence,n),r.instance=m;case"script":return m=_a(l.src),(d=n.querySelector(Wl(m)))?(r.instance=d,At(d),d):(u=l,(d=Un.get(m))&&(u=_({},l),Vd(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),At(d),Ut(d,"link",u),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ac(u,l.precedence,n));return r.instance}function ac(n,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,y=0;y<u.length;y++){var b=u[y];if(b.dataset.precedence===r)m=b;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(n,r.firstChild))}function Fd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Vd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var lc=null;function d0(n,r,l){if(lc===null){var u=new Map,d=lc=new Map;d.set(l,u)}else d=lc,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),d=0;d<l.length;d++){var m=l[d];if(!(m[ol]||m[Ht]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(r)||"";y=n+y;var b=u.get(y);b?b.push(m):u.set(y,[m])}}return u}function p0(n,r,l){n=n.ownerDocument||n,n.head.insertBefore(l,r==="title"?n.querySelector("head > title"):null)}function Zw(n,r,l){if(l===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function m0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Kl=null;function Jw(){}function eR(n,r,l){if(Kl===null)throw Error(i(475));var u=Kl;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=ma(l.href),m=n.querySelector(Xl(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=oc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,At(m);return}m=n.ownerDocument||n,l=f0(l),(d=Un.get(d))&&Fd(l,d),m=m.createElement("link"),At(m);var y=m;y._p=new Promise(function(b,R){y.onload=b,y.onerror=R}),Ut(m,"link",l),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=oc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function tR(){if(Kl===null)throw Error(i(475));var n=Kl;return n.stylesheets&&n.count===0&&Gd(n,n.stylesheets),0<n.count?function(r){var l=setTimeout(function(){if(n.stylesheets&&Gd(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(l)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uc=null;function Gd(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uc=new Map,r.forEach(nR,n),uc=null,oc.call(n))}function nR(n,r){if(!(r.state.loading&4)){var l=uc.get(n);if(l)var u=l.get(null);else{l=new Map,uc.set(n,l);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var y=d[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(l.set(y.dataset.precedence,y),u=y)}u&&l.set(null,u)}d=r.instance,y=d.getAttribute("data-precedence"),m=l.get(y)||u,m===u&&l.set(null,d),l.set(y,d),this.count++,u=oc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var $l={$$typeof:N,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function iR(n,r,l,u,d,m,y,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.hiddenUpdates=Bf(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function _0(n,r,l,u,d,m,y,b,R,z,q,K){return n=new iR(n,r,l,y,b,R,z,K),r=1,m===!0&&(r|=24),m=mn(3,null,null,r),n.current=m,m.stateNode=n,r=wh(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:r},Nh(m),n}function g0(n){return n?(n=Qr,n):Qr}function v0(n,r,l,u,d,m){d=g0(d),u.context===null?u.context=d:u.pendingContext=d,u=Ji(r),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=es(n,u,r),l!==null&&(Sn(l,n,r),xl(l,n,r))}function y0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function qd(n,r){y0(n,r),(n=n.alternate)&&y0(n,r)}function S0(n){if(n.tag===13){var r=Yr(n,67108864);r!==null&&Sn(r,n,67108864),qd(n,67108864)}}var cc=!0;function sR(n,r,l,u){var d=U.T;U.T=null;var m=G.p;try{G.p=2,Yd(n,r,l,u)}finally{G.p=m,U.T=d}}function rR(n,r,l,u){var d=U.T;U.T=null;var m=G.p;try{G.p=8,Yd(n,r,l,u)}finally{G.p=m,U.T=d}}function Yd(n,r,l,u){if(cc){var d=Qd(u);if(d===null)Id(n,r,u,fc,l),b0(n,u);else if(lR(d,n,r,l,u))u.stopPropagation();else if(b0(n,u),r&4&&-1<aR.indexOf(n)){for(;d!==null;){var m=kr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=Hs(m.pendingLanes);if(y!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var R=1<<31-dn(y);b.entanglements[1]|=R,y&=~R}ri(m),(Ue&6)===0&&(Xu=gt()+500,Gl(0))}}break;case 13:b=Yr(m,2),b!==null&&Sn(b,m,2),Ku(),qd(m,2)}if(m=Qd(u),m===null&&Id(n,r,u,fc,l),m===d)break;d=m}d!==null&&u.stopPropagation()}else Id(n,r,u,null,l)}}function Qd(n){return n=Zf(n),Xd(n)}var fc=null;function Xd(n){if(fc=null,n=Ir(n),n!==null){var r=o(n);if(r===null)n=null;else{var l=r.tag;if(l===13){if(n=c(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return fc=n,null}function E0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case ht:return 2;case mi:return 8;case Qi:case Bs:return 32;case iu:return 268435456;default:return 32}default:return 32}}var Wd=!1,ds=null,ps=null,ms=null,Zl=new Map,Jl=new Map,_s=[],aR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(n,r){switch(n){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(r.pointerId)}}function eo(n,r,l,u,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},r!==null&&(r=kr(r),r!==null&&S0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function lR(n,r,l,u,d){switch(r){case"focusin":return ds=eo(ds,n,r,l,u,d),!0;case"dragenter":return ps=eo(ps,n,r,l,u,d),!0;case"mouseover":return ms=eo(ms,n,r,l,u,d),!0;case"pointerover":var m=d.pointerId;return Zl.set(m,eo(Zl.get(m)||null,n,r,l,u,d)),!0;case"gotpointercapture":return m=d.pointerId,Jl.set(m,eo(Jl.get(m)||null,n,r,l,u,d)),!0}return!1}function T0(n){var r=Ir(n.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){n.blockedOn=r,eC(n.priority,function(){if(l.tag===13){var u=yn();u=Hf(u);var d=Yr(l,u);d!==null&&Sn(d,l,u),qd(l,u)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=Qd(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);$f=u,l.target.dispatchEvent(u),$f=null}else return r=kr(l),r!==null&&S0(r),n.blockedOn=l,!1;r.shift()}return!0}function C0(n,r,l){hc(n)&&l.delete(r)}function oR(){Wd=!1,ds!==null&&hc(ds)&&(ds=null),ps!==null&&hc(ps)&&(ps=null),ms!==null&&hc(ms)&&(ms=null),Zl.forEach(C0),Jl.forEach(C0)}function dc(n,r){n.blockedOn===r&&(n.blockedOn=null,Wd||(Wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,oR)))}var pc=null;function w0(n){pc!==n&&(pc=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pc===n&&(pc=null);for(var r=0;r<n.length;r+=3){var l=n[r],u=n[r+1],d=n[r+2];if(typeof u!="function"){if(Xd(u||l)===null)continue;break}var m=kr(l);m!==null&&(n.splice(r,3),r-=3,Xh(m,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function to(n){function r(R){return dc(R,n)}ds!==null&&dc(ds,n),ps!==null&&dc(ps,n),ms!==null&&dc(ms,n),Zl.forEach(r),Jl.forEach(r);for(var l=0;l<_s.length;l++){var u=_s[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<_s.length&&(l=_s[0],l.blockedOn===null);)T0(l),l.blockedOn===null&&_s.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],m=l[u+1],y=d[Zt]||null;if(typeof m=="function")y||w0(l);else if(y){var b=null;if(m&&m.hasAttribute("formAction")){if(d=m,y=m[Zt]||null)b=y.formAction;else if(Xd(d)!==null)continue}else b=y.action;typeof b=="function"?l[u+1]=b:(l.splice(u,3),u-=3),w0(l)}}}function Kd(n){this._internalRoot=n}mc.prototype.render=Kd.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=yn();v0(l,u,n,r,null,null)},mc.prototype.unmount=Kd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;v0(n.current,2,null,n,null,null),Ku(),r[Dr]=null}};function mc(n){this._internalRoot=n}mc.prototype.unstable_scheduleHydration=function(n){if(n){var r=F_();n={blockedOn:null,target:n,priority:r};for(var l=0;l<_s.length&&r!==0&&r<_s[l].priority;l++);_s.splice(l,0,n),l===0&&T0(n)}};var R0=e.version;if(R0!=="19.1.1")throw Error(i(527,R0,"19.1.1"));G.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var uR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{rl=_c.inject(uR),hn=_c}catch{}}return io.createRoot=function(n,r){if(!a(n))throw Error(i(299));var l=!1,u="",d=Fv,m=Vv,y=Gv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=_0(n,1,!1,null,null,l,u,d,m,y,b,null),n[Dr]=r.current,Dd(n),new Kd(r)},io.hydrateRoot=function(n,r,l){if(!a(n))throw Error(i(299));var u=!1,d="",m=Fv,y=Vv,b=Gv,R=null,z=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks),l.formState!==void 0&&(z=l.formState)),r=_0(n,1,!0,r,l??null,u,d,m,y,b,R,z),r.context=g0(null),l=r.current,u=yn(),u=Hf(u),d=Ji(u),d.callback=null,es(l,d,u),l=u,r.current.lanes=l,ll(r,l),ri(r),n[Dr]=r.current,Dd(n),new mc(r)},io.version="19.1.1",io}var P0;function SR(){if(P0)return Jd.exports;P0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=yR(),Jd.exports}var ER=SR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U0="popstate";function bR(s={}){function e(i,a){let{pathname:o,search:c,hash:h}=i.location;return Np("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Co(a)}return CR(e,t,null,s)}function et(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Zn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TR(){return Math.random().toString(36).substring(2,10)}function z0(s,e){return{usr:s.state,key:s.key,idx:e}}function Np(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ya(e):e,state:t,key:e&&e.key||i||TR()}}function Co({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Ya(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function CR(s,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",f=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function g(){h="POP";let w=_(),A=w==null?null:w-p;p=w,f&&f({action:h,location:S.location,delta:A})}function v(w,A){h="PUSH";let D=Np(S.location,w,A);p=_()+1;let N=z0(D,p),H=S.createHref(D);try{c.pushState(N,"",H)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(H)}o&&f&&f({action:h,location:S.location,delta:1})}function E(w,A){h="REPLACE";let D=Np(S.location,w,A);p=_();let N=z0(D,p),H=S.createHref(D);c.replaceState(N,"",H),o&&f&&f({action:h,location:S.location,delta:0})}function T(w){return wR(w)}let S={get action(){return h},get location(){return s(a,c)},listen(w){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(U0,g),f=w,()=>{a.removeEventListener(U0,g),f=null}},createHref(w){return e(a,w)},createURL:T,encodeLocation(w){let A=T(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:E,go(w){return c.go(w)}};return S}function wR(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),et(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Co(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function mS(s,e,t="/"){return RR(s,e,t,!1)}function RR(s,e,t,i){let a=typeof e=="string"?Ya(e):e,o=Bi(a.pathname||"/",t);if(o==null)return null;let c=_S(s);xR(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=zR(o);h=PR(c[f],p,i)}return h}function _S(s,e=[],t=[],i=""){let a=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(et(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=zi([i,f.relativePath]),_=t.concat(f);o.children&&o.children.length>0&&(et(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),_S(o.children,e,_,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:kR(p,o.index),routesMeta:_})};return s.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let h of gS(o.path))a(o,c,h)}),e}function gS(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=gS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>s.startsWith("/")&&f===""?"/":f)}function xR(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:LR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var AR=/^:[\w-]+$/,NR=3,OR=2,MR=1,DR=10,IR=-2,j0=s=>s==="*";function kR(s,e){let t=s.split("/"),i=t.length;return t.some(j0)&&(i+=IR),e&&(i+=OR),t.filter(a=>!j0(a)).reduce((a,o)=>a+(AR.test(o)?NR:o===""?MR:DR),i)}function LR(s,e){return s.length===e.length&&s.slice(0,-1).every((i,a)=>i===e[a])?s[s.length-1]-e[e.length-1]:0}function PR(s,e,t=!1){let{routesMeta:i}=s,a={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,_=o==="/"?e:e.slice(o.length)||"/",g=kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},_),v=f.route;if(!g&&p&&t&&!i[i.length-1].route.index&&(g=kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:zi([o,g.pathname]),pathnameBase:FR(zi([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=zi([o,g.pathnameBase]))}return c}function kc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=UR(s.path,s.caseSensitive,s.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:g},v)=>{if(_==="*"){let T=h[v]||"";c=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const E=h[v];return g&&!E?p[_]=void 0:p[_]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:s}}function UR(s,e=!1,t=!0){Zn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function zR(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Bi(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function jR(s,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof s=="string"?Ya(s):s;return{pathname:t?t.startsWith("/")?t:BR(t,e):e,search:VR(i),hash:GR(a)}}function BR(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function ip(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HR(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vm(s){let e=HR(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function ym(s,e,t,i=!1){let a;typeof s=="string"?a=Ya(s):(a={...s},et(!a.pathname||!a.pathname.includes("?"),ip("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),ip("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),ip("#","search","hash",a)));let o=s===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let g=e.length-1;if(!i&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}h=g>=0?e[g]:"/"}let f=jR(a,h),p=c&&c!=="/"&&c.endsWith("/"),_=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||_)&&(f.pathname+="/"),f}var zi=s=>s.join("/").replace(/\/\/+/g,"/"),FR=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),VR=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,GR=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function qR(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var vS=["POST","PUT","PATCH","DELETE"];new Set(vS);var YR=["GET",...vS];new Set(YR);var Qa=M.createContext(null);Qa.displayName="DataRouter";var mf=M.createContext(null);mf.displayName="DataRouterState";M.createContext(!1);var yS=M.createContext({isTransitioning:!1});yS.displayName="ViewTransition";var QR=M.createContext(new Map);QR.displayName="Fetchers";var XR=M.createContext(null);XR.displayName="Await";var Jn=M.createContext(null);Jn.displayName="Navigation";var Vo=M.createContext(null);Vo.displayName="Location";var di=M.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Sm=M.createContext(null);Sm.displayName="RouteError";function WR(s,{relative:e}={}){et(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(Jn),{hash:a,pathname:o,search:c}=Go(s,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:zi([t,o])),i.createHref({pathname:h,search:c,hash:a})}function Xa(){return M.useContext(Vo)!=null}function Yi(){return et(Xa(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Vo).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ES(s){M.useContext(Jn).static||M.useLayoutEffect(s)}function Wa(){let{isDataRoute:s}=M.useContext(di);return s?ox():KR()}function KR(){et(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let s=M.useContext(Qa),{basename:e,navigator:t}=M.useContext(Jn),{matches:i}=M.useContext(di),{pathname:a}=Yi(),o=JSON.stringify(vm(i)),c=M.useRef(!1);return ES(()=>{c.current=!0}),M.useCallback((f,p={})=>{if(Zn(c.current,SS),!c.current)return;if(typeof f=="number"){t.go(f);return}let _=ym(f,JSON.parse(o),a,p.relative==="path");s==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:zi([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,o,a,s])}M.createContext(null);function Go(s,{relative:e}={}){let{matches:t}=M.useContext(di),{pathname:i}=Yi(),a=JSON.stringify(vm(t));return M.useMemo(()=>ym(s,JSON.parse(a),i,e==="path"),[s,a,i,e])}function $R(s,e){return bS(s,e)}function bS(s,e,t,i){et(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(Jn),{matches:o}=M.useContext(di),c=o[o.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",_=c&&c.route;{let A=_&&_.path||"";TS(f,!_||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=Yi(),v;if(e){let A=typeof e=="string"?Ya(e):e;et(p==="/"||A.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=g;let E=v.pathname||"/",T=E;if(p!=="/"){let A=p.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=mS(s,{pathname:T});Zn(_||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Zn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=nx(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:zi([p,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:zi([p,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,i);return e&&w?M.createElement(Vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function ZR(){let s=lx(),e=qR(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:a},t):null,c)}var JR=M.createElement(ZR,null),ex=class extends M.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?M.createElement(di.Provider,{value:this.props.routeContext},M.createElement(Sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tx({routeContext:s,match:e,children:t}){let i=M.useContext(Qa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(di.Provider,{value:s},t)}function nx(s,e=[],t=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,o=t?.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);et(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:_,errors:g}=t,v=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,_)=>{let g,v=!1,E=null,T=null;t&&(g=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||JR,c&&(h<0&&_===0?(TS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,T=null):h===_&&(v=!0,T=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,_+1)),w=()=>{let A;return g?A=E:v?A=T:p.route.Component?A=M.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,M.createElement(tx,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?M.createElement(ex,{location:t.location,revalidation:t.revalidation,component:E,error:g,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}function Em(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ix(s){let e=M.useContext(Qa);return et(e,Em(s)),e}function sx(s){let e=M.useContext(mf);return et(e,Em(s)),e}function rx(s){let e=M.useContext(di);return et(e,Em(s)),e}function bm(s){let e=rx(s),t=e.matches[e.matches.length-1];return et(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function ax(){return bm("useRouteId")}function lx(){let s=M.useContext(Sm),e=sx("useRouteError"),t=bm("useRouteError");return s!==void 0?s:e.errors?.[t]}function ox(){let{router:s}=ix("useNavigate"),e=bm("useNavigate"),t=M.useRef(!1);return ES(()=>{t.current=!0}),M.useCallback(async(a,o={})=>{Zn(t.current,SS),t.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:e,...o}))},[s,e])}var B0={};function TS(s,e,t){!e&&!B0[s]&&(B0[s]=!0,Zn(!1,t))}M.memo(ux);function ux({routes:s,future:e,state:t}){return bS(s,void 0,t,e)}function CS({to:s,replace:e,state:t,relative:i}){et(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(Jn);Zn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(di),{pathname:c}=Yi(),h=Wa(),f=ym(s,vm(o),c,i==="path"),p=JSON.stringify(f);return M.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:i})},[h,p,i,e,t]),null}function Mi(s){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cx({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1}){et(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=Ya(t));let{pathname:f="/",search:p="",hash:_="",state:g=null,key:v="default"}=t,E=M.useMemo(()=>{let T=Bi(f,c);return T==null?null:{location:{pathname:T,search:p,hash:_,state:g,key:v},navigationType:i}},[c,f,p,_,g,v,i]);return Zn(E!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:M.createElement(Jn.Provider,{value:h},M.createElement(Vo.Provider,{children:e,value:E}))}function fx({children:s,location:e}){return $R(Op(s),e)}function Op(s,e=[]){let t=[];return M.Children.forEach(s,(i,a)=>{if(!M.isValidElement(i))return;let o=[...e,a];if(i.type===M.Fragment){t.push.apply(t,Op(i.props.children,o));return}et(i.type===Mi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Op(i.props.children,o)),t.push(c)}),t}var Tc="get",Cc="application/x-www-form-urlencoded";function _f(s){return s!=null&&typeof s.tagName=="string"}function hx(s){return _f(s)&&s.tagName.toLowerCase()==="button"}function dx(s){return _f(s)&&s.tagName.toLowerCase()==="form"}function px(s){return _f(s)&&s.tagName.toLowerCase()==="input"}function mx(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function _x(s,e){return s.button===0&&(!e||e==="_self")&&!mx(s)}var gc=null;function gx(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var vx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sp(s){return s!=null&&!vx.has(s)?(Zn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):s}function yx(s,e){let t,i,a,o,c;if(dx(s)){let h=s.getAttribute("action");i=h?Bi(h,e):null,t=s.getAttribute("method")||Tc,a=sp(s.getAttribute("enctype"))||Cc,o=new FormData(s)}else if(hx(s)||px(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=s.getAttribute("formaction")||h.getAttribute("action");if(i=f?Bi(f,e):null,t=s.getAttribute("formmethod")||h.getAttribute("method")||Tc,a=sp(s.getAttribute("formenctype"))||sp(h.getAttribute("enctype"))||Cc,o=new FormData(h,s),!gx()){let{name:p,type:_,value:g}=s;if(_==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,g)}}else{if(_f(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tc,i=null,a=Cc,c=s}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tm(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Sx(s,e,t){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Bi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function Ex(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Tx(s,e,t){let i=await Promise.all(s.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await Ex(o,t);return c.links?c.links():[]}return[]}));return xx(i.flat(1).filter(bx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function H0(s,e,t,i,a,o){let c=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Cx(s,e,{includeHydrateFallback:t}={}){return wx(s.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function wx(s){return[...new Set(s)]}function Rx(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function xx(s,e){let t=new Set;return new Set(e),s.reduce((i,a)=>{let o=JSON.stringify(Rx(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}function wS(){let s=M.useContext(Qa);return Tm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ax(){let s=M.useContext(mf);return Tm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Cm=M.createContext(void 0);Cm.displayName="FrameworkContext";function RS(){let s=M.useContext(Cm);return Tm(s,"You must render this element inside a <HydratedRouter> element"),s}function Nx(s,e){let t=M.useContext(Cm),[i,a]=M.useState(!1),[o,c]=M.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:_,onTouchStart:g}=e,v=M.useRef(null);M.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let S=A=>{A.forEach(D=>{c(D.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[s]),M.useEffect(()=>{if(i){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[i]);let E=()=>{a(!0)},T=()=>{a(!1),c(!1)};return t?s!=="intent"?[o,v,{}]:[o,v,{onFocus:so(h,E),onBlur:so(f,T),onMouseEnter:so(p,E),onMouseLeave:so(_,T),onTouchStart:so(g,E)}]:[!1,v,{}]}function so(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Ox({page:s,...e}){let{router:t}=wS(),i=M.useMemo(()=>mS(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?M.createElement(Dx,{page:s,matches:i,...e}):null}function Mx(s){let{manifest:e,routeModules:t}=RS(),[i,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return Tx(s,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[s,e,t]),i}function Dx({page:s,matches:e,...t}){let i=Yi(),{manifest:a,routeModules:o}=RS(),{basename:c}=wS(),{loaderData:h,matches:f}=Ax(),p=M.useMemo(()=>H0(s,e,f,a,i,"data"),[s,e,f,a,i]),_=M.useMemo(()=>H0(s,e,f,a,i,"assets"),[s,e,f,a,i]),g=M.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let T=new Set,S=!1;if(e.forEach(A=>{let D=a.routes[A.route.id];!D||!D.hasLoader||(!p.some(N=>N.route.id===A.route.id)&&A.route.id in h&&o[A.route.id]?.shouldRevalidate||D.hasClientLoader?S=!0:T.add(A.route.id))}),T.size===0)return[];let w=Sx(s,c,"data");return S&&T.size>0&&w.searchParams.set("_routes",e.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[w.pathname+w.search]},[c,h,i,a,p,e,s,o]),v=M.useMemo(()=>Cx(_,a),[_,a]),E=Mx(_);return M.createElement(M.Fragment,null,g.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),v.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),E.map(({key:T,link:S})=>M.createElement("link",{key:T,...S})))}function Ix(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xS&&(window.__reactRouterVersion="7.7.1")}catch{}function kx({basename:s,children:e,window:t}){let i=M.useRef();i.current==null&&(i.current=bR({window:t,v5Compat:!0}));let a=i.current,[o,c]=M.useState({action:a.action,location:a.location}),h=M.useCallback(f=>{M.startTransition(()=>c(f))},[c]);return M.useLayoutEffect(()=>a.listen(h),[a,h]),M.createElement(cx,{basename:s,children:e,location:o.location,navigationType:o.action,navigator:a})}var AS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NS=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:p,preventScrollReset:_,viewTransition:g,...v},E){let{basename:T}=M.useContext(Jn),S=typeof p=="string"&&AS.test(p),w,A=!1;if(typeof p=="string"&&S&&(w=p,xS))try{let V=new URL(window.location.href),te=p.startsWith("//")?new URL(V.protocol+p):new URL(p),ie=Bi(te.pathname,T);te.origin===V.origin&&ie!=null?p=ie+te.search+te.hash:A=!0}catch{Zn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=WR(p,{relative:a}),[N,H,L]=Nx(i,v),W=zx(p,{replace:c,state:h,target:f,preventScrollReset:_,relative:a,viewTransition:g});function Y(V){e&&e(V),V.defaultPrevented||W(V)}let Q=M.createElement("a",{...v,...L,href:w||D,onClick:A||o?e:Y,ref:Ix(E,H),target:f,"data-discover":!S&&t==="render"?"true":void 0});return N&&!S?M.createElement(M.Fragment,null,Q,M.createElement(Ox,{page:D})):Q});NS.displayName="Link";var Lx=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...p},_){let g=Go(c,{relative:p.relative}),v=Yi(),E=M.useContext(mf),{navigator:T,basename:S}=M.useContext(Jn),w=E!=null&&Vx(g)&&h===!0,A=T.encodeLocation?T.encodeLocation(g).pathname:g.pathname,D=v.pathname,N=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(D=D.toLowerCase(),N=N?N.toLowerCase():null,A=A.toLowerCase()),N&&S&&(N=Bi(N,S)||N);const H=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let L=D===A||!a&&D.startsWith(A)&&D.charAt(H)==="/",W=N!=null&&(N===A||!a&&N.startsWith(A)&&N.charAt(A.length)==="/"),Y={isActive:L,isPending:W,isTransitioning:w},Q=L?e:void 0,V;typeof i=="function"?V=i(Y):V=[i,L?"active":null,W?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let te=typeof o=="function"?o(Y):o;return M.createElement(NS,{...p,"aria-current":Q,className:V,ref:_,style:te,to:c,viewTransition:h},typeof f=="function"?f(Y):f)});Lx.displayName="NavLink";var Px=M.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:c=Tc,action:h,onSubmit:f,relative:p,preventScrollReset:_,viewTransition:g,...v},E)=>{let T=Hx(),S=Fx(h,{relative:p}),w=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&AS.test(h),D=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let H=N.nativeEvent.submitter,L=H?.getAttribute("formmethod")||c;T(H||N.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:a,state:o,relative:p,preventScrollReset:_,viewTransition:g})};return M.createElement("form",{ref:E,method:w,action:S,onSubmit:i?f:D,...v,"data-discover":!A&&s==="render"?"true":void 0})});Px.displayName="Form";function Ux(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(s){let e=M.useContext(Qa);return et(e,Ux(s)),e}function zx(s,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=Wa(),f=Yi(),p=Go(s,{relative:o});return M.useCallback(_=>{if(_x(_,e)){_.preventDefault();let g=t!==void 0?t:Co(f)===Co(p);h(s,{replace:g,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,p,t,i,e,s,a,o,c])}var jx=0,Bx=()=>`__${String(++jx)}__`;function Hx(){let{router:s}=OS("useSubmit"),{basename:e}=M.useContext(Jn),t=ax();return M.useCallback(async(i,a={})=>{let{action:o,method:c,encType:h,formData:f,body:p}=yx(i,e);if(a.navigate===!1){let _=a.fetcherKey||Bx();await s.fetch(_,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await s.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,e,t])}function Fx(s,{relative:e}={}){let{basename:t}=M.useContext(Jn),i=M.useContext(di);et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Go(s||".",{relative:e})},c=Yi();if(s==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(g=>g).forEach(g=>h.append("index",g));let _=h.toString();o.search=_?`?${_}`:""}}return(!s||s===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:zi([t,o.pathname])),Co(o)}function Vx(s,{relative:e}={}){let t=M.useContext(yS);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OS("useViewTransitionState"),a=Go(s,{relative:e});if(!t.isTransitioning)return!1;let o=Bi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Bi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return kc(a.pathname,c)!=null||kc(a.pathname,o)!=null}const Gx=()=>{};var F0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee=function(s,e){if(!s)throw Ka(e)},Ka=function(s){return new Error("Firebase Database ("+MS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},qx=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const a=s[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=s[t++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=s[t++],c=s[t++],h=s[t++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=s[t++],c=s[t++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},wm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<s.length;a+=3){const o=s[a],c=a+1<s.length,h=c?s[a+1]:0,f=a+2<s.length,p=f?s[a+2]:0,_=o>>2,g=(o&3)<<4|h>>4;let v=(h&15)<<2|p>>6,E=p&63;f||(E=64,c||(v=64)),i.push(t[_],t[g],t[v],t[E])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(DS(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):qx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<s.length;){const o=t[s.charAt(a++)],h=a<s.length?t[s.charAt(a)]:0;++a;const p=a<s.length?t[s.charAt(a)]:64;++a;const g=a<s.length?t[s.charAt(a)]:64;if(++a,o==null||h==null||p==null||g==null)throw new Yx;const v=o<<2|h>>4;if(i.push(v),p!==64){const E=h<<4&240|p>>2;if(i.push(E),g!==64){const T=p<<6&192|g;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IS=function(s){const e=DS(s);return wm.encodeByteArray(e,!0)},Lc=function(s){return IS(s).replace(/\./g,"")},Pc=function(s){try{return wm.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(s){return kS(void 0,s)}function kS(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Xx(t)||(s[t]=kS(s[t],e[t]));return s}function Xx(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=()=>Wx().__FIREBASE_DEFAULTS__,$x=()=>{if(typeof process>"u"||typeof F0>"u")return;const s=F0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Zx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Pc(s[1]);return e&&JSON.parse(e)},Rm=()=>{try{return Gx()||Kx()||$x()||Zx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},LS=s=>Rm()?.emulatorHosts?.[s],Jx=s=>{const e=LS(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},PS=()=>Rm()?.config,US=s=>Rm()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zS(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=s.iat||0,o=s.sub||s.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Lc(JSON.stringify(t)),Lc(JSON.stringify(c)),""].join(".")}const po={};function tA(){const s={prod:[],emulator:[]};for(const e of Object.keys(po))po[e]?s.emulator.push(e):s.prod.push(e);return s}function nA(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let V0=!1;function jS(s,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||po[s]===e||po[s]||V0)return;po[s]=e;function t(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=tA().prod.length>0;function c(){const v=document.getElementById(i);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{V0=!0,c()},v}function _(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=nA(i),E=t("text"),T=document.getElementById(E)||document.createElement("span"),S=t("learnmore"),w=document.getElementById(S)||document.createElement("a"),A=t("preprendIcon"),D=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;h(N),_(w,S);const H=p();f(D,A),N.append(D,T,w,H),document.body.appendChild(N)}o?(T.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function iA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){const s=Kt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function aA(){return MS.NODE_ADMIN===!0}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="FirebaseError";class zs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=uA,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?cA(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new zs(a,h,i)}}function cA(s,e){return s.replace(fA,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const fA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(s){return JSON.parse(s)}function xt(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=function(s){let e={},t={},i={},a="";try{const o=s.split(".");e=wo(Pc(o[0])||""),t=wo(Pc(o[1])||""),a=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:a}},hA=function(s){const e=HS(s),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},dA=function(s){const e=HS(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function yr(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function Mp(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Uc(s,e,t){const i={};for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=e.call(t,s[a],a,s));return i}function Sr(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const o=s[a],c=e[a];if(G0(o)&&G0(c)){if(!Sr(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function G0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)i[g]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let g=0;g<16;g++)i[g]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let g=16;g<80;g++){const v=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],p,_;for(let g=0;g<80;g++){g<40?g<20?(p=h^o&(c^h),_=1518500249):(p=o^c^h,_=1859775393):g<60?(p=o&c|h&(o|c),_=2400959708):(p=o^c^h,_=3395469782);const v=(a<<5|a>>>27)+p+f+_+i[g]&4294967295;f=h,h=c,c=(o<<30|o>>>2)&4294967295,o=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let a=0;const o=this.buf_;let c=this.inbuf_;for(;a<t;){if(c===0)for(;a<=i;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<t;)if(o[c]=e.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}else for(;a<t;)if(o[c]=e[a],++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[a]>>o&255,++i;return e}}function mA(s,e){const t=new _A(s,e);return t.subscribe.bind(t)}class _A{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=rp),a.error===void 0&&(a.error=rp),a.complete===void 0&&(a.complete=rp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function rp(){}function gf(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);if(a>=55296&&a<=56319){const o=a-55296;i++,ee(i<s.length,"Surrogate pair missing trail surrogate.");const c=s.charCodeAt(i)-56320;a=65536+(o<<10)+c}a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):a<65536?(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},vf=function(s){let e=0;for(let t=0;t<s.length;t++){const i=s.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(s){return s&&s._delegate?s._delegate:s}class Er{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new $a;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EA(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SA(s){return s===lr?void 0:s}function EA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const TA={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},CA=Fe.INFO,wA={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},RA=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),a=wA[e];if(a)console[a](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Am{constructor(e){this.name=e,this._logLevel=CA,this._logHandler=RA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const xA=(s,e)=>e.some(t=>s instanceof t);let q0,Y0;function AA(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NA(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,Dp=new WeakMap,VS=new WeakMap,ap=new WeakMap,Nm=new WeakMap;function OA(s){const e=new Promise((t,i)=>{const a=()=>{s.removeEventListener("success",o),s.removeEventListener("error",c)},o=()=>{t(Rs(s.result)),a()},c=()=>{i(s.error),a()};s.addEventListener("success",o),s.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&FS.set(t,s)}).catch(()=>{}),Nm.set(e,s),e}function MA(s){if(Dp.has(s))return;const e=new Promise((t,i)=>{const a=()=>{s.removeEventListener("complete",o),s.removeEventListener("error",c),s.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{i(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",o),s.addEventListener("error",c),s.addEventListener("abort",c)});Dp.set(s,e)}let Ip={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Dp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||VS.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rs(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function DA(s){Ip=s(Ip)}function IA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(lp(this),e,...t);return VS.set(i,e.sort?e.sort():[e]),Rs(i)}:NA().includes(s)?function(...e){return s.apply(lp(this),e),Rs(FS.get(this))}:function(...e){return Rs(s.apply(lp(this),e))}}function kA(s){return typeof s=="function"?IA(s):(s instanceof IDBTransaction&&MA(s),xA(s,AA())?new Proxy(s,Ip):s)}function Rs(s){if(s instanceof IDBRequest)return OA(s);if(ap.has(s))return ap.get(s);const e=kA(s);return e!==s&&(ap.set(s,e),Nm.set(e,s)),e}const lp=s=>Nm.get(s);function LA(s,e,{blocked:t,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(s,e),h=Rs(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Rs(c.result),f.oldVersion,f.newVersion,Rs(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const PA=["get","getKey","getAll","getAllKeys","count"],UA=["put","add","delete","clear"],op=new Map;function Q0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=UA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||PA.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&f.done]))[0]};return op.set(e,o),o}DA(s=>({...s,get:(e,t,i)=>Q0(e,t)||s.get(e,t,i),has:(e,t)=>!!Q0(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function jA(s){return s.getComponent()?.type==="VERSION"}const kp="@firebase/app",X0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Am("@firebase/app"),BA="@firebase/app-compat",HA="@firebase/analytics-compat",FA="@firebase/analytics",VA="@firebase/app-check-compat",GA="@firebase/app-check",qA="@firebase/auth",YA="@firebase/auth-compat",QA="@firebase/database",XA="@firebase/data-connect",WA="@firebase/database-compat",KA="@firebase/functions",$A="@firebase/functions-compat",ZA="@firebase/installations",JA="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",iN="@firebase/performance-compat",sN="@firebase/remote-config",rN="@firebase/remote-config-compat",aN="@firebase/storage",lN="@firebase/storage-compat",oN="@firebase/firestore",uN="@firebase/ai",cN="@firebase/firestore-compat",fN="firebase",hN="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",dN={[kp]:"fire-core",[BA]:"fire-core-compat",[FA]:"fire-analytics",[HA]:"fire-analytics-compat",[GA]:"fire-app-check",[VA]:"fire-app-check-compat",[qA]:"fire-auth",[YA]:"fire-auth-compat",[QA]:"fire-rtdb",[XA]:"fire-data-connect",[WA]:"fire-rtdb-compat",[KA]:"fire-fn",[$A]:"fire-fn-compat",[ZA]:"fire-iid",[JA]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[iN]:"fire-perf-compat",[sN]:"fire-rc",[rN]:"fire-rc-compat",[aN]:"fire-gcs",[lN]:"fire-gcs-compat",[oN]:"fire-fst",[cN]:"fire-fst-compat",[uN]:"fire-vertex","fire-js":"fire-js",[fN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,pN=new Map,Pp=new Map;function W0(s,e){try{s.container.addComponent(e)}catch(t){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Da(s){const e=s.name;if(Pp.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,s);for(const t of zc.values())W0(t,s);for(const t of pN.values())W0(t,s);return!0}function Om(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Yn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new qo("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=hN;function GS(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i={name:Lp,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(t||(t=PS()),!t)throw xs.create("no-options");const o=zc.get(a);if(o){if(Sr(t,o.options)&&Sr(i,o.config))return o;throw xs.create("duplicate-app",{appName:a})}const c=new bA(a);for(const f of Pp.values())c.addComponent(f);const h=new _N(t,i,c);return zc.set(a,h),h}function qS(s=Lp){const e=zc.get(s);if(!e&&s===Lp&&PS())return GS();if(!e)throw xs.create("no-app",{appName:s});return e}function As(s,e,t){let i=dN[s]??s;t&&(i+=`-${t}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(c.join(" "));return}Da(new Er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firebase-heartbeat-database",vN=1,Ro="firebase-heartbeat-store";let up=null;function YS(){return up||(up=LA(gN,vN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ro)}catch(t){console.warn(t)}}}}).catch(s=>{throw xs.create("idb-open",{originalErrorMessage:s.message})})),up}async function yN(s){try{const t=(await YS()).transaction(Ro),i=await t.objectStore(Ro).get(QS(s));return await t.done,i}catch(e){if(e instanceof zs)Hi.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(t.message)}}}async function K0(s,e){try{const i=(await YS()).transaction(Ro,"readwrite");await i.objectStore(Ro).put(e,QS(s)),await i.done}catch(t){if(t instanceof zs)Hi.warn(t.message);else{const i=xs.create("idb-set",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}function QS(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=1024,EN=30;class bN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>EN){const a=wN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$0(),{heartbeatsToSend:t,unsentEntries:i}=TN(this._heartbeatsCache.heartbeats),a=Lc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Hi.warn(e),""}}}function $0(){return new Date().toISOString().substring(0,10)}function TN(s,e=SN){const t=[];let i=s.slice();for(const a of s){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Z0(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Z0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Z0(s){return Lc(JSON.stringify({version:2,heartbeats:s})).length}function wN(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let i=1;i<s.length;i++)s[i].date<t&&(t=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(s){Da(new Er("platform-logger",e=>new zA(e),"PRIVATE")),Da(new Er("heartbeat",e=>new bN(e),"PRIVATE")),As(kp,X0,s),As(kp,X0,"esm2020"),As("fire-js","")}RN("");function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xN=XS,WS=new qo("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Am("@firebase/auth");function AN(s,...e){jc.logLevel<=Fe.WARN&&jc.warn(`Auth (${el}): ${s}`,...e)}function wc(s,...e){jc.logLevel<=Fe.ERROR&&jc.error(`Auth (${el}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(s,...e){throw Dm(s,...e)}function Kn(s,...e){return Dm(s,...e)}function Mm(s,e,t){const i={...xN(),[e]:t};return new qo("auth","Firebase",i).create(e,{appName:s.name})}function pr(s){return Mm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NN(s,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&fi(s,"argument-error"),Mm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dm(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return WS.create(s,...e)}function ge(s,e,...t){if(!s)throw Dm(e,...t)}function Li(s){const e="INTERNAL ASSERTION FAILED: "+s;throw wc(e),new Error(e)}function Fi(s,e){s||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){return typeof self<"u"&&self.location?.href||""}function ON(){return J0()==="http:"||J0()==="https:"}function J0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ON()||sA()||"connection"in navigator)?navigator.onLine:!0}function DN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fi(t>e,"Short delay should be less than long delay!"),this.isMobile=xm()||BS()}get(){return MN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s,e){Fi(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LN=new Yo(3e4,6e4);function km(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function tl(s,e,t,i,a={}){return $S(s,a,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=Ja({key:s.config.apiKey,...c}).slice(1),f=await s._getAdditionalHeaders();f["Content-Type"]="application/json",s.languageCode&&(f["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:f,...o};return iA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Za(s.emulatorConfig.host)&&(p.credentials="include"),KS.fetch()(await ZS(s,s.config.apiHost,t,h),p)})}async function $S(s,e,t){s._canInitEmulator=!1;const i={...IN,...e};try{const a=new UN(s),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw vc(s,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(s,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw vc(s,"email-already-in-use",c);if(f==="USER_DISABLED")throw vc(s,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mm(s,_,p);fi(s,_)}}catch(a){if(a instanceof zs)throw a;fi(s,"network-request-failed",{message:String(a)})}}async function PN(s,e,t,i,a={}){const o=await tl(s,e,t,i,a);return"mfaPendingCredential"in o&&fi(s,"multi-factor-auth-required",{_serverResponse:o}),o}async function ZS(s,e,t,i){const a=`${e}${t}?${i}`,o=s,c=o.config.emulator?Im(s.config,a):`${s.config.apiScheme}://${a}`;return kN.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),LN.get())})}}function vc(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Kn(s,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(s,e){return tl(s,"POST","/v1/accounts:delete",e)}async function Bc(s,e){return tl(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jN(s,e=!1){const t=$t(s),i=await t.getIdToken(e),a=Lm(i);ge(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:mo(cp(a.auth_time)),issuedAtTime:mo(cp(a.iat)),expirationTime:mo(cp(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function cp(s){return Number(s)*1e3}function Lm(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const a=Pc(t);return a?JSON.parse(a):(wc("Failed to decode base64 JWT payload"),null)}catch(a){return wc("Caught error parsing JWT payload as JSON",a?.toString()),null}}function e1(s){const e=Lm(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof zs&&BN(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function BN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(s){const e=s.auth,t=await s.getIdToken(),i=await xo(s,Bc(e,{idToken:t}));ge(i?.users.length,e,"internal-error");const a=i.users[0];s._notifyReloadListener(a);const o=a.providerUserInfo?.length?JS(a.providerUserInfo):[],c=VN(s.providerData,o),h=s.isAnonymous,f=!(s.email&&a.passwordHash)&&!c?.length,p=h?f:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new zp(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(s,_)}async function FN(s){const e=$t(s);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VN(s,e){return[...s.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function JS(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(s,e){const t=await $S(s,{},async()=>{const i=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=s.config,c=await ZS(s,a,"/v1/token",`key=${o}`),h=await s._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return s.emulatorConfig&&Za(s.emulatorConfig.host)&&(f.credentials="include"),KS.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qN(s,e){return tl(s,"POST","/v2/accounts:revokeToken",km(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=e1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:o}=await GN(e,t);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:o}=t,c=new Ta;return i&&(ge(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(ge(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(ge(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new HN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await xo(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jN(this,e)}reload(){return FN(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await xo(this,zN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:E,providerData:T,stsTokenManager:S}=t;ge(g&&S,e,"internal-error");const w=Ta.fromJSON(this.name,S);ge(typeof g=="string",e,"internal-error"),vs(i,e.name),vs(a,e.name),ge(typeof v=="boolean",e,"internal-error"),ge(typeof E=="boolean",e,"internal-error"),vs(o,e.name),vs(c,e.name),vs(h,e.name),vs(f,e.name),vs(p,e.name),vs(_,e.name);const A=new Xn({uid:g,auth:e,email:a,emailVerified:v,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:w,createdAt:p,lastLoginAt:_});return T&&Array.isArray(T)&&(A.providerData=T.map(D=>({...D}))),f&&(A._redirectEventId=f),A}static async _fromIdTokenResponse(e,t,i=!1){const a=new Ta;a.updateFromServerResponse(t);const o=new Xn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Hc(o),o}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];ge(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?JS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Ta;h.updateFromIdToken(i);const f=new Xn({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new zp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Map;function Pi(s){Fi(s instanceof Function,"Expected a class definition");let e=t1.get(s);return e?(Fi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,t1.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eE.type="NONE";const n1=eE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(s,e,t){return`firebase:${s}:${e}:${t}`}class Ca{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Rc(this.userKey,a.apiKey,o),this.fullPersistenceKey=Rc("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bc(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ca(Pi(n1),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Pi(n1);const c=Rc(i,e.config.apiKey,e.name);let h=null;for(const p of t)try{const _=await p._get(c);if(_){let g;if(typeof _=="string"){const v=await Bc(e,{idToken:_}).catch(()=>{});if(!v)break;g=await Xn._fromGetAccountInfoResponse(e,v,_)}else g=Xn._fromJSON(e,_);p!==o&&(h=g),o=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ca(o,e,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Ca(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aE(e))return"Blackberry";if(lE(e))return"Webos";if(nE(e))return"Safari";if((e.includes("chrome/")||iE(e))&&!e.includes("edge/"))return"Chrome";if(rE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if(i?.length===2)return i[1]}return"Other"}function tE(s=Kt()){return/firefox\//i.test(s)}function nE(s=Kt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iE(s=Kt()){return/crios\//i.test(s)}function sE(s=Kt()){return/iemobile/i.test(s)}function rE(s=Kt()){return/android/i.test(s)}function aE(s=Kt()){return/blackberry/i.test(s)}function lE(s=Kt()){return/webos/i.test(s)}function Pm(s=Kt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function YN(s=Kt()){return Pm(s)&&!!window.navigator?.standalone}function QN(){return rA()&&document.documentMode===10}function oE(s=Kt()){return Pm(s)||rE(s)||lE(s)||aE(s)||/windows phone/i.test(s)||sE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(s,e=[]){let t;switch(s){case"Browser":t=i1(Kt());break;case"Worker":t=`${i1(Kt())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${el}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,h)=>{try{const f=e(o);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(s,e={}){return tl(s,"GET","/v2/passwordPolicy",km(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=6;class $N{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??KN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s1(this),this.idTokenSubscription=new s1(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bc(this,{idToken:e}),i=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(pr(this));const t=e?$t(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WN(this),t=new $N(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await qN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yf(s){return $t(s)}class s1{constructor(e){this.auth=e,this.observer=null,this.addObserver=mA(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JN(s){Um=s}function eO(s){return Um.loadJS(s)}function tO(){return Um.gapiScript}function nO(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(s,e){const t=Om(s,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Sr(o,e??{}))return a;fi(a,"already-initialized")}return t.initialize({options:e})}function sO(s,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Pi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function rO(s,e,t){const i=yf(s);ge(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=cE(e),{host:c,port:h}=aO(e),f=h===null?"":`:${h}`,p={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ge(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ge(Sr(p,i.config.emulator)&&Sr(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Za(c)?(zS(`${o}//${c}${f}`),jS("Auth",!0)):lO()}function cE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function aO(s){const e=cE(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:r1(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:r1(c)}}}function r1(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function lO(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,t){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(s,e){return PN(s,"POST","/v1/accounts:signInWithIdp",km(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="http://localhost";class br extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=t;if(!i||!a)return null;const c=new br(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return wa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wa(e,t)}buildRequest(){const e={requestUri:oO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ja(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Qo{constructor(){super("facebook.com")}static credential(e){return br._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return br._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ki.credential(t,i)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Qo{constructor(){super("github.com")}static credential(e){return br._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Qo{constructor(){super("twitter.com")}static credential(e,t){return br._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Es.credential(t,i)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const o=await Xn._fromIdTokenResponse(e,i,a),c=a1(i);return new Ia({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=a1(i);return new Ia({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function a1(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends zs{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Fc(e,t,i,a)}}function hE(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(s,o,e,i):o})}async function uO(s,e,t=!1){const i=await xo(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return Ia._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(s,e,t=!1){const{auth:i}=s;if(Yn(i.app))return Promise.reject(pr(i));const a="reauthenticate";try{const o=await xo(s,hE(i,a,e,s),t);ge(o.idToken,i,"internal-error");const c=Lm(o.idToken);ge(c,i,"internal-error");const{sub:h}=c;return ge(s.uid===h,i,"user-mismatch"),Ia._forOperation(s,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&fi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(s,e,t=!1){if(Yn(s.app))return Promise.reject(pr(s));const i="signIn",a=await hE(s,i,e),o=await Ia._fromIdTokenResponse(s,i,a);return t||await s._updateCurrentUser(o.user),o}function hO(s,e,t,i){return $t(s).onIdTokenChanged(e,t,i)}function dO(s,e,t){return $t(s).beforeAuthStateChanged(e,t)}function pO(s,e,t,i){return $t(s).onAuthStateChanged(e,t,i)}function fp(s){return $t(s).signOut()}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1e3,_O=10;class pE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);QN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_O):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},mO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pE.type="LOCAL";const gO=pE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mE.type="SESSION";const _E=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Sf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(t.origin,o)),f=await vO(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const p=jm("",20);a.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(g){const v=g;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function SO(s){ui().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function EO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bO(){return navigator?.serviceWorker?.controller||null}function TO(){return gE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="firebaseLocalStorageDb",CO=1,Gc="firebaseLocalStorage",yE="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ef(s,e){return s.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function wO(){const s=indexedDB.deleteDatabase(vE);return new Xo(s).toPromise()}function jp(){const s=indexedDB.open(vE,CO);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Gc,{keyPath:yE})}catch(a){t(a)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Gc)?e(i):(i.close(),await wO(),e(await jp()))})})}async function l1(s,e,t){const i=Ef(s,!0).put({[yE]:e,value:t});return new Xo(i).toPromise()}async function RO(s,e){const t=Ef(s,!1).get(e),i=await new Xo(t).toPromise();return i===void 0?null:i.value}function o1(s,e){const t=Ef(s,!0).delete(e);return new Xo(t).toPromise()}const xO=800,AO=3;class SE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>AO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(TO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EO(),!this.activeServiceWorker)return;this.sender=new yO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await l1(e,Vc,"1"),await o1(e,Vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>l1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>RO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>o1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Ef(a,!1).getAll();return new Xo(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SE.type="LOCAL";const NO=SE;new Yo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(s,e){return e?Pi(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends fE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OO(s){return fO(s.auth,new Bm(s),s.bypassAuthState)}function MO(s){const{auth:e,user:t}=s;return ge(t,e,"internal-error"),cO(t,new Bm(s),s.bypassAuthState)}async function DO(s){const{auth:e,user:t}=s;return ge(t,e,"internal-error"),uO(t,new Bm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OO;case"linkViaPopup":case"linkViaRedirect":return DO;case"reauthViaPopup":case"reauthViaRedirect":return MO;default:fi(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new Yo(2e3,1e4);async function kO(s,e,t){if(Yn(s.app))return Promise.reject(Kn(s,"operation-not-supported-in-this-environment"));const i=yf(s);NN(s,e,zm);const a=EE(i,t);return new cr(i,"signInViaPopup",e,a).executeNotNull()}class cr extends bE{constructor(e,t,i,a,o){super(e,t,a,o),this.provider=i,this.authWindow=null,this.pollId=null,cr.currentPopupAction&&cr.currentPopupAction.cancel(),cr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IO.get())};e()}}cr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="pendingRedirect",xc=new Map;class PO extends bE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const i=await UO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UO(s,e){const t=BO(e),i=jO(s);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function zO(s,e){xc.set(s._key(),e)}function jO(s){return Pi(s._redirectPersistence)}function BO(s){return Rc(LO,s.config.apiKey,s.name)}async function HO(s,e,t=!1){if(Yn(s.app))return Promise.reject(pr(s));const i=yf(s),a=EE(i,e),c=await new PO(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=600*1e3;class VO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!TE(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Kn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FO&&this.cachedEventUids.clear(),this.cachedEventUids.has(u1(e))}saveEventToCache(e){this.cachedEventUids.add(u1(e)),this.lastProcessedEventTime=Date.now()}}function u1(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function TE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function GO(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(s,e={}){return tl(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QO=/^https?/;async function XO(s){if(s.config.emulator)return;const{authorizedDomains:e}=await qO(s);for(const t of e)try{if(WO(t))return}catch{}fi(s,"unauthorized-domain")}function WO(s){const e=Up(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!QO.test(t))return!1;if(YO.test(s))return i===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new Yo(3e4,6e4);function c1(){const s=ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function $O(s){return new Promise((e,t)=>{function i(){c1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c1(),t(Kn(s,"network-request-failed"))},timeout:KO.get()})}if(ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ui().gapi?.load)i();else{const a=nO("iframefcb");return ui()[a]=()=>{gapi.load?i():t(Kn(s,"network-request-failed"))},eO(`${tO()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function ZO(s){return Ac=Ac||$O(s),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new Yo(5e3,15e3),eM="__/auth/iframe",tM="emulator/auth/iframe",nM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sM(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Im(e,tM):`https://${s.config.authDomain}/${eM}`,i={apiKey:e.apiKey,appName:s.name,v:el},a=iM.get(s.config.apiHost);a&&(i.eid=a);const o=s._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Ja(i).slice(1)}`}async function rM(s){const e=await ZO(s),t=ui().gapi;return ge(t,s,"internal-error"),e.open({where:document.body,url:sM(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nM,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=Kn(s,"network-request-failed"),h=ui().setTimeout(()=>{o(c)},JO.get());function f(){ui().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lM=500,oM=600,uM="_blank",cM="http://localhost";class f1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fM(s,e,t,i=lM,a=oM){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...aM,width:i.toString(),height:a.toString(),top:o,left:c},p=Kt().toLowerCase();t&&(h=iE(p)?uM:t),tE(p)&&(e=e||cM,f.scrollbars="yes");const _=Object.entries(f).reduce((v,[E,T])=>`${v}${E}=${T},`,"");if(YN(p)&&h!=="_self")return hM(e||"",h),new f1(null);const g=window.open(e||"",h,_);ge(g,s,"popup-blocked");try{g.focus()}catch{}return new f1(g)}function hM(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="__/auth/handler",pM="emulator/auth/handler",mM=encodeURIComponent("fac");async function h1(s,e,t,i,a,o){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:el,eventId:a};if(e instanceof zm){e.setDefaultLanguage(s.languageCode),c.providerId=e.providerId||"",Mp(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,g]of Object.entries({}))c[_]=g}if(e instanceof Qo){const _=e.getScopes().filter(g=>g!=="");_.length>0&&(c.scopes=_.join(","))}s.tenantId&&(c.tid=s.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await s._getAppCheckToken(),p=f?`#${mM}=${encodeURIComponent(f)}`:"";return`${_M(s)}?${Ja(h).slice(1)}${p}`}function _M({config:s}){return s.emulator?Im(s,pM):`https://${s.authDomain}/${dM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class gM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=HO,this._overrideRedirectResult=zO}async _openPopup(e,t,i,a){Fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await h1(e,t,i,Up(),a);return fM(e,o,jm())}async _openRedirect(e,t,i,a){await this._originValidation(e);const o=await h1(e,t,i,Up(),a);return SO(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Fi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await rM(e),i=new VO(e);return t.register("authEvent",a=>(ge(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hp,{type:hp},a=>{const o=a?.[0]?.[hp];o!==void 0&&t(!!o),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oE()||nE()||Pm()}}const vM=gM;var d1="@firebase/auth",p1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EM(s){Da(new Er("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ge(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uE(s)},p=new ZN(i,a,o,f);return sO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Da(new Er("auth-internal",e=>{const t=yf(e.getProvider("auth").getImmediate());return(i=>new yM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(d1,p1,SM(s)),As(d1,p1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=300,TM=US("authIdTokenMaxAge")||bM;let m1=null;const CM=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>TM)return;const a=t?.token;m1!==a&&(m1=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function wM(s=qS()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const t=iO(s,{popupRedirectResolver:vM,persistence:[NO,gO,_E]}),i=US("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=CM(o.toString());dO(t,c,()=>c(t.currentUser)),hO(t,h=>c(h))}}const a=LS("auth");return a&&rO(t,`http://${a}`),t}function RM(){return document.getElementsByTagName("head")?.[0]??document}JN({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=a=>{const o=Kn("internal-error");o.customData=a,t(o)},i.type="text/javascript",i.charset="UTF-8",RM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EM("Browser");var xM="firebase",AM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(xM,AM,"app");var _1={};const g1="@firebase/database",v1="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CE="";function NM(s){CE=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:wo(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return ei(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new OM(e)}}catch{}return new MM},fr=wE("localStorage"),DM=wE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Am("@firebase/database"),RE=function(){let s=1;return function(){return s++}}(),xE=function(s){const e=vA(s),t=new pA;t.update(e);const i=t.digest();return wm.encodeByteArray(i)},Wo=function(...s){let e="";for(let t=0;t<s.length;t++){const i=s[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Wo.apply(null,i):typeof i=="object"?e+=xt(i):e+=i,e+=" "}return e};let _o=null,y1=!0;const IM=function(s,e){ee(!0,"Can't turn on custom loggers persistently."),Ra.logLevel=Fe.VERBOSE,_o=Ra.log.bind(Ra)},zt=function(...s){if(y1===!0&&(y1=!1,_o===null&&DM.get("logging_enabled")===!0&&IM()),_o){const e=Wo.apply(null,s);_o(e)}},Ko=function(s){return function(...e){zt(s,...e)}},Bp=function(...s){const e="FIREBASE INTERNAL ERROR: "+Wo(...s);Ra.error(e)},Vi=function(...s){const e=`FIREBASE FATAL ERROR: ${Wo(...s)}`;throw Ra.error(e),new Error(e)},Wt=function(...s){const e="FIREBASE WARNING: "+Wo(...s);Ra.warn(e)},kM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hm=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},LM=function(s){if(document.readyState==="complete")s();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ka="[MIN_NAME]",Tr="[MAX_NAME]",Ar=function(s,e){if(s===e)return 0;if(s===ka||e===Tr)return-1;if(e===ka||s===Tr)return 1;{const t=S1(s),i=S1(e);return t!==null?i!==null?t-i===0?s.length-e.length:t-i:-1:i!==null?1:s<e?-1:1}},PM=function(s,e){return s===e?0:s<e?-1:1},ro=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+xt(e))},Fm=function(s){if(typeof s!="object"||s===null)return xt(s);const e=[];for(const i in s)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=xt(e[i]),t+=":",t+=Fm(s[e[i]]);return t+="}",t},AE=function(s,e){const t=s.length;if(t<=e)return[s];const i=[];for(let a=0;a<t;a+=e)a+e>t?i.push(s.substring(a,t)):i.push(s.substring(a,a+e));return i};function Bt(s,e){for(const t in s)s.hasOwnProperty(t)&&e(t,s[t])}const NE=function(s){ee(!Hm(s),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let a,o,c,h,f;s===0?(o=0,c=0,a=1/s===-1/0?1:0):(a=s<0,s=Math.abs(s),s>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(s)/Math.LN2),i),o=h+i,c=Math.round(s*Math.pow(2,t-h)-Math.pow(2,t))):(o=0,c=Math.round(s/Math.pow(2,1-i-t))));const p=[];for(f=t;f;f-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(a?1:0),p.reverse();const _=p.join("");let g="";for(f=0;f<64;f+=8){let v=parseInt(_.substr(f,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},UM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jM(s,e){let t="Unknown Error";s==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?t="Client doesn't have permission to access the desired data.":s==="unavailable"&&(t="The service is unavailable");const i=new Error(s+" at "+e._path.toString()+": "+t);return i.code=s.toUpperCase(),i}const BM=new RegExp("^-?(0*)\\d{1,10}$"),HM=-2147483648,FM=2147483647,S1=function(s){if(BM.test(s)){const e=Number(s);if(e>=HM&&e<=FM)return e}return null},nl=function(s){try{s()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Wt("Exception was thrown by user callback.",t),e},Math.floor(0))}},VM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},go=function(s,e){const t=setTimeout(s,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Yn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(e)}}class Nc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="5",OE="v",ME="s",DE="r",IE="f",kE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LE="ls",PE="p",Hp="ac",UE="websocket",zE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t,i,a,o=!1,c="",h=!1,f=!1,p=null){this.secure=t,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function YM(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function BE(s,e,t){ee(typeof e=="string","typeof type must == string"),ee(typeof t=="object","typeof params must == object");let i;if(e===UE)i=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===zE)i=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);YM(s)&&(t.ns=s.namespace);const a=[];return Bt(t,(o,c)=>{a.push(o+"="+c)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.counters_={}}incrementCounter(e,t=1){ei(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Qx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp={},pp={};function Gm(s){const e=s.toString();return dp[e]||(dp[e]=new QM),dp[e]}function XM(s,e){const t=s.toString();return pp[t]||(pp[t]=e()),pp[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&nl(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="start",KM="close",$M="pLPCommand",ZM="pRTLPCB",HE="id",FE="pw",VE="ser",JM="cb",e2="seg",t2="ts",n2="d",i2="dframe",GE=1870,qE=30,s2=GE-qE,r2=25e3,a2=3e4;class ya{constructor(e,t,i,a,o,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ko(e),this.stats_=Gm(t),this.urlFn=f=>(this.appCheckToken&&(f[Hp]=this.appCheckToken),BE(t,zE,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new WM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(a2)),LM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qm((...o)=>{const[c,h,f,p,_]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===E1)this.id=h,this.password=f;else if(c===KM)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[E1]="t",i[VE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[JM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[OE]=Vm,this.transportSessionId&&(i[ME]=this.transportSessionId),this.lastSessionId&&(i[LE]=this.lastSessionId),this.applicationId&&(i[PE]=this.applicationId),this.appCheckToken&&(i[Hp]=this.appCheckToken),typeof location<"u"&&location.hostname&&kE.test(location.hostname)&&(i[DE]=IE);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ya.forceAllow_=!0}static forceDisallow(){ya.forceDisallow_=!0}static isAvailable(){return ya.forceAllow_?!0:!ya.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!UM()&&!zM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=IS(t),a=AE(i,s2);for(let o=0;o<a.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[i2]="t",i[HE]=e,i[FE]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=xt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class qm{constructor(e,t,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RE(),window[$M+this.uniqueCallbackIdentifier]=e,window[ZM+this.uniqueCallbackIdentifier]=t,this.myIFrame=qm.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){zt("frame writing exception"),h.stack&&zt(h.stack),zt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[HE]=this.myID,e[FE]=this.myPW,e[VE]=this.currentSerial;let t=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+qE+i.length<=GE;){const c=this.pendingSegs.shift();i=i+"&"+e2+a+"="+c.seg+"&"+t2+a+"="+c.ts+"&"+n2+a+"="+c.d,a++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(i,Math.floor(r2)),o=()=>{clearTimeout(a),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=16384,o2=45e3;let qc=null;typeof MozWebSocket<"u"?qc=MozWebSocket:typeof WebSocket<"u"&&(qc=WebSocket);class Qn{constructor(e,t,i,a,o,c,h){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ko(this.connId),this.stats_=Gm(t),this.connURL=Qn.connectionURL_(t,c,h,a,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,a,o){const c={};return c[OE]=Vm,typeof location<"u"&&location.hostname&&kE.test(location.hostname)&&(c[DE]=IE),t&&(c[ME]=t),i&&(c[LE]=i),a&&(c[Hp]=a),o&&(c[PE]=o),BE(e,UE,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fr.set("previous_websocket_failure",!0);try{let i;aA(),this.mySock=new qc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Qn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&qc!==null&&!Qn.forceDisallow_}static previouslyFailed(){return fr.isInMemoryStorage||fr.get("previous_websocket_failure")===!0}markConnectionHealthy(){fr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=wo(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=AE(t,l2);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(o2))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qn.responsesRequiredToBeHealthy=2;Qn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static get ALL_TRANSPORTS(){return[ya,Qn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Qn&&Qn.isAvailable();let i=t&&!Qn.previouslyFailed();if(e.webSocketOnly&&(t||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Qn];else{const a=this.transports_=[];for(const o of Ao.ALL_TRANSPORTS)o&&o.isAvailable()&&a.push(o);Ao.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ao.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=6e4,c2=5e3,f2=10*1024,h2=100*1024,mp="t",b1="d",d2="s",T1="r",p2="e",C1="o",w1="a",R1="n",x1="p",m2="h";class _2{constructor(e,t,i,a,o,c,h,f,p,_){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ko("c:"+this.id+":"),this.transportManager_=new Ao(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=go(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>h2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>f2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(mp in e){const t=e[mp];t===w1?this.upgradeIfSecondaryHealthy_():t===T1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===C1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ro("t",e),i=ro("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:x1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:w1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:R1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ro("t",e),i=ro("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ro(mp,e);if(b1 in e){const i=e[b1];if(t===m2){const a={...i};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(t===R1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===d2?this.onConnectionShutdown_(i):t===T1?this.onReset_(i):t===p2?Bp("Server Error: "+i):t===C1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bp("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Vm!==i&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),go(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(u2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):go(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(c2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:x1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{put(e,t,i,a){}merge(e,t,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.allowedEvents_=e,this.listeners_={},ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const a=this.getInitialEvent(e);a&&t.apply(i,a)}off(e,t,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let o=0;o<a.length;o++)if(a[o].callback===t&&(!i||i===a[o].context)){a.splice(o,1);return}}validateEventType_(e){ee(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends QE{static getInstance(){return new Yc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=32,N1=768;class Ve{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ke(){return new Ve("")}function Ee(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Is(s){return s.pieces_.length-s.pieceNum_}function We(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Ve(s.pieces_,e)}function Ym(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function g2(s){let e="";for(let t=s.pieceNum_;t<s.pieces_.length;t++)s.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[t])));return e||"/"}function No(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function XE(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let t=s.pieceNum_;t<s.pieces_.length-1;t++)e.push(s.pieces_[t]);return new Ve(e,0)}function ct(s,e){const t=[];for(let i=s.pieceNum_;i<s.pieces_.length;i++)t.push(s.pieces_[i]);if(e instanceof Ve)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&t.push(i[a])}return new Ve(t,0)}function Re(s){return s.pieceNum_>=s.pieces_.length}function Xt(s,e){const t=Ee(s),i=Ee(e);if(t===null)return e;if(t===i)return Xt(We(s),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function v2(s,e){const t=No(s,0),i=No(e,0);for(let a=0;a<t.length&&a<i.length;a++){const o=Ar(t[a],i[a]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function Qm(s,e){if(Is(s)!==Is(e))return!1;for(let t=s.pieceNum_,i=e.pieceNum_;t<=s.pieces_.length;t++,i++)if(s.pieces_[t]!==e.pieces_[i])return!1;return!0}function jn(s,e){let t=s.pieceNum_,i=e.pieceNum_;if(Is(s)>Is(e))return!1;for(;t<s.pieces_.length;){if(s.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class y2{constructor(e,t){this.errorPrefix_=t,this.parts_=No(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=vf(this.parts_[i]);WE(this)}}function S2(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=vf(e),WE(s)}function E2(s){const e=s.parts_.pop();s.byteLength_-=vf(e),s.parts_.length>0&&(s.byteLength_-=1)}function WE(s){if(s.byteLength_>N1)throw new Error(s.errorPrefix_+"has a key path longer than "+N1+" bytes ("+s.byteLength_+").");if(s.parts_.length>A1)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A1+") or object contains a cycle "+or(s))}function or(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends QE{static getInstance(){return new Xm}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=1e3,b2=300*1e3,O1=30*1e3,T2=1.3,C2=3e4,w2="server_kill",M1=3;class ji extends YE{constructor(e,t,i,a,o,c,h,f){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=ji.nextPersistentConnectionId_++,this.log_=Ko("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ao,this.maxReconnectDelay_=b2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Yc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const a=++this.requestNumber_,o={r:a,a:e,b:t};this.log_(xt(o)),ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const t=new $a,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?t.resolve(h):t.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,a){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ee(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:t,query:e,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),a=t._queryIdentifier;this.log_("Listen on "+i+" for "+a);const o={p:i},c="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,h=>{const f=h.d,p=h.s;ji.warnOnListenWarnings_(f,t),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(i,a),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&ei(e,"w")){const i=yr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||dA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=hA(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,a=>{const o=a.s,c=a.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,t)}sendUnlisten_(e,t,i,a){this.log_("Unlisten on "+e+" for "+t);const o={p:e},c="n";a&&(o.q=i,o.t=a),this.sendRequest(c,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,a){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(e,t,i,a){this.putInternal("p",e,t,i,a)}merge(e,t,i,a){this.putInternal("m",e,t,i,a)}putInternal(e,t,i,a,o){this.initConnection_();const c={p:t,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xt(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Bp("Unrecognized action received from server: "+xt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ao,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ao,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>C2&&(this.reconnectDelay_=ao),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*T2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+ji.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,i())},p=function(g){ee(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(g)};this.realtime_={close:f,sendRequest:p};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);c?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,h=new _2(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,E=>{Wt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(w2)},o))}catch(g){this.log_("Failed to get token: "+g),c||(this.repoInfo_.nodeAdmin&&Wt(g),f())}}}interrupt(e){zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Mp(this.interruptReasons_)&&(this.reconnectDelay_=ao,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>Fm(o)).join("$"):i="default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,t){const i=new Ve(e).toString();let a;if(this.listens.has(i)){const o=this.listens.get(i);a=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,t){zt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M1&&(this.reconnectDelay_=O1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){zt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+CE.replace(/\./g,"-")]=1,xm()?e["framework.cordova"]=1:BS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Yc.getInstance().currentlyOnline();return Mp(this.interruptReasons_)&&e}}ji.nextPersistentConnectionId_=0;ji.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new be(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new be(ka,e),a=new be(ka,t);return this.compare(i,a)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc;class KE extends bf{static get __EMPTY_NODE(){return yc}static set __EMPTY_NODE(e){yc=e}compare(e,t){return Ar(e.name,t.name)}isDefinedOn(e){throw Ka("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return be.MIN}maxPost(){return new be(Tr,yc)}makePost(e,t){return ee(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,yc)}toString(){return".key"}}const xa=new KE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t,i,a,o=null){this.isReverse_=a,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,a&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,t,i,a,o){this.key=e,this.value=t,this.color=i??It.RED,this.left=a??sn.EMPTY_NODE,this.right=o??sn.EMPTY_NODE}copy(e,t,i,a,o){return new It(e??this.key,t??this.value,i??this.color,a??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const o=i(e,a.key);return o<0?a=a.copy(null,null,null,a.left.insert(e,t,i),null):o===0?a=a.copy(null,t,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return sn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,a;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class R2{copy(e,t,i,a,o){return this}insert(e,t,i){return new It(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class sn{constructor(e,t=sn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new sn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new sn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,a=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Sc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Sc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Sc(this.root_,null,this.comparator_,!0,e)}}sn.EMPTY_NODE=new R2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(s,e){return Ar(s.name,e.name)}function Wm(s,e){return Ar(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp;function A2(s){Fp=s}const $E=function(s){return typeof s=="number"?"number:"+NE(s):"string:"+s},ZE=function(s){if(s.isLeafNode()){const e=s.val();ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ei(e,".sv"),"Priority must be a string or number.")}else ee(s===Fp||s.isEmpty(),"priority of unexpected type.");ee(s===Fp||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D1;class Dt{static set __childrenNodeConstructor(e){D1=e}static get __childrenNodeConstructor(){return D1}constructor(e,t=Dt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ZE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Dt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Dt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Re(e)?this:Ee(e)===".priority"?this.priorityNode_:Dt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Dt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=Ee(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ee(i!==".priority"||Is(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Dt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$E(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=NE(this.value_):e+=this.value_,this.lazyHash_=xE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Dt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Dt.__childrenNodeConstructor?-1:(ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,a=Dt.VALUE_TYPE_ORDER.indexOf(t),o=Dt.VALUE_TYPE_ORDER.indexOf(i);return ee(a>=0,"Unknown leaf type: "+t),ee(o>=0,"Unknown leaf type: "+i),a===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Dt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JE,eb;function N2(s){JE=s}function O2(s){eb=s}class M2 extends bf{compare(e,t){const i=e.node.getPriority(),a=t.node.getPriority(),o=i.compareTo(a);return o===0?Ar(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return be.MIN}maxPost(){return new be(Tr,new Dt("[PRIORITY-POST]",eb))}makePost(e,t){const i=JE(e);return new be(t,new Dt("[PRIORITY-POST]",i))}toString(){return".priority"}}const rt=new M2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=Math.log(2);class I2{constructor(e){const t=o=>parseInt(Math.log(o)/D2,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const a=i(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qc=function(s,e,t,i){s.sort(e);const a=function(f,p){const _=p-f;let g,v;if(_===0)return null;if(_===1)return g=s[f],v=t?t(g):g,new It(v,g.node,It.BLACK,null,null);{const E=parseInt(_/2,10)+f,T=a(f,E),S=a(E+1,p);return g=s[E],v=t?t(g):g,new It(v,g.node,It.BLACK,T,S)}},o=function(f){let p=null,_=null,g=s.length;const v=function(T,S){const w=g-T,A=g;g-=T;const D=a(w+1,A),N=s[w],H=t?t(N):N;E(new It(H,N.node,S,null,D))},E=function(T){p?(p.left=T,p=T):(_=T,p=T)};for(let T=0;T<f.count;++T){const S=f.nextBitIsOne(),w=Math.pow(2,f.count-(T+1));S?v(w,It.BLACK):(v(w,It.BLACK),v(w,It.RED))}return _},c=new I2(s.length),h=o(c);return new sn(i||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p;const ga={};class Ui{static get Default(){return ee(ga&&rt,"ChildrenNode.ts has not been loaded"),_p=_p||new Ui({".priority":ga},{".priority":rt}),_p}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=yr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof sn?t:null}hasIndex(e){return ei(this.indexSet_,e.toString())}addIndex(e,t){ee(e!==xa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const o=t.getIterator(be.Wrap);let c=o.getNext();for(;c;)a=a||e.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;a?h=Qc(i,e.getCompare()):h=ga;const f=e.toString(),p={...this.indexSet_};p[f]=e;const _={...this.indexes_};return _[f]=h,new Ui(_,p)}addToIndexes(e,t){const i=Uc(this.indexes_,(a,o)=>{const c=yr(this.indexSet_,o);if(ee(c,"Missing index implementation for "+o),a===ga)if(c.isDefinedOn(e.node)){const h=[],f=t.getIterator(be.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&h.push(p),p=f.getNext();return h.push(e),Qc(h,c.getCompare())}else return ga;else{const h=t.get(e.name);let f=a;return h&&(f=f.remove(new be(e.name,h))),f.insert(e,e.node)}});return new Ui(i,this.indexSet_)}removeFromIndexes(e,t){const i=Uc(this.indexes_,a=>{if(a===ga)return a;{const o=t.get(e.name);return o?a.remove(new be(e.name,o)):a}});return new Ui(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo;class pe{static get EMPTY_NODE(){return lo||(lo=new pe(new sn(Wm),null,Ui.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&ZE(this.priorityNode_),this.children_.isEmpty()&&ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||lo}updatePriority(e){return this.children_.isEmpty()?this:new pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?lo:t}}getChild(e){const t=Ee(e);return t===null?this:this.getImmediateChild(t).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ee(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new be(e,t);let a,o;t.isEmpty()?(a=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const c=a.isEmpty()?lo:this.priorityNode_;return new pe(a,c,o)}}updateChild(e,t){const i=Ee(e);if(i===null)return t;{ee(Ee(e)!==".priority"||Is(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(We(e),t);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,a=0,o=!0;if(this.forEachChild(rt,(c,h)=>{t[c]=h.val(e),i++,o&&pe.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):o=!1}),!e&&o&&a<2*i){const c=[];for(const h in t)c[h]=t[h];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$E(this.getPriority().val())+":"),this.forEachChild(rt,(t,i)=>{const a=i.hash();a!==""&&(e+=":"+t+":"+a)}),this.lazyHash_=e===""?"":xE(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const a=this.resolveIndex_(i);if(a){const o=a.getPredecessorKey(new be(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new be(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new be(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>t(a.name,a.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,be.Wrap);let o=a.peek();for(;o!=null&&t.compare(o,e)<0;)a.getNext(),o=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let o=a.peek();for(;o!=null&&t.compare(o,e)>0;)a.getNext(),o=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$o?-1:0}withIndex(e){if(e===xa||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new pe(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===xa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(rt),a=t.getIterator(rt);let o=i.getNext(),c=a.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=a.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===xa?null:this.indexMap_.get(e.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class k2 extends pe{constructor(){super(new sn(Wm),pe.EMPTY_NODE,Ui.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}}const $o=new k2;Object.defineProperties(be,{MIN:{value:new be(ka,pe.EMPTY_NODE)},MAX:{value:new be(Tr,$o)}});KE.__EMPTY_NODE=pe.EMPTY_NODE;Dt.__childrenNodeConstructor=pe;A2($o);O2($o);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=!0;function bt(s,e=null){if(s===null)return pe.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const t=s;return new Dt(t,bt(e))}if(!(s instanceof Array)&&L2){const t=[];let i=!1;if(Bt(s,(c,h)=>{if(c.substring(0,1)!=="."){const f=bt(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new be(c,f)))}}),t.length===0)return pe.EMPTY_NODE;const o=Qc(t,x2,c=>c.name,Wm);if(i){const c=Qc(t,rt.getCompare());return new pe(o,bt(e),new Ui({".priority":c},{".priority":rt}))}else return new pe(o,bt(e),Ui.Default)}else{let t=pe.EMPTY_NODE;return Bt(s,(i,a)=>{if(ei(s,i)&&i.substring(0,1)!=="."){const o=bt(a);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(bt(e))}}N2(bt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2 extends bf{constructor(e){super(),this.indexPath_=e,ee(!Re(e)&&Ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),a=this.extractChild(t.node),o=i.compareTo(a);return o===0?Ar(e.name,t.name):o}makePost(e,t){const i=bt(e),a=pe.EMPTY_NODE.updateChild(this.indexPath_,i);return new be(t,a)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,$o);return new be(Tr,e)}toString(){return No(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2 extends bf{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Ar(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,t){const i=bt(e);return new be(t,i)}toString(){return".value"}}const z2=new U2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(s){return{type:"value",snapshotNode:s}}function La(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Oo(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Mo(s,e,t){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:t}}function j2(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.index_=e}updateChild(e,t,i,a,o,c){ee(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(a).equals(i.getChild(a))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(Oo(t,h)):ee(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(La(t,i)):c.trackChildChange(Mo(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(rt,(a,o)=>{t.hasChild(a)||i.trackChildChange(Oo(a,o))}),t.isLeafNode()||t.forEachChild(rt,(a,o)=>{if(e.hasChild(a)){const c=e.getImmediateChild(a);c.equals(o)||i.trackChildChange(Mo(a,o,c))}else i.trackChildChange(La(a,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?pe.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.indexedFilter_=new Km(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Do.getStartPost_(e),this.endPost_=Do.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,a,o,c){return this.matches(new be(t,i))||(i=pe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,a,o,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=pe.EMPTY_NODE);let a=t.withIndex(this.index_);a=a.updatePriority(pe.EMPTY_NODE);const o=this;return t.forEachChild(rt,(c,h)=>{o.matches(new be(c,h))||(a=a.updateImmediateChild(c,pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Do(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,a,o,c){return this.rangedFilter_.matches(new be(t,i))||(i=pe.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,a,o,c):this.fullLimitUpdateChild_(e,t,i,o,c)}updateFullNode(e,t,i){let a;if(t.isLeafNode()||t.isEmpty())a=pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){a=pe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{a=t.withIndex(this.index_),a=a.updatePriority(pe.EMPTY_NODE);let o;this.reverse_?o=a.getReverseIterator(this.index_):o=a.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:a=a.updateImmediateChild(h.name,pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,a,o){let c;if(this.reverse_){const g=this.index_.getCompare();c=(v,E)=>g(E,v)}else c=this.index_.getCompare();const h=e;ee(h.numChildren()===this.limit_,"");const f=new be(t,i),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(f);if(h.hasChild(t)){const g=h.getImmediateChild(t);let v=a.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===t||h.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:c(v,f);if(_&&!i.isEmpty()&&E>=0)return o?.trackChildChange(Mo(t,i,g)),h.updateImmediateChild(t,i);{o?.trackChildChange(Oo(t,g));const S=h.updateImmediateChild(t,pe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o?.trackChildChange(La(v.name,v.node)),S.updateImmediateChild(v.name,v.node)):S}}else return i.isEmpty()?e:_&&c(p,f)>=0?(o!=null&&(o.trackChildChange(Oo(p.name,p.node)),o.trackChildChange(La(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(p.name,pe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ka}hasEnd(){return this.endSet_}getIndexEndValue(){return ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Tr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rt}copy(){const e=new $m;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function H2(s){return s.loadsAllData()?new Km(s.getIndex()):s.hasLimit()?new B2(s):new Do(s)}function I1(s){const e={};if(s.isDefault())return e;let t;if(s.index_===rt?t="$priority":s.index_===z2?t="$value":s.index_===xa?t="$key":(ee(s.index_ instanceof P2,"Unrecognized index type!"),t=s.index_.toString()),e.orderBy=xt(t),s.startSet_){const i=s.startAfterSet_?"startAfter":"startAt";e[i]=xt(s.indexStartValue_),s.startNameSet_&&(e[i]+=","+xt(s.indexStartName_))}if(s.endSet_){const i=s.endBeforeSet_?"endBefore":"endAt";e[i]=xt(s.indexEndValue_),s.endNameSet_&&(e[i]+=","+xt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function k1(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let t=s.viewFrom_;t===""&&(s.isViewFromLeft()?t="l":t="r"),e.vf=t}return s.index_!==rt&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends YE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Ko("p:rest:"),this.listens_={}}listen(e,t,i,a){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=Xc.getListenId_(e,i),h={};this.listens_[c]=h;const f=I1(e._queryParams);this.restRequest_(o+".json",f,(p,_)=>{let g=_;if(p===404&&(g=null,p=null),p===null&&this.onDataUpdate_(o,g,!1,i),yr(this.listens_,c)===h){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",a(v,null)}})}unlisten(e,t){const i=Xc.getListenId_(e,t);delete this.listens_[i]}get(e){const t=I1(e._queryParams),i=e._path.toString(),a=new $a;return this.restRequest_(i+".json",t,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,o])=>{a&&a.accessToken&&(t.auth=a.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ja(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=wo(h.responseText)}catch{Wt("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&Wt("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(){return{value:null,children:new Map}}function nb(s,e,t){if(Re(e))s.value=t,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,t);else{const i=Ee(e);s.children.has(i)||s.children.set(i,Wc());const a=s.children.get(i);e=We(e),nb(a,e,t)}}function Vp(s,e,t){s.value!==null?t(e,s.value):V2(s,(i,a)=>{const o=new Ve(e.toString()+"/"+i);Vp(a,o,t)})}function V2(s,e){s.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&Bt(this.last_,(i,a)=>{t[i]=t[i]-a}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=10*1e3,q2=30*1e3,Y2=300*1e3;class Q2{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new G2(e);const i=L1+(q2-L1)*Math.random();go(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Bt(e,(a,o)=>{o>0&&ei(this.statsToReport_,a)&&(t[a]=o,i=!0)}),i&&this.server_.reportStats(t),go(this.reportStats_.bind(this),Math.floor(Math.random()*2*Y2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Wn||(Wn={}));function Zm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Jm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function e_(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Wn.ACK_USER_WRITE,this.source=Zm()}operationForChild(e){if(Re(this.path)){if(this.affectedTree.value!=null)return ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ve(e));return new Kc(ke(),t,this.revert)}}else return ee(Ee(this.path)===e,"operationForChild called for unrelated child."),new Kc(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.source=e,this.path=t,this.type=Wn.LISTEN_COMPLETE}operationForChild(e){return Re(this.path)?new Io(this.source,ke()):new Io(this.source,We(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Wn.OVERWRITE}operationForChild(e){return Re(this.path)?new Cr(this.source,ke(),this.snap.getImmediateChild(e)):new Cr(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Wn.MERGE}operationForChild(e){if(Re(this.path)){const t=this.children.subtree(new Ve(e));return t.isEmpty()?null:t.value?new Cr(this.source,ke(),t.value):new Pa(this.source,ke(),t)}else return ee(Ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Pa(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Re(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ee(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function W2(s,e,t,i){const a=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&s.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(j2(c.childName,c.snapshotNode))}),oo(s,a,"child_removed",e,i,t),oo(s,a,"child_added",e,i,t),oo(s,a,"child_moved",o,i,t),oo(s,a,"child_changed",e,i,t),oo(s,a,"value",e,i,t),a}function oo(s,e,t,i,a,o){const c=i.filter(h=>h.type===t);c.sort((h,f)=>$2(s,h,f)),c.forEach(h=>{const f=K2(s,h,o);a.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(f,s.query_))})})}function K2(s,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function $2(s,e,t){if(e.childName==null||t.childName==null)throw Ka("Should only compare child_ events.");const i=new be(e.childName,e.snapshotNode),a=new be(t.childName,t.snapshotNode);return s.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(s,e){return{eventCache:s,serverCache:e}}function vo(s,e,t,i){return Tf(new ks(e,t,i),s.serverCache)}function ib(s,e,t,i){return Tf(s.eventCache,new ks(e,t,i))}function $c(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function wr(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp;const Z2=()=>(gp||(gp=new sn(PM)),gp);class Xe{static fromObject(e){let t=new Xe(null);return Bt(e,(i,a)=>{t=t.set(new Ve(i),a)}),t}constructor(e,t=Z2()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ke(),value:this.value};if(Re(e))return null;{const i=Ee(e),a=this.children.get(i);if(a!==null){const o=a.findRootMostMatchingPathAndValue(We(e),t);return o!=null?{path:ct(new Ve(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Re(e))return this;{const t=Ee(e),i=this.children.get(t);return i!==null?i.subtree(We(e)):new Xe(null)}}set(e,t){if(Re(e))return new Xe(t,this.children);{const i=Ee(e),o=(this.children.get(i)||new Xe(null)).set(We(e),t),c=this.children.insert(i,o);return new Xe(this.value,c)}}remove(e){if(Re(e))return this.children.isEmpty()?new Xe(null):new Xe(null,this.children);{const t=Ee(e),i=this.children.get(t);if(i){const a=i.remove(We(e));let o;return a.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,a),this.value===null&&o.isEmpty()?new Xe(null):new Xe(this.value,o)}else return this}}get(e){if(Re(e))return this.value;{const t=Ee(e),i=this.children.get(t);return i?i.get(We(e)):null}}setTree(e,t){if(Re(e))return t;{const i=Ee(e),o=(this.children.get(i)||new Xe(null)).setTree(We(e),t);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new Xe(this.value,c)}}fold(e){return this.fold_(ke(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((a,o)=>{i[a]=o.fold_(ct(e,a),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,ke(),t)}findOnPath_(e,t,i){const a=this.value?i(t,this.value):!1;if(a)return a;if(Re(e))return null;{const o=Ee(e),c=this.children.get(o);return c?c.findOnPath_(We(e),ct(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ke(),t)}foreachOnPath_(e,t,i){if(Re(e))return this;{this.value&&i(t,this.value);const a=Ee(e),o=this.children.get(a);return o?o.foreachOnPath_(We(e),ct(t,a),i):new Xe(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,t){this.children.inorderTraversal((i,a)=>{a.foreach_(ct(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.writeTree_=e}static empty(){return new $n(new Xe(null))}}function yo(s,e,t){if(Re(e))return new $n(new Xe(t));{const i=s.writeTree_.findRootMostValueAndPath(e);if(i!=null){const a=i.path;let o=i.value;const c=Xt(a,e);return o=o.updateChild(c,t),new $n(s.writeTree_.set(a,o))}else{const a=new Xe(t),o=s.writeTree_.setTree(e,a);return new $n(o)}}}function Gp(s,e,t){let i=s;return Bt(t,(a,o)=>{i=yo(i,ct(e,a),o)}),i}function P1(s,e){if(Re(e))return $n.empty();{const t=s.writeTree_.setTree(e,new Xe(null));return new $n(t)}}function qp(s,e){return Nr(s,e)!=null}function Nr(s,e){const t=s.writeTree_.findRootMostValueAndPath(e);return t!=null?s.writeTree_.get(t.path).getChild(Xt(t.path,e)):null}function U1(s){const e=[],t=s.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(rt,(i,a)=>{e.push(new be(i,a))}):s.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&e.push(new be(i,a.value))}),e}function Ns(s,e){if(Re(e))return s;{const t=Nr(s,e);return t!=null?new $n(new Xe(t)):new $n(s.writeTree_.subtree(e))}}function Yp(s){return s.writeTree_.isEmpty()}function Ua(s,e){return sb(ke(),s.writeTree_,e)}function sb(s,e,t){if(e.value!=null)return t.updateChild(s,e.value);{let i=null;return e.children.inorderTraversal((a,o)=>{a===".priority"?(ee(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=sb(ct(s,a),o,t)}),!t.getChild(s).isEmpty()&&i!==null&&(t=t.updateChild(ct(s,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(s,e){return ob(e,s)}function J2(s,e,t,i,a){ee(i>s.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),s.allWrites.push({path:e,snap:t,writeId:i,visible:a}),a&&(s.visibleWrites=yo(s.visibleWrites,e,t)),s.lastWriteId=i}function eD(s,e,t,i){ee(i>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:t,writeId:i,visible:!0}),s.visibleWrites=Gp(s.visibleWrites,e,t),s.lastWriteId=i}function tD(s,e){for(let t=0;t<s.allWrites.length;t++){const i=s.allWrites[t];if(i.writeId===e)return i}return null}function nD(s,e){const t=s.allWrites.findIndex(h=>h.writeId===e);ee(t>=0,"removeWrite called with nonexistent writeId.");const i=s.allWrites[t];s.allWrites.splice(t,1);let a=i.visible,o=!1,c=s.allWrites.length-1;for(;a&&c>=0;){const h=s.allWrites[c];h.visible&&(c>=t&&iD(h,i.path)?a=!1:jn(i.path,h.path)&&(o=!0)),c--}if(a){if(o)return sD(s),!0;if(i.snap)s.visibleWrites=P1(s.visibleWrites,i.path);else{const h=i.children;Bt(h,f=>{s.visibleWrites=P1(s.visibleWrites,ct(i.path,f))})}return!0}else return!1}function iD(s,e){if(s.snap)return jn(s.path,e);for(const t in s.children)if(s.children.hasOwnProperty(t)&&jn(ct(s.path,t),e))return!0;return!1}function sD(s){s.visibleWrites=rb(s.allWrites,rD,ke()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function rD(s){return s.visible}function rb(s,e,t){let i=$n.empty();for(let a=0;a<s.length;++a){const o=s[a];if(e(o)){const c=o.path;let h;if(o.snap)jn(t,c)?(h=Xt(t,c),i=yo(i,h,o.snap)):jn(c,t)&&(h=Xt(c,t),i=yo(i,ke(),o.snap.getChild(h)));else if(o.children){if(jn(t,c))h=Xt(t,c),i=Gp(i,h,o.children);else if(jn(c,t))if(h=Xt(c,t),Re(h))i=Gp(i,ke(),o.children);else{const f=yr(o.children,Ee(h));if(f){const p=f.getChild(We(h));i=yo(i,ke(),p)}}}else throw Ka("WriteRecord should have .snap or .children")}}return i}function ab(s,e,t,i,a){if(!i&&!a){const o=Nr(s.visibleWrites,e);if(o!=null)return o;{const c=Ns(s.visibleWrites,e);if(Yp(c))return t;if(t==null&&!qp(c,ke()))return null;{const h=t||pe.EMPTY_NODE;return Ua(c,h)}}}else{const o=Ns(s.visibleWrites,e);if(!a&&Yp(o))return t;if(!a&&t==null&&!qp(o,ke()))return null;{const c=function(p){return(p.visible||a)&&(!i||!~i.indexOf(p.writeId))&&(jn(p.path,e)||jn(e,p.path))},h=rb(s.allWrites,c,e),f=t||pe.EMPTY_NODE;return Ua(h,f)}}}function aD(s,e,t){let i=pe.EMPTY_NODE;const a=Nr(s.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(rt,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(t){const o=Ns(s.visibleWrites,e);return t.forEachChild(rt,(c,h)=>{const f=Ua(Ns(o,new Ve(c)),h);i=i.updateImmediateChild(c,f)}),U1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=Ns(s.visibleWrites,e);return U1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function lD(s,e,t,i,a){ee(i||a,"Either existingEventSnap or existingServerSnap must exist");const o=ct(e,t);if(qp(s.visibleWrites,o))return null;{const c=Ns(s.visibleWrites,o);return Yp(c)?a.getChild(t):Ua(c,a.getChild(t))}}function oD(s,e,t,i){const a=ct(e,t),o=Nr(s.visibleWrites,a);if(o!=null)return o;if(i.isCompleteForChild(t)){const c=Ns(s.visibleWrites,a);return Ua(c,i.getNode().getImmediateChild(t))}else return null}function uD(s,e){return Nr(s.visibleWrites,e)}function cD(s,e,t,i,a,o,c){let h;const f=Ns(s.visibleWrites,e),p=Nr(f,ke());if(p!=null)h=p;else if(t!=null)h=Ua(f,t);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const _=[],g=c.getCompare(),v=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let E=v.getNext();for(;E&&_.length<a;)g(E,i)!==0&&_.push(E),E=v.getNext();return _}else return[]}function fD(){return{visibleWrites:$n.empty(),allWrites:[],lastWriteId:-1}}function Zc(s,e,t,i){return ab(s.writeTree,s.treePath,e,t,i)}function t_(s,e){return aD(s.writeTree,s.treePath,e)}function z1(s,e,t,i){return lD(s.writeTree,s.treePath,e,t,i)}function Jc(s,e){return uD(s.writeTree,ct(s.treePath,e))}function hD(s,e,t,i,a,o){return cD(s.writeTree,s.treePath,e,t,i,a,o)}function n_(s,e,t){return oD(s.writeTree,s.treePath,e,t)}function lb(s,e){return ob(ct(s.treePath,e),s.writeTree)}function ob(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ee(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ee(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const o=a.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,Mo(i,e.snapshotNode,a.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,Oo(i,a.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,La(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,Mo(i,e.snapshotNode,a.oldSnap));else throw Ka("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const ub=new pD;class i_{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return n_(this.writes_,e,i)}}getChildAfterChild(e,t,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wr(this.viewCache_),o=hD(this.writes_,a,t,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(s){return{filter:s}}function _D(s,e){ee(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),ee(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function gD(s,e,t,i,a){const o=new dD;let c,h;if(t.type===Wn.OVERWRITE){const p=t;p.source.fromUser?c=Qp(s,e,p.path,p.snap,i,a,o):(ee(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Re(p.path),c=ef(s,e,p.path,p.snap,i,a,h,o))}else if(t.type===Wn.MERGE){const p=t;p.source.fromUser?c=yD(s,e,p.path,p.children,i,a,o):(ee(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=Xp(s,e,p.path,p.children,i,a,h,o))}else if(t.type===Wn.ACK_USER_WRITE){const p=t;p.revert?c=bD(s,e,p.path,i,a,o):c=SD(s,e,p.path,p.affectedTree,i,a,o)}else if(t.type===Wn.LISTEN_COMPLETE)c=ED(s,e,t.path,i,o);else throw Ka("Unknown operation type: "+t.type);const f=o.getChanges();return vD(e,c,f),{viewCache:c,changes:f}}function vD(s,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=$c(s);(t.length>0||!s.eventCache.isFullyInitialized()||a&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(tb($c(e)))}}function cb(s,e,t,i,a,o){const c=e.eventCache;if(Jc(i,t)!=null)return e;{let h,f;if(Re(t))if(ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=wr(e),_=p instanceof pe?p:pe.EMPTY_NODE,g=t_(i,_);h=s.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{const p=Zc(i,wr(e));h=s.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const p=Ee(t);if(p===".priority"){ee(Is(t)===1,"Can't have a priority with additional path components");const _=c.getNode();f=e.serverCache.getNode();const g=z1(i,t,_,f);g!=null?h=s.filter.updatePriority(_,g):h=c.getNode()}else{const _=We(t);let g;if(c.isCompleteForChild(p)){f=e.serverCache.getNode();const v=z1(i,t,c.getNode(),f);v!=null?g=c.getNode().getImmediateChild(p).updateChild(_,v):g=c.getNode().getImmediateChild(p)}else g=n_(i,p,e.serverCache);g!=null?h=s.filter.updateChild(c.getNode(),p,g,_,a,o):h=c.getNode()}}return vo(e,h,c.isFullyInitialized()||Re(t),s.filter.filtersNodes())}}function ef(s,e,t,i,a,o,c,h){const f=e.serverCache;let p;const _=c?s.filter:s.filter.getIndexedFilter();if(Re(t))p=_.updateFullNode(f.getNode(),i,null);else if(_.filtersNodes()&&!f.isFiltered()){const E=f.getNode().updateChild(t,i);p=_.updateFullNode(f.getNode(),E,null)}else{const E=Ee(t);if(!f.isCompleteForPath(t)&&Is(t)>1)return e;const T=We(t),w=f.getNode().getImmediateChild(E).updateChild(T,i);E===".priority"?p=_.updatePriority(f.getNode(),w):p=_.updateChild(f.getNode(),E,w,T,ub,null)}const g=ib(e,p,f.isFullyInitialized()||Re(t),_.filtersNodes()),v=new i_(a,g,o);return cb(s,g,t,a,v,h)}function Qp(s,e,t,i,a,o,c){const h=e.eventCache;let f,p;const _=new i_(a,e,o);if(Re(t))p=s.filter.updateFullNode(e.eventCache.getNode(),i,c),f=vo(e,p,!0,s.filter.filtersNodes());else{const g=Ee(t);if(g===".priority")p=s.filter.updatePriority(e.eventCache.getNode(),i),f=vo(e,p,h.isFullyInitialized(),h.isFiltered());else{const v=We(t),E=h.getNode().getImmediateChild(g);let T;if(Re(v))T=i;else{const S=_.getCompleteChild(g);S!=null?Ym(v)===".priority"&&S.getChild(XE(v)).isEmpty()?T=S:T=S.updateChild(v,i):T=pe.EMPTY_NODE}if(E.equals(T))f=e;else{const S=s.filter.updateChild(h.getNode(),g,T,v,_,c);f=vo(e,S,h.isFullyInitialized(),s.filter.filtersNodes())}}}return f}function j1(s,e){return s.eventCache.isCompleteForChild(e)}function yD(s,e,t,i,a,o,c){let h=e;return i.foreach((f,p)=>{const _=ct(t,f);j1(e,Ee(_))&&(h=Qp(s,h,_,p,a,o,c))}),i.foreach((f,p)=>{const _=ct(t,f);j1(e,Ee(_))||(h=Qp(s,h,_,p,a,o,c))}),h}function B1(s,e,t){return t.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function Xp(s,e,t,i,a,o,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;Re(t)?p=i:p=new Xe(null).setTree(t,i);const _=e.serverCache.getNode();return p.children.inorderTraversal((g,v)=>{if(_.hasChild(g)){const E=e.serverCache.getNode().getImmediateChild(g),T=B1(s,E,v);f=ef(s,f,new Ve(g),T,a,o,c,h)}}),p.children.inorderTraversal((g,v)=>{const E=!e.serverCache.isCompleteForChild(g)&&v.value===null;if(!_.hasChild(g)&&!E){const T=e.serverCache.getNode().getImmediateChild(g),S=B1(s,T,v);f=ef(s,f,new Ve(g),S,a,o,c,h)}}),f}function SD(s,e,t,i,a,o,c){if(Jc(a,t)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(Re(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return ef(s,e,t,f.getNode().getChild(t),a,o,h,c);if(Re(t)){let p=new Xe(null);return f.getNode().forEachChild(xa,(_,g)=>{p=p.set(new Ve(_),g)}),Xp(s,e,t,p,a,o,h,c)}else return e}else{let p=new Xe(null);return i.foreach((_,g)=>{const v=ct(t,_);f.isCompleteForPath(v)&&(p=p.set(_,f.getNode().getChild(v)))}),Xp(s,e,t,p,a,o,h,c)}}function ED(s,e,t,i,a){const o=e.serverCache,c=ib(e,o.getNode(),o.isFullyInitialized()||Re(t),o.isFiltered());return cb(s,c,t,i,ub,a)}function bD(s,e,t,i,a,o){let c;if(Jc(i,t)!=null)return e;{const h=new i_(i,e,a),f=e.eventCache.getNode();let p;if(Re(t)||Ee(t)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Zc(i,wr(e));else{const g=e.serverCache.getNode();ee(g instanceof pe,"serverChildren would be complete if leaf node"),_=t_(i,g)}_=_,p=s.filter.updateFullNode(f,_,o)}else{const _=Ee(t);let g=n_(i,_,e.serverCache);g==null&&e.serverCache.isCompleteForChild(_)&&(g=f.getImmediateChild(_)),g!=null?p=s.filter.updateChild(f,_,g,We(t),h,o):e.eventCache.getNode().hasChild(_)?p=s.filter.updateChild(f,_,pe.EMPTY_NODE,We(t),h,o):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Zc(i,wr(e)),c.isLeafNode()&&(p=s.filter.updateFullNode(p,c,o)))}return c=e.serverCache.isFullyInitialized()||Jc(i,ke())!=null,vo(e,p,c,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new Km(i.getIndex()),o=H2(i);this.processor_=mD(o);const c=t.serverCache,h=t.eventCache,f=a.updateFullNode(pe.EMPTY_NODE,c.getNode(),null),p=o.updateFullNode(pe.EMPTY_NODE,h.getNode(),null),_=new ks(f,c.isFullyInitialized(),a.filtersNodes()),g=new ks(p,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=Tf(g,_),this.eventGenerator_=new X2(this.query_)}get query(){return this.query_}}function CD(s){return s.viewCache_.serverCache.getNode()}function wD(s){return $c(s.viewCache_)}function RD(s,e){const t=wr(s.viewCache_);return t&&(s.query._queryParams.loadsAllData()||!Re(e)&&!t.getImmediateChild(Ee(e)).isEmpty())?t.getChild(e):null}function H1(s){return s.eventRegistrations_.length===0}function xD(s,e){s.eventRegistrations_.push(e)}function F1(s,e,t){const i=[];if(t){ee(e==null,"A cancel should cancel all event registrations.");const a=s.query._path;s.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(t,a);c&&i.push(c)})}if(e){let a=[];for(let o=0;o<s.eventRegistrations_.length;++o){const c=s.eventRegistrations_[o];if(!c.matches(e))a.push(c);else if(e.hasAnyCallback()){a=a.concat(s.eventRegistrations_.slice(o+1));break}}s.eventRegistrations_=a}else s.eventRegistrations_=[];return i}function V1(s,e,t,i){e.type===Wn.MERGE&&e.source.queryId!==null&&(ee(wr(s.viewCache_),"We should always have a full cache before handling merges"),ee($c(s.viewCache_),"Missing event cache, even though we have a server cache"));const a=s.viewCache_,o=gD(s.processor_,a,e,t,i);return _D(s.processor_,o.viewCache),ee(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=o.viewCache,fb(s,o.changes,o.viewCache.eventCache.getNode(),null)}function AD(s,e){const t=s.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(rt,(o,c)=>{i.push(La(o,c))}),t.isFullyInitialized()&&i.push(tb(t.getNode())),fb(s,i,t.getNode(),e)}function fb(s,e,t,i){const a=i?[i]:s.eventRegistrations_;return W2(s.eventGenerator_,e,t,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf;class hb{constructor(){this.views=new Map}}function ND(s){ee(!tf,"__referenceConstructor has already been defined"),tf=s}function OD(){return ee(tf,"Reference.ts has not been loaded"),tf}function MD(s){return s.views.size===0}function s_(s,e,t,i){const a=e.source.queryId;if(a!==null){const o=s.views.get(a);return ee(o!=null,"SyncTree gave us an op for an invalid query."),V1(o,e,t,i)}else{let o=[];for(const c of s.views.values())o=o.concat(V1(c,e,t,i));return o}}function db(s,e,t,i,a){const o=e._queryIdentifier,c=s.views.get(o);if(!c){let h=Zc(t,a?i:null),f=!1;h?f=!0:i instanceof pe?(h=t_(t,i),f=!1):(h=pe.EMPTY_NODE,f=!1);const p=Tf(new ks(h,f,!1),new ks(i,a,!1));return new TD(e,p)}return c}function DD(s,e,t,i,a,o){const c=db(s,e,i,a,o);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,c),xD(c,t),AD(c,t)}function ID(s,e,t,i){const a=e._queryIdentifier,o=[];let c=[];const h=Ls(s);if(a==="default")for(const[f,p]of s.views.entries())c=c.concat(F1(p,t,i)),H1(p)&&(s.views.delete(f),p.query._queryParams.loadsAllData()||o.push(p.query));else{const f=s.views.get(a);f&&(c=c.concat(F1(f,t,i)),H1(f)&&(s.views.delete(a),f.query._queryParams.loadsAllData()||o.push(f.query)))}return h&&!Ls(s)&&o.push(new(OD())(e._repo,e._path)),{removed:o,events:c}}function pb(s){const e=[];for(const t of s.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Os(s,e){let t=null;for(const i of s.views.values())t=t||RD(i,e);return t}function mb(s,e){if(e._queryParams.loadsAllData())return wf(s);{const i=e._queryIdentifier;return s.views.get(i)}}function _b(s,e){return mb(s,e)!=null}function Ls(s){return wf(s)!=null}function wf(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf;function kD(s){ee(!nf,"__referenceConstructor has already been defined"),nf=s}function LD(){return ee(nf,"Reference.ts has not been loaded"),nf}let PD=1;class G1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=fD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function r_(s,e,t,i,a){return J2(s.pendingWriteTree_,e,t,i,a),a?il(s,new Cr(Zm(),e,t)):[]}function UD(s,e,t,i){eD(s.pendingWriteTree_,e,t,i);const a=Xe.fromObject(t);return il(s,new Pa(Zm(),e,a))}function bs(s,e,t=!1){const i=tD(s.pendingWriteTree_,e);if(nD(s.pendingWriteTree_,e)){let o=new Xe(null);return i.snap!=null?o=o.set(ke(),!0):Bt(i.children,c=>{o=o.set(new Ve(c),!0)}),il(s,new Kc(i.path,o,t))}else return[]}function Zo(s,e,t){return il(s,new Cr(Jm(),e,t))}function zD(s,e,t){const i=Xe.fromObject(t);return il(s,new Pa(Jm(),e,i))}function jD(s,e){return il(s,new Io(Jm(),e))}function BD(s,e,t){const i=a_(s,t);if(i){const a=l_(i),o=a.path,c=a.queryId,h=Xt(o,e),f=new Io(e_(c),h);return o_(s,o,f)}else return[]}function sf(s,e,t,i,a=!1){const o=e._path,c=s.syncPointTree_.get(o);let h=[];if(c&&(e._queryIdentifier==="default"||_b(c,e))){const f=ID(c,e,t,i);MD(c)&&(s.syncPointTree_=s.syncPointTree_.remove(o));const p=f.removed;if(h=f.events,!a){const _=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=s.syncPointTree_.findOnPath(o,(v,E)=>Ls(E));if(_&&!g){const v=s.syncPointTree_.subtree(o);if(!v.isEmpty()){const E=VD(v);for(let T=0;T<E.length;++T){const S=E[T],w=S.query,A=Sb(s,S);s.listenProvider_.startListening(So(w),ko(s,w),A.hashFn,A.onComplete)}}}!g&&p.length>0&&!i&&(_?s.listenProvider_.stopListening(So(e),null):p.forEach(v=>{const E=s.queryToTagMap.get(xf(v));s.listenProvider_.stopListening(So(v),E)}))}GD(s,p)}return h}function gb(s,e,t,i){const a=a_(s,i);if(a!=null){const o=l_(a),c=o.path,h=o.queryId,f=Xt(c,e),p=new Cr(e_(h),f,t);return o_(s,c,p)}else return[]}function HD(s,e,t,i){const a=a_(s,i);if(a){const o=l_(a),c=o.path,h=o.queryId,f=Xt(c,e),p=Xe.fromObject(t),_=new Pa(e_(h),f,p);return o_(s,c,_)}else return[]}function Wp(s,e,t,i=!1){const a=e._path;let o=null,c=!1;s.syncPointTree_.foreachOnPath(a,(v,E)=>{const T=Xt(v,a);o=o||Os(E,T),c=c||Ls(E)});let h=s.syncPointTree_.get(a);h?(c=c||Ls(h),o=o||Os(h,ke())):(h=new hb,s.syncPointTree_=s.syncPointTree_.set(a,h));let f;o!=null?f=!0:(f=!1,o=pe.EMPTY_NODE,s.syncPointTree_.subtree(a).foreachChild((E,T)=>{const S=Os(T,ke());S&&(o=o.updateImmediateChild(E,S))}));const p=_b(h,e);if(!p&&!e._queryParams.loadsAllData()){const v=xf(e);ee(!s.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=qD();s.queryToTagMap.set(v,E),s.tagToQueryMap.set(E,v)}const _=Cf(s.pendingWriteTree_,a);let g=DD(h,e,t,_,o,f);if(!p&&!c&&!i){const v=mb(h,e);g=g.concat(YD(s,e,v))}return g}function Rf(s,e,t){const a=s.pendingWriteTree_,o=s.syncPointTree_.findOnPath(e,(c,h)=>{const f=Xt(c,e),p=Os(h,f);if(p)return p});return ab(a,e,o,t,!0)}function FD(s,e){const t=e._path;let i=null;s.syncPointTree_.foreachOnPath(t,(p,_)=>{const g=Xt(p,t);i=i||Os(_,g)});let a=s.syncPointTree_.get(t);a?i=i||Os(a,ke()):(a=new hb,s.syncPointTree_=s.syncPointTree_.set(t,a));const o=i!=null,c=o?new ks(i,!0,!1):null,h=Cf(s.pendingWriteTree_,e._path),f=db(a,e,h,o?c.getNode():pe.EMPTY_NODE,o);return wD(f)}function il(s,e){return vb(e,s.syncPointTree_,null,Cf(s.pendingWriteTree_,ke()))}function vb(s,e,t,i){if(Re(s.path))return yb(s,e,t,i);{const a=e.get(ke());t==null&&a!=null&&(t=Os(a,ke()));let o=[];const c=Ee(s.path),h=s.operationForChild(c),f=e.children.get(c);if(f&&h){const p=t?t.getImmediateChild(c):null,_=lb(i,c);o=o.concat(vb(h,f,p,_))}return a&&(o=o.concat(s_(a,s,i,t))),o}}function yb(s,e,t,i){const a=e.get(ke());t==null&&a!=null&&(t=Os(a,ke()));let o=[];return e.children.inorderTraversal((c,h)=>{const f=t?t.getImmediateChild(c):null,p=lb(i,c),_=s.operationForChild(c);_&&(o=o.concat(yb(_,h,f,p)))}),a&&(o=o.concat(s_(a,s,i,t))),o}function Sb(s,e){const t=e.query,i=ko(s,t);return{hashFn:()=>(CD(e)||pe.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?BD(s,t._path,i):jD(s,t._path);{const o=jM(a,t);return sf(s,t,null,o)}}}}function ko(s,e){const t=xf(e);return s.queryToTagMap.get(t)}function xf(s){return s._path.toString()+"$"+s._queryIdentifier}function a_(s,e){return s.tagToQueryMap.get(e)}function l_(s){const e=s.indexOf("$");return ee(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Ve(s.substr(0,e))}}function o_(s,e,t){const i=s.syncPointTree_.get(e);ee(i,"Missing sync point for query tag that we're tracking");const a=Cf(s.pendingWriteTree_,e);return s_(i,t,a,null)}function VD(s){return s.fold((e,t,i)=>{if(t&&Ls(t))return[wf(t)];{let a=[];return t&&(a=pb(t)),Bt(i,(o,c)=>{a=a.concat(c)}),a}})}function So(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(LD())(s._repo,s._path):s}function GD(s,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const a=xf(i),o=s.queryToTagMap.get(a);s.queryToTagMap.delete(a),s.tagToQueryMap.delete(o)}}}function qD(){return PD++}function YD(s,e,t){const i=e._path,a=ko(s,e),o=Sb(s,t),c=s.listenProvider_.startListening(So(e),a,o.hashFn,o.onComplete),h=s.syncPointTree_.subtree(i);if(a)ee(!Ls(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((p,_,g)=>{if(!Re(p)&&_&&Ls(_))return[wf(_).query];{let v=[];return _&&(v=v.concat(pb(_).map(E=>E.query))),Bt(g,(E,T)=>{v=v.concat(T)}),v}});for(let p=0;p<f.length;++p){const _=f[p];s.listenProvider_.stopListening(So(_),ko(s,_))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new u_(t)}node(){return this.node_}}class c_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ct(this.path_,e);return new c_(this.syncTree_,t)}node(){return Rf(this.syncTree_,this.path_)}}const QD=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},q1=function(s,e,t){if(!s||typeof s!="object")return s;if(ee(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return XD(s[".sv"],e,t);if(typeof s[".sv"]=="object")return WD(s[".sv"],e);ee(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},XD=function(s,e,t){switch(s){case"timestamp":return t.timestamp;default:ee(!1,"Unexpected server value: "+s)}},WD=function(s,e,t){s.hasOwnProperty("increment")||ee(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const i=s.increment;typeof i!="number"&&ee(!1,"Unexpected increment value: "+i);const a=e.node();if(ee(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const c=a.getValue();return typeof c!="number"?i:c+i},Eb=function(s,e,t,i){return h_(e,new c_(t,s),i)},f_=function(s,e,t){return h_(s,new u_(e),t)};function h_(s,e,t){const i=s.getPriority().val(),a=q1(i,e.getImmediateChild(".priority"),t);let o;if(s.isLeafNode()){const c=s,h=q1(c.getValue(),e,t);return h!==c.getValue()||a!==c.getPriority().val()?new Dt(h,bt(a)):s}else{const c=s;return o=c,a!==c.getPriority().val()&&(o=o.updatePriority(new Dt(a))),c.forEachChild(rt,(h,f)=>{const p=h_(f,e.getImmediateChild(h),t);p!==f&&(o=o.updateImmediateChild(h,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Af(s,e){let t=e instanceof Ve?e:new Ve(e),i=s,a=Ee(t);for(;a!==null;){const o=yr(i.node.children,a)||{children:{},childCount:0};i=new d_(a,i,o),t=We(t),a=Ee(t)}return i}function Or(s){return s.node.value}function p_(s,e){s.node.value=e,Kp(s)}function bb(s){return s.node.childCount>0}function KD(s){return Or(s)===void 0&&!bb(s)}function Nf(s,e){Bt(s.node.children,(t,i)=>{e(new d_(t,s,i))})}function Tb(s,e,t,i){t&&e(s),Nf(s,a=>{Tb(a,e,!0)})}function $D(s,e,t){let i=s.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Jo(s){return new Ve(s.parent===null?s.name:Jo(s.parent)+"/"+s.name)}function Kp(s){s.parent!==null&&ZD(s.parent,s.name,s)}function ZD(s,e,t){const i=KD(t),a=ei(s.node.children,e);i&&a?(delete s.node.children[e],s.node.childCount--,Kp(s)):!i&&!a&&(s.node.children[e]=t.node,s.node.childCount++,Kp(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=/[\[\].#$\/\u0000-\u001F\u007F]/,eI=/[\[\].#$\u0000-\u001F\u007F]/,vp=10*1024*1024,m_=function(s){return typeof s=="string"&&s.length!==0&&!JD.test(s)},Cb=function(s){return typeof s=="string"&&s.length!==0&&!eI.test(s)},tI=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Cb(s)},wb=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Hm(s)||s&&typeof s=="object"&&ei(s,".sv")},nI=function(s,e,t,i){eu(gf(s,"value"),e,t)},eu=function(s,e,t){const i=t instanceof Ve?new y2(t,s):t;if(e===void 0)throw new Error(s+"contains undefined "+or(i));if(typeof e=="function")throw new Error(s+"contains a function "+or(i)+" with contents = "+e.toString());if(Hm(e))throw new Error(s+"contains "+e.toString()+" "+or(i));if(typeof e=="string"&&e.length>vp/3&&vf(e)>vp)throw new Error(s+"contains a string greater than "+vp+" utf8 bytes "+or(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,o=!1;if(Bt(e,(c,h)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!m_(c)))throw new Error(s+" contains an invalid key ("+c+") "+or(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);S2(i,c),eu(s,h,i),E2(i)}),a&&o)throw new Error(s+' contains ".value" child '+or(i)+" in addition to actual children.")}},iI=function(s,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=No(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!m_(o[c]))throw new Error(s+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(v2);let a=null;for(t=0;t<e.length;t++){if(i=e[t],a!==null&&jn(a,i))throw new Error(s+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},sI=function(s,e,t,i){const a=gf(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const o=[];Bt(e,(c,h)=>{const f=new Ve(c);if(eu(a,h,ct(t,f)),Ym(f)===".priority"&&!wb(h))throw new Error(a+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),iI(a,o)},Rb=function(s,e,t,i){if(!Cb(t))throw new Error(gf(s,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rI=function(s,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Rb(s,e,t)},xb=function(s,e){if(Ee(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},aI=function(s,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!m_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!tI(t))throw new Error(gf(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Of(s,e){let t=null;for(let i=0;i<e.length;i++){const a=e[i],o=a.getPath();t!==null&&!Qm(o,t.path)&&(s.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(a)}t&&s.eventLists_.push(t)}function Ab(s,e,t){Of(s,t),Nb(s,i=>Qm(i,e))}function wn(s,e,t){Of(s,t),Nb(s,i=>jn(i,e)||jn(e,i))}function Nb(s,e){s.recursionDepth_++;let t=!0;for(let i=0;i<s.eventLists_.length;i++){const a=s.eventLists_[i];if(a){const o=a.path;e(o)?(oI(s.eventLists_[i]),s.eventLists_[i]=null):t=!1}}t&&(s.eventLists_=[]),s.recursionDepth_--}function oI(s){for(let e=0;e<s.events.length;e++){const t=s.events[e];if(t!==null){s.events[e]=null;const i=t.getEventRunner();_o&&zt("event: "+t.toString()),nl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="repo_interrupt",cI=25;class fI{constructor(e,t,i,a){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wc(),this.transactionQueueTree_=new d_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hI(s,e,t){if(s.stats_=Gm(s.repoInfo_),s.forceRestClient_||VM())s.server_=new Xc(s.repoInfo_,(i,a,o,c)=>{Y1(s,i,a,o,c)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Q1(s,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}s.persistentConnection_=new ji(s.repoInfo_,e,(i,a,o,c)=>{Y1(s,i,a,o,c)},i=>{Q1(s,i)},i=>{pI(s,i)},s.authTokenProvider_,s.appCheckProvider_,t),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(i=>{s.server_.refreshAuthToken(i)}),s.appCheckProvider_.addTokenChangeListener(i=>{s.server_.refreshAppCheckToken(i.token)}),s.statsReporter_=XM(s.repoInfo_,()=>new Q2(s.stats_,s.server_)),s.infoData_=new F2,s.infoSyncTree_=new G1({startListening:(i,a,o,c)=>{let h=[];const f=s.infoData_.getNode(i._path);return f.isEmpty()||(h=Zo(s.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),__(s,"connected",!1),s.serverSyncTree_=new G1({startListening:(i,a,o,c)=>(s.server_.listen(i,o,a,(h,f)=>{const p=c(h,f);wn(s.eventQueue_,i._path,p)}),[]),stopListening:(i,a)=>{s.server_.unlisten(i,a)}})}function dI(s){const t=s.infoData_.getNode(new Ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function tu(s){return QD({timestamp:dI(s)})}function Y1(s,e,t,i,a){s.dataUpdateCount++;const o=new Ve(e);t=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,t):t;let c=[];if(a)if(i){const f=Uc(t,p=>bt(p));c=HD(s.serverSyncTree_,o,f,a)}else{const f=bt(t);c=gb(s.serverSyncTree_,o,f,a)}else if(i){const f=Uc(t,p=>bt(p));c=zD(s.serverSyncTree_,o,f)}else{const f=bt(t);c=Zo(s.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=za(s,o)),wn(s.eventQueue_,h,c)}function Q1(s,e){__(s,"connected",e),e===!1&&vI(s)}function pI(s,e){Bt(e,(t,i)=>{__(s,t,i)})}function __(s,e,t){const i=new Ve("/.info/"+e),a=bt(t);s.infoData_.updateSnapshot(i,a);const o=Zo(s.infoSyncTree_,i,a);wn(s.eventQueue_,i,o)}function Mf(s){return s.nextWriteId_++}function mI(s,e,t){const i=FD(s.serverSyncTree_,e);return i!=null?Promise.resolve(i):s.server_.get(e).then(a=>{const o=bt(a).withIndex(e._queryParams.getIndex());Wp(s.serverSyncTree_,e,t,!0);let c;if(e._queryParams.loadsAllData())c=Zo(s.serverSyncTree_,e._path,o);else{const h=ko(s.serverSyncTree_,e);c=gb(s.serverSyncTree_,e._path,o,h)}return wn(s.eventQueue_,e._path,c),sf(s.serverSyncTree_,e,t,null,!0),o},a=>(sl(s,"get for query "+xt(e)+" failed: "+a),Promise.reject(new Error(a))))}function _I(s,e,t,i,a){sl(s,"set",{path:e.toString(),value:t,priority:i});const o=tu(s),c=bt(t,i),h=Rf(s.serverSyncTree_,e),f=f_(c,h,o),p=Mf(s),_=r_(s.serverSyncTree_,e,f,p,!0);Of(s.eventQueue_,_),s.server_.put(e.toString(),c.val(!0),(v,E)=>{const T=v==="ok";T||Wt("set at "+e+" failed: "+v);const S=bs(s.serverSyncTree_,p,!T);wn(s.eventQueue_,e,S),$p(s,a,v,E)});const g=v_(s,e);za(s,g),wn(s.eventQueue_,g,[])}function gI(s,e,t,i){sl(s,"update",{path:e.toString(),value:t});let a=!0;const o=tu(s),c={};if(Bt(t,(h,f)=>{a=!1,c[h]=Eb(ct(e,h),bt(f),s.serverSyncTree_,o)}),a)zt("update() called with empty data.  Don't do anything."),$p(s,i,"ok",void 0);else{const h=Mf(s),f=UD(s.serverSyncTree_,e,c,h);Of(s.eventQueue_,f),s.server_.merge(e.toString(),t,(p,_)=>{const g=p==="ok";g||Wt("update at "+e+" failed: "+p);const v=bs(s.serverSyncTree_,h,!g),E=v.length>0?za(s,e):e;wn(s.eventQueue_,E,v),$p(s,i,p,_)}),Bt(t,p=>{const _=v_(s,ct(e,p));za(s,_)}),wn(s.eventQueue_,e,[])}}function vI(s){sl(s,"onDisconnectEvents");const e=tu(s),t=Wc();Vp(s.onDisconnect_,ke(),(a,o)=>{const c=Eb(a,o,s.serverSyncTree_,e);nb(t,a,c)});let i=[];Vp(t,ke(),(a,o)=>{i=i.concat(Zo(s.serverSyncTree_,a,o));const c=v_(s,a);za(s,c)}),s.onDisconnect_=Wc(),wn(s.eventQueue_,ke(),i)}function yI(s,e,t){let i;Ee(e._path)===".info"?i=Wp(s.infoSyncTree_,e,t):i=Wp(s.serverSyncTree_,e,t),Ab(s.eventQueue_,e._path,i)}function SI(s,e,t){let i;Ee(e._path)===".info"?i=sf(s.infoSyncTree_,e,t):i=sf(s.serverSyncTree_,e,t),Ab(s.eventQueue_,e._path,i)}function EI(s){s.persistentConnection_&&s.persistentConnection_.interrupt(uI)}function sl(s,...e){let t="";s.persistentConnection_&&(t=s.persistentConnection_.id+":"),zt(t,...e)}function $p(s,e,t,i){e&&nl(()=>{if(t==="ok")e(null);else{const a=(t||"error").toUpperCase();let o=a;i&&(o+=": "+i);const c=new Error(o);c.code=a,e(c)}})}function bI(s,e,t,i,a,o){sl(s,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:RE(),applyLocally:o,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=g_(s,e,void 0);c.currentInputSnapshot=h;const f=c.update(h.val());if(f===void 0)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{eu("transaction failed: Data returned ",f,c.path),c.status=0;const p=Af(s.transactionQueueTree_,e),_=Or(p)||[];_.push(c),p_(p,_);let g;typeof f=="object"&&f!==null&&ei(f,".priority")?(g=yr(f,".priority"),ee(wb(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(Rf(s.serverSyncTree_,e)||pe.EMPTY_NODE).getPriority().val();const v=tu(s),E=bt(f,g),T=f_(E,h,v);c.currentOutputSnapshotRaw=E,c.currentOutputSnapshotResolved=T,c.currentWriteId=Mf(s);const S=r_(s.serverSyncTree_,e,T,c.currentWriteId,c.applyLocally);wn(s.eventQueue_,e,S),Df(s,s.transactionQueueTree_)}}function g_(s,e,t){return Rf(s.serverSyncTree_,e,t)||pe.EMPTY_NODE}function Df(s,e=s.transactionQueueTree_){if(e||If(s,e),Or(e)){const t=Mb(s,e);ee(t.length>0,"Sending zero length transaction queue"),t.every(a=>a.status===0)&&TI(s,Jo(e),t)}else bb(e)&&Nf(e,t=>{Df(s,t)})}function TI(s,e,t){const i=t.map(p=>p.currentWriteId),a=g_(s,e,i);let o=a;const c=a.hash();for(let p=0;p<t.length;p++){const _=t[p];ee(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const g=Xt(e,_.path);o=o.updateChild(g,_.currentOutputSnapshotRaw)}const h=o.val(!0),f=e;s.server_.put(f.toString(),h,p=>{sl(s,"transaction put response",{path:f.toString(),status:p});let _=[];if(p==="ok"){const g=[];for(let v=0;v<t.length;v++)t[v].status=2,_=_.concat(bs(s.serverSyncTree_,t[v].currentWriteId)),t[v].onComplete&&g.push(()=>t[v].onComplete(null,!0,t[v].currentOutputSnapshotResolved)),t[v].unwatcher();If(s,Af(s.transactionQueueTree_,e)),Df(s,s.transactionQueueTree_),wn(s.eventQueue_,e,_);for(let v=0;v<g.length;v++)nl(g[v])}else{if(p==="datastale")for(let g=0;g<t.length;g++)t[g].status===3?t[g].status=4:t[g].status=0;else{Wt("transaction at "+f.toString()+" failed: "+p);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=p}za(s,e)}},c)}function za(s,e){const t=Ob(s,e),i=Jo(t),a=Mb(s,t);return CI(s,a,i),i}function CI(s,e,t){if(e.length===0)return;const i=[];let a=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],p=Xt(t,f.path);let _=!1,g;if(ee(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)_=!0,g=f.abortReason,a=a.concat(bs(s.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=cI)_=!0,g="maxretry",a=a.concat(bs(s.serverSyncTree_,f.currentWriteId,!0));else{const v=g_(s,f.path,c);f.currentInputSnapshot=v;const E=e[h].update(v.val());if(E!==void 0){eu("transaction failed: Data returned ",E,f.path);let T=bt(E);typeof E=="object"&&E!=null&&ei(E,".priority")||(T=T.updatePriority(v.getPriority()));const w=f.currentWriteId,A=tu(s),D=f_(T,v,A);f.currentOutputSnapshotRaw=T,f.currentOutputSnapshotResolved=D,f.currentWriteId=Mf(s),c.splice(c.indexOf(w),1),a=a.concat(r_(s.serverSyncTree_,f.path,D,f.currentWriteId,f.applyLocally)),a=a.concat(bs(s.serverSyncTree_,w,!0))}else _=!0,g="nodata",a=a.concat(bs(s.serverSyncTree_,f.currentWriteId,!0))}wn(s.eventQueue_,t,a),a=[],_&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(g==="nodata"?i.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):i.push(()=>e[h].onComplete(new Error(g),!1,null))))}If(s,s.transactionQueueTree_);for(let h=0;h<i.length;h++)nl(i[h]);Df(s,s.transactionQueueTree_)}function Ob(s,e){let t,i=s.transactionQueueTree_;for(t=Ee(e);t!==null&&Or(i)===void 0;)i=Af(i,t),e=We(e),t=Ee(e);return i}function Mb(s,e){const t=[];return Db(s,e,t),t.sort((i,a)=>i.order-a.order),t}function Db(s,e,t){const i=Or(e);if(i)for(let a=0;a<i.length;a++)t.push(i[a]);Nf(e,a=>{Db(s,a,t)})}function If(s,e){const t=Or(e);if(t){let i=0;for(let a=0;a<t.length;a++)t[a].status!==2&&(t[i]=t[a],i++);t.length=i,p_(e,t.length>0?t:void 0)}Nf(e,i=>{If(s,i)})}function v_(s,e){const t=Jo(Ob(s,e)),i=Af(s.transactionQueueTree_,e);return $D(i,a=>{yp(s,a)}),yp(s,i),Tb(i,a=>{yp(s,a)}),t}function yp(s,e){const t=Or(e);if(t){const i=[];let a=[],o=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(ee(o===c-1,"All SENT items should be at beginning of queue."),o=c,t[c].status=3,t[c].abortReason="set"):(ee(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),a=a.concat(bs(s.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?p_(e,void 0):t.length=o+1,wn(s.eventQueue_,Jo(e),a);for(let c=0;c<i.length;c++)nl(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(s){let e="";const t=s.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let a=t[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function RI(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const t of s.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Wt(`Invalid query segment '${t}' in query '${s}'`)}return e}const X1=function(s,e){const t=xI(s),i=t.namespace;t.domain==="firebase.com"&&Vi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||kM();const a=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new jE(t.host,t.secure,i,a,e,"",i!==t.subdomain),path:new Ve(t.pathString)}},xI=function(s){let e="",t="",i="",a="",o="",c=!0,h="https",f=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(h=s.substring(0,p-1),s=s.substring(p+2));let _=s.indexOf("/");_===-1&&(_=s.length);let g=s.indexOf("?");g===-1&&(g=s.length),e=s.substring(0,Math.min(_,g)),_<g&&(a=wI(s.substring(_,g)));const v=RI(s.substring(Math.min(s.length,g)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const E=e.slice(0,p);if(E.toLowerCase()==="localhost")t="localhost";else if(E.split(".").length<=2)t=E;else{const T=e.indexOf(".");i=e.substring(0,T).toLowerCase(),t=e.substring(T+1),o=i}"ns"in v&&(o=v.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:c,scheme:h,pathString:a,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,i,a){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xt(this.snapshot.exportVal())}}class NI{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t,i,a){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=a}get key(){return Re(this._path)?null:Ym(this._path)}get ref(){return new pi(this._repo,this._path)}get _queryIdentifier(){const e=k1(this._queryParams),t=Fm(e);return t==="{}"?"default":t}get _queryObject(){return k1(this._queryParams)}isEqual(e){if(e=$t(e),!(e instanceof y_))return!1;const t=this._repo===e._repo,i=Qm(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return t&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+g2(this._path)}}class pi extends y_{constructor(e,t){super(e,t,new $m,!1)}get parent(){const e=XE(this._path);return e===null?null:new pi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ja{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ve(e),i=Zp(this.ref,e);return new ja(this._node.getChild(t),i,rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>e(new ja(a,Zp(this.ref,i),rt)))}hasChild(e){const t=new Ve(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $e(s,e){return s=$t(s),s._checkNotDeleted("ref"),e!==void 0?Zp(s._root,e):s._root}function Zp(s,e){return s=$t(s),Ee(s._path)===null?rI("child","path",e):Rb("child","path",e),new pi(s._repo,ct(s._path,e))}function Aa(s,e){s=$t(s),xb("set",s._path),nI("set",e,s._path);const t=new $a;return _I(s._repo,s._path,e,null,t.wrapCallback(()=>{})),t.promise}function hr(s,e){sI("update",e,s._path);const t=new $a;return gI(s._repo,s._path,e,t.wrapCallback(()=>{})),t.promise}function ci(s){s=$t(s);const e=new Ib(()=>{}),t=new kf(e);return mI(s._repo,s,t).then(i=>new ja(i,new pi(s._repo,s._path),s._queryParams.getIndex()))}class kf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new AI("value",this,new ja(e.snapshotNode,new pi(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new NI(this,e,t):null}matches(e){return e instanceof kf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OI(s,e,t,i,a){const o=new Ib(t,void 0),c=new kf(o);return yI(s._repo,s,c),()=>SI(s._repo,s,c)}function Oc(s,e,t,i){return OI(s,"value",e)}ND(pi);kD(pi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="FIREBASE_DATABASE_EMULATOR_HOST",Jp={};let DI=!1;function II(s,e,t,i){const a=e.lastIndexOf(":"),o=e.substring(0,a),c=Za(o);s.repoInfo_=new jE(e,c,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(s.authTokenProvider_=i)}function kI(s,e,t,i,a){let o=i||s.options.databaseURL;o===void 0&&(s.options.projectId||Vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",s.options.projectId),o=`${s.options.projectId}-default-rtdb.firebaseio.com`);let c=X1(o,a),h=c.repoInfo,f;typeof process<"u"&&_1&&(f=_1[MI]),f?(o=`http://${f}?ns=${h.namespace}`,c=X1(o,a),h=c.repoInfo):c.repoInfo.secure;const p=new qM(s.name,s.options,e);aI("Invalid Firebase Database URL",c),Re(c.path)||Vi("Database URL must point to the root of a Firebase Database (not including a child path).");const _=PI(h,s,p,new GM(s,t));return new UI(_,s)}function LI(s,e){const t=Jp[e];(!t||t[s.key]!==s)&&Vi(`Database ${e}(${s.repoInfo_}) has already been deleted.`),EI(s),delete t[s.key]}function PI(s,e,t,i){let a=Jp[e.name];a||(a={},Jp[e.name]=a);let o=a[s.toURLString()];return o&&Vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new fI(s,DI,t,i),a[s.toURLString()]=o,o}class UI{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pi(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vi("Cannot call "+e+" on a deleted database.")}}function zI(s=qS(),e){const t=Om(s,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Jx("database");i&&jI(t,...i)}return t}function jI(s,e,t,i={}){s=$t(s),s._checkNotDeleted("useEmulator");const a=`${e}:${t}`,o=s._repoInternal;if(s._instanceStarted){if(a===s._repoInternal.repoInfo_.host&&Sr(i,o.repoInfo_.emulatorOptions))return;Vi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Nc(Nc.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:eA(i.mockUserToken,s.app.options.projectId);c=new Nc(h)}Za(e)&&(zS(e),jS("Database",!0)),II(o,a,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(s){NM(el),Da(new Er("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return kI(i,a,o,t)},"PUBLIC").setMultipleInstances(!0)),As(g1,v1,s),As(g1,v1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Lo(s,e,t){if(s=$t(s),xb("Reference.transaction",s._path),s.key===".length"||s.key===".keys")throw"Reference.transaction failed: "+s.key+" is a read-only object.";const i=!0,a=new $a,o=(h,f,p)=>{let _=null;h?a.reject(h):(_=new ja(p,new pi(s._repo,s._path),rt),a.resolve(new HI(f,_)))},c=Oc(s,()=>{});return bI(s._repo,s._path,e,o,c,i),a.promise}ji.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};ji.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};BI();const FI={apiKey:"AIzaSyAWmDDr3A7r0Jg1bxh-XjHjAkM_RCdlHQk",authDomain:"tkd-react-app.firebaseapp.com",databaseURL:"https://tkd-react-app-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"tkd-react-app",storageBucket:"tkd-react-app.firebasestorage.app",messagingSenderId:"131767355176",appId:"1:131767355176:web:4955187fe336e69f7bf21d",measurementId:"G-TNYHYGHZ8C"},kb=GS(FI),Ze=zI(kb),uo=wM(kb),Lb=M.createContext(),W1="mynameisc.y.cheung@gmail.com",VI=({children:s})=>{const[e,t]=M.useState(null),[i,a]=M.useState(!0),[o,c]=M.useState(null);M.useEffect(()=>{const g=pO(uo,v=>{console.log("Auth state changed: ",v),v&&v.email===W1?(t(v),c(null)):(v&&(fp(uo),c("Access denied. Please use the authorized Google account.")),t(null)),a(!1)});return()=>g()},[]);const _={user:e,login:async()=>{a(!0),c(null);const g=new ki;try{(await kO(uo,g)).user.email!==W1&&(await fp(uo),t(null),c("Access denied. Please use the authorized Google account."))}catch(v){console.error("Error during popup sign-in:",v),c(`Popup sign-in error: ${v.message}`),t(null),a(!1)}},logout:async()=>{await fp(uo),t(null),c(null)},isAuthenticated:()=>!!e,loading:i,authError:o};return C.jsx(Lb.Provider,{value:_,children:s})},Lf=()=>M.useContext(Lb),Ec=({children:s})=>{const{isAuthenticated:e,loading:t}=Lf(),i=Yi();return t?C.jsx("div",{children:"Loading..."}):e()?s:C.jsx(CS,{to:"/login",state:{from:i},replace:!0})};function Di(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Pb(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Cn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ba={duration:.5,overwrite:!1,delay:0},S_,jt,Je,Bn=1e8,Ye=1/Bn,em=Math.PI*2,GI=em/4,qI=0,Ub=Math.sqrt,YI=Math.cos,QI=Math.sin,kt=function(e){return typeof e=="string"},ft=function(e){return typeof e=="function"},Gi=function(e){return typeof e=="number"},E_=function(e){return typeof e>"u"},hi=function(e){return typeof e=="object"},rn=function(e){return e!==!1},b_=function(){return typeof window<"u"},bc=function(e){return ft(e)||kt(e)},zb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},qt=Array.isArray,tm=/(?:-?\.?\d|\.)+/gi,jb=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Sa=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Sp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Bb=/[+-]=-?[.\d]+/,Hb=/[^,'"\[\]\s]+/gi,XI=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,it,ai,nm,T_,Rn={},rf={},Fb,Vb=function(e){return(rf=Ha(e,Rn))&&un},C_=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Po=function(e,t){return!t&&console.warn(e)},Gb=function(e,t){return e&&(Rn[e]=t)&&rf&&(rf[e]=t)||Rn},Uo=function(){return 0},WI={suppressEvents:!0,isStart:!0,kill:!1},Mc={suppressEvents:!0,kill:!1},KI={suppressEvents:!0},w_={},Ms=[],im={},qb,En={},Ep={},K1=30,Dc=[],R_="",x_=function(e){var t=e[0],i,a;if(hi(t)||ft(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(a=Dc.length;a--&&!Dc[a].targetTest(t););i=Dc[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new mT(e[a],i)))||e.splice(a,1);return e},mr=function(e){return e._gsap||x_(Hn(e))[0]._gsap},Yb=function(e,t,i){return(i=e[t])&&ft(i)?e[t]():E_(i)&&e.getAttribute&&e.getAttribute(t)||i},an=function(e,t){return(e=e.split(",")).forEach(t)||e},mt=function(e){return Math.round(e*1e5)/1e5||0},Et=function(e){return Math.round(e*1e7)/1e7||0},Na=function(e,t){var i=t.charAt(0),a=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+a:i==="-"?e-a:i==="*"?e*a:e/a},$I=function(e,t){for(var i=t.length,a=0;e.indexOf(t[a])<0&&++a<i;);return a<i},af=function(){var e=Ms.length,t=Ms.slice(0),i,a;for(im={},Ms.length=0,i=0;i<e;i++)a=t[i],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},A_=function(e){return!!(e._initted||e._startAt||e.add)},Qb=function(e,t,i,a){Ms.length&&!jt&&af(),e.render(t,i,!!(jt&&t<0&&A_(e))),Ms.length&&!jt&&af()},Xb=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Hb).length<2?t:kt(e)?e.trim():e},Wb=function(e){return e},xn=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},ZI=function(e){return function(t,i){for(var a in i)a in t||a==="duration"&&e||a==="ease"||(t[a]=i[a])}},Ha=function(e,t){for(var i in t)e[i]=t[i];return e},$1=function s(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=hi(t[i])?s(e[i]||(e[i]={}),t[i]):t[i]);return e},lf=function(e,t){var i={},a;for(a in e)a in t||(i[a]=e[a]);return i},Eo=function(e){var t=e.parent||it,i=e.keyframes?ZI(qt(e.keyframes)):xn;if(rn(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},JI=function(e,t){for(var i=e.length,a=i===t.length;a&&i--&&e[i]===t[i];);return i<0},Kb=function(e,t,i,a,o){var c=e[a],h;if(o)for(h=t[o];c&&c[o]>h;)c=c._prev;return c?(t._next=c._next,c._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[a]=t,t._prev=c,t.parent=t._dp=e,t},Pf=function(e,t,i,a){i===void 0&&(i="_first"),a===void 0&&(a="_last");var o=t._prev,c=t._next;o?o._next=c:e[i]===t&&(e[i]=c),c?c._prev=o:e[a]===t&&(e[a]=o),t._next=t._prev=t.parent=null},Ps=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_r=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},e3=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},sm=function(e,t,i,a){return e._startAt&&(jt?e._startAt.revert(Mc):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,a))},t3=function s(e){return!e||e._ts&&s(e.parent)},Z1=function(e){return e._repeat?Fa(e._tTime,e=e.duration()+e._rDelay)*e:0},Fa=function(e,t){var i=Math.floor(e=Et(e/t));return e&&i===e?i-1:i},of=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Uf=function(e){return e._end=Et(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ye)||0))},zf=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Et(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Uf(e),i._dirty||_r(i,e)),e},$b=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=of(e.rawTime(),t),(!t._dur||nu(0,t.totalDuration(),i)-t._tTime>Ye)&&t.render(i,!0)),_r(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Ye}},li=function(e,t,i,a){return t.parent&&Ps(t),t._start=Et((Gi(i)?i:i||e!==it?zn(e,i,t):e._time)+t._delay),t._end=Et(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Kb(e,t,"_first","_last",e._sort?"_start":0),rm(t)||(e._recent=t),a||$b(e,t),e._ts<0&&zf(e,e._tTime),e},Zb=function(e,t){return(Rn.ScrollTrigger||C_("scrollTrigger",t))&&Rn.ScrollTrigger.create(t,e)},Jb=function(e,t,i,a,o){if(O_(e,t,o),!e._initted)return 1;if(!i&&e._pt&&!jt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&qb!==bn.frame)return Ms.push(e),e._lazy=[o,a],1},n3=function s(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||s(t))},rm=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},i3=function(e,t,i,a){var o=e.ratio,c=t<0||!t&&(!e._start&&n3(e)&&!(!e._initted&&rm(e))||(e._ts<0||e._dp._ts<0)&&!rm(e))?0:1,h=e._rDelay,f=0,p,_,g;if(h&&e._repeat&&(f=nu(0,e._tDur,t),_=Fa(f,h),e._yoyo&&_&1&&(c=1-c),_!==Fa(e._tTime,h)&&(o=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==o||jt||a||e._zTime===Ye||!t&&e._zTime){if(!e._initted&&Jb(e,t,a,i,f))return;for(g=e._zTime,e._zTime=t||(i?Ye:0),i||(i=t&&!g),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=f,p=e._pt;p;)p.r(c,p.d),p=p._next;t<0&&sm(e,t,i,!0),e._onUpdate&&!i&&Tn(e,"onUpdate"),f&&e._repeat&&!i&&e.parent&&Tn(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&Ps(e,1),!i&&!jt&&(Tn(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},s3=function(e,t,i){var a;if(i>t)for(a=e._first;a&&a._start<=i;){if(a.data==="isPause"&&a._start>t)return a;a=a._next}else for(a=e._last;a&&a._start>=i;){if(a.data==="isPause"&&a._start<t)return a;a=a._prev}},Va=function(e,t,i,a){var o=e._repeat,c=Et(t)||0,h=e._tTime/e._tDur;return h&&!a&&(e._time*=c/e._dur),e._dur=c,e._tDur=o?o<0?1e10:Et(c*(o+1)+e._rDelay*o):c,h>0&&!a&&zf(e,e._tTime=e._tDur*h),e.parent&&Uf(e),i||_r(e.parent,e),e},J1=function(e){return e instanceof Qt?_r(e):Va(e,e._dur)},r3={_start:0,endTime:Uo,totalDuration:Uo},zn=function s(e,t,i){var a=e.labels,o=e._recent||r3,c=e.duration()>=Bn?o.endTime(!1):e._dur,h,f,p;return kt(t)&&(isNaN(t)||t in a)?(f=t.charAt(0),p=t.substr(-1)==="%",h=t.indexOf("="),f==="<"||f===">"?(h>=0&&(t=t.replace(/=/,"")),(f==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(h<0?o:i).totalDuration()/100:1)):h<0?(t in a||(a[t]=c),a[t]):(f=parseFloat(t.charAt(h-1)+t.substr(h+1)),p&&i&&(f=f/100*(qt(i)?i[0]:i).totalDuration()),h>1?s(e,t.substr(0,h-1),i)+f:c+f)):t==null?c:+t},bo=function(e,t,i){var a=Gi(t[1]),o=(a?2:1)+(e<2?0:1),c=t[o],h,f;if(a&&(c.duration=t[1]),c.parent=i,e){for(h=c,f=i;f&&!("immediateRender"in h);)h=f.vars.defaults||{},f=rn(f.vars.inherit)&&f.parent;c.immediateRender=rn(h.immediateRender),e<2?c.runBackwards=1:c.startAt=t[o-1]}return new St(t[0],c,t[o+1])},js=function(e,t){return e||e===0?t(e):t},nu=function(e,t,i){return i<e?e:i>t?t:i},Gt=function(e,t){return!kt(e)||!(t=XI.exec(e))?"":t[1]},a3=function(e,t,i){return js(i,function(a){return nu(e,t,a)})},am=[].slice,eT=function(e,t){return e&&hi(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&hi(e[0]))&&!e.nodeType&&e!==ai},l3=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(a){var o;return kt(a)&&!t||eT(a,1)?(o=i).push.apply(o,Hn(a)):i.push(a)})||i},Hn=function(e,t,i){return Je&&!t&&Je.selector?Je.selector(e):kt(e)&&!i&&(nm||!Ga())?am.call((t||T_).querySelectorAll(e),0):qt(e)?l3(e,i):eT(e)?am.call(e,0):e?[e]:[]},lm=function(e){return e=Hn(e)[0]||Po("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Hn(t,i.querySelectorAll?i:i===e?Po("Invalid scope")||T_.createElement("div"):e)}},tT=function(e){return e.sort(function(){return .5-Math.random()})},nT=function(e){if(ft(e))return e;var t=hi(e)?e:{each:e},i=gr(t.ease),a=t.from||0,o=parseFloat(t.base)||0,c={},h=a>0&&a<1,f=isNaN(a)||h,p=t.axis,_=a,g=a;return kt(a)?_=g={center:.5,edges:.5,end:1}[a]||0:!h&&f&&(_=a[0],g=a[1]),function(v,E,T){var S=(T||t).length,w=c[S],A,D,N,H,L,W,Y,Q,V;if(!w){if(V=t.grid==="auto"?0:(t.grid||[1,Bn])[1],!V){for(Y=-Bn;Y<(Y=T[V++].getBoundingClientRect().left)&&V<S;);V<S&&V--}for(w=c[S]=[],A=f?Math.min(V,S)*_-.5:a%V,D=V===Bn?0:f?S*g/V-.5:a/V|0,Y=0,Q=Bn,W=0;W<S;W++)N=W%V-A,H=D-(W/V|0),w[W]=L=p?Math.abs(p==="y"?H:N):Ub(N*N+H*H),L>Y&&(Y=L),L<Q&&(Q=L);a==="random"&&tT(w),w.max=Y-Q,w.min=Q,w.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(V>S?S-1:p?p==="y"?S/V:V:Math.max(V,S/V))||0)*(a==="edges"?-1:1),w.b=S<0?o-S:o,w.u=Gt(t.amount||t.each)||0,i=i&&S<0?hT(i):i}return S=(w[v]-w.min)/w.max||0,Et(w.b+(i?i(S):S)*w.v)+w.u}},om=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var a=Et(Math.round(parseFloat(i)/e)*e*t);return(a-a%1)/t+(Gi(i)?0:Gt(i))}},iT=function(e,t){var i=qt(e),a,o;return!i&&hi(e)&&(a=i=e.radius||Bn,e.values?(e=Hn(e.values),(o=!Gi(e[0]))&&(a*=a)):e=om(e.increment)),js(t,i?ft(e)?function(c){return o=e(c),Math.abs(o-c)<=a?o:c}:function(c){for(var h=parseFloat(o?c.x:c),f=parseFloat(o?c.y:0),p=Bn,_=0,g=e.length,v,E;g--;)o?(v=e[g].x-h,E=e[g].y-f,v=v*v+E*E):v=Math.abs(e[g]-h),v<p&&(p=v,_=g);return _=!a||p<=a?e[_]:c,o||_===c||Gi(c)?_:_+Gt(c)}:om(e))},sT=function(e,t,i,a){return js(qt(e)?!t:i===!0?!!(i=0):!a,function(){return qt(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(a=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*a)/a})},o3=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(a){return t.reduce(function(o,c){return c(o)},a)}},u3=function(e,t){return function(i){return e(parseFloat(i))+(t||Gt(i))}},c3=function(e,t,i){return aT(e,t,0,1,i)},rT=function(e,t,i){return js(i,function(a){return e[~~t(a)]})},f3=function s(e,t,i){var a=t-e;return qt(e)?rT(e,s(0,e.length),t):js(i,function(o){return(a+(o-e)%a)%a+e})},h3=function s(e,t,i){var a=t-e,o=a*2;return qt(e)?rT(e,s(0,e.length-1),t):js(i,function(c){return c=(o+(c-e)%o)%o||0,e+(c>a?o-c:c)})},zo=function(e){for(var t=0,i="",a,o,c,h;~(a=e.indexOf("random(",t));)c=e.indexOf(")",a),h=e.charAt(a+7)==="[",o=e.substr(a+7,c-a-7).match(h?Hb:tm),i+=e.substr(t,a-t)+sT(h?o:+o[0],h?0:+o[1],+o[2]||1e-5),t=c+1;return i+e.substr(t,e.length-t)},aT=function(e,t,i,a,o){var c=t-e,h=a-i;return js(o,function(f){return i+((f-e)/c*h||0)})},d3=function s(e,t,i,a){var o=isNaN(e+t)?0:function(E){return(1-E)*e+E*t};if(!o){var c=kt(e),h={},f,p,_,g,v;if(i===!0&&(a=1)&&(i=null),c)e={p:e},t={p:t};else if(qt(e)&&!qt(t)){for(_=[],g=e.length,v=g-2,p=1;p<g;p++)_.push(s(e[p-1],e[p]));g--,o=function(T){T*=g;var S=Math.min(v,~~T);return _[S](T-S)},i=t}else a||(e=Ha(qt(e)?[]:{},e));if(!_){for(f in t)N_.call(h,e,f,"get",t[f]);o=function(T){return I_(T,h)||(c?e.p:e)}}}return js(i,o)},eS=function(e,t,i){var a=e.labels,o=Bn,c,h,f;for(c in a)h=a[c]-t,h<0==!!i&&h&&o>(h=Math.abs(h))&&(f=c,o=h);return f},Tn=function(e,t,i){var a=e.vars,o=a[t],c=Je,h=e._ctx,f,p,_;if(o)return f=a[t+"Params"],p=a.callbackScope||e,i&&Ms.length&&af(),h&&(Je=h),_=f?o.apply(p,f):o.call(p),Je=c,_},fo=function(e){return Ps(e),e.scrollTrigger&&e.scrollTrigger.kill(!!jt),e.progress()<1&&Tn(e,"onInterrupt"),e},Ea,lT=[],oT=function(e){if(e)if(e=!e.name&&e.default||e,b_()||e.headless){var t=e.name,i=ft(e),a=t&&!i&&e.init?function(){this._props=[]}:e,o={init:Uo,render:I_,add:N_,kill:N3,modifier:A3,rawVars:0},c={targetTest:0,get:0,getSetter:D_,aliases:{},register:0};if(Ga(),e!==a){if(En[t])return;xn(a,xn(lf(e,o),c)),Ha(a.prototype,Ha(o,lf(e,c))),En[a.prop=t]=a,e.targetTest&&(Dc.push(a),w_[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Gb(t,a),e.register&&e.register(un,a,ln)}else lT.push(e)},qe=255,ho={aqua:[0,qe,qe],lime:[0,qe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,qe],navy:[0,0,128],white:[qe,qe,qe],olive:[128,128,0],yellow:[qe,qe,0],orange:[qe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[qe,0,0],pink:[qe,192,203],cyan:[0,qe,qe],transparent:[qe,qe,qe,0]},bp=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*qe+.5|0},uT=function(e,t,i){var a=e?Gi(e)?[e>>16,e>>8&qe,e&qe]:0:ho.black,o,c,h,f,p,_,g,v,E,T;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ho[e])a=ho[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),c=e.charAt(2),h=e.charAt(3),e="#"+o+o+c+c+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&qe,a&qe,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&qe,e&qe]}else if(e.substr(0,3)==="hsl"){if(a=T=e.match(tm),!t)f=+a[0]%360/360,p=+a[1]/100,_=+a[2]/100,c=_<=.5?_*(p+1):_+p-_*p,o=_*2-c,a.length>3&&(a[3]*=1),a[0]=bp(f+1/3,o,c),a[1]=bp(f,o,c),a[2]=bp(f-1/3,o,c);else if(~e.indexOf("="))return a=e.match(jb),i&&a.length<4&&(a[3]=1),a}else a=e.match(tm)||ho.transparent;a=a.map(Number)}return t&&!T&&(o=a[0]/qe,c=a[1]/qe,h=a[2]/qe,g=Math.max(o,c,h),v=Math.min(o,c,h),_=(g+v)/2,g===v?f=p=0:(E=g-v,p=_>.5?E/(2-g-v):E/(g+v),f=g===o?(c-h)/E+(c<h?6:0):g===c?(h-o)/E+2:(o-c)/E+4,f*=60),a[0]=~~(f+.5),a[1]=~~(p*100+.5),a[2]=~~(_*100+.5)),i&&a.length<4&&(a[3]=1),a},cT=function(e){var t=[],i=[],a=-1;return e.split(Ds).forEach(function(o){var c=o.match(Sa)||[];t.push.apply(t,c),i.push(a+=c.length+1)}),t.c=i,t},tS=function(e,t,i){var a="",o=(e+a).match(Ds),c=t?"hsla(":"rgba(",h=0,f,p,_,g;if(!o)return e;if(o=o.map(function(v){return(v=uT(v,t,1))&&c+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),i&&(_=cT(e),f=i.c,f.join(a)!==_.c.join(a)))for(p=e.replace(Ds,"1").split(Sa),g=p.length-1;h<g;h++)a+=p[h]+(~f.indexOf(h)?o.shift()||c+"0,0,0,0)":(_.length?_:o.length?o:i).shift());if(!p)for(p=e.split(Ds),g=p.length-1;h<g;h++)a+=p[h]+o[h];return a+p[g]},Ds=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ho)s+="|"+e+"\\b";return new RegExp(s+")","gi")}(),p3=/hsl[a]?\(/,fT=function(e){var t=e.join(" "),i;if(Ds.lastIndex=0,Ds.test(t))return i=p3.test(t),e[1]=tS(e[1],i),e[0]=tS(e[0],i,cT(e[1])),!0},jo,bn=function(){var s=Date.now,e=500,t=33,i=s(),a=i,o=1e3/240,c=o,h=[],f,p,_,g,v,E,T=function S(w){var A=s()-a,D=w===!0,N,H,L,W;if((A>e||A<0)&&(i+=A-t),a+=A,L=a-i,N=L-c,(N>0||D)&&(W=++g.frame,v=L-g.time*1e3,g.time=L=L/1e3,c+=N+(N>=o?4:o-N),H=1),D||(f=p(S)),H)for(E=0;E<h.length;E++)h[E](L,v,W,w)};return g={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(w){return v/(1e3/(w||60))},wake:function(){Fb&&(!nm&&b_()&&(ai=nm=window,T_=ai.document||{},Rn.gsap=un,(ai.gsapVersions||(ai.gsapVersions=[])).push(un.version),Vb(rf||ai.GreenSockGlobals||!ai.gsap&&ai||{}),lT.forEach(oT)),_=typeof requestAnimationFrame<"u"&&requestAnimationFrame,f&&g.sleep(),p=_||function(w){return setTimeout(w,c-g.time*1e3+1|0)},jo=1,T(2))},sleep:function(){(_?cancelAnimationFrame:clearTimeout)(f),jo=0,p=Uo},lagSmoothing:function(w,A){e=w||1/0,t=Math.min(A||33,e)},fps:function(w){o=1e3/(w||240),c=g.time*1e3+o},add:function(w,A,D){var N=A?function(H,L,W,Y){w(H,L,W,Y),g.remove(N)}:w;return g.remove(w),h[D?"unshift":"push"](N),Ga(),N},remove:function(w,A){~(A=h.indexOf(w))&&h.splice(A,1)&&E>=A&&E--},_listeners:h},g}(),Ga=function(){return!jo&&bn.wake()},Ne={},m3=/^[\d.\-M][\d.\-,\s]/,_3=/["']/g,g3=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),a=i[0],o=1,c=i.length,h,f,p;o<c;o++)f=i[o],h=o!==c-1?f.lastIndexOf(","):f.length,p=f.substr(0,h),t[a]=isNaN(p)?p.replace(_3,"").trim():+p,a=f.substr(h+1).trim();return t},v3=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),a=e.indexOf("(",t);return e.substring(t,~a&&a<i?e.indexOf(")",i+1):i)},y3=function(e){var t=(e+"").split("("),i=Ne[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[g3(t[1])]:v3(e).split(",").map(Xb)):Ne._CE&&m3.test(e)?Ne._CE("",e):i},hT=function(e){return function(t){return 1-e(1-t)}},dT=function s(e,t){for(var i=e._first,a;i;)i instanceof Qt?s(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?s(i.timeline,t):(a=i._ease,i._ease=i._yEase,i._yEase=a,i._yoyo=t)),i=i._next},gr=function(e,t){return e&&(ft(e)?e:Ne[e]||y3(e))||t},Mr=function(e,t,i,a){i===void 0&&(i=function(f){return 1-t(1-f)}),a===void 0&&(a=function(f){return f<.5?t(f*2)/2:1-t((1-f)*2)/2});var o={easeIn:t,easeOut:i,easeInOut:a},c;return an(e,function(h){Ne[h]=Rn[h]=o,Ne[c=h.toLowerCase()]=i;for(var f in o)Ne[c+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=Ne[h+"."+f]=o[f]}),o},pT=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Tp=function s(e,t,i){var a=t>=1?t:1,o=(i||(e?.3:.45))/(t<1?t:1),c=o/em*(Math.asin(1/a)||0),h=function(_){return _===1?1:a*Math.pow(2,-10*_)*QI((_-c)*o)+1},f=e==="out"?h:e==="in"?function(p){return 1-h(1-p)}:pT(h);return o=em/o,f.config=function(p,_){return s(e,p,_)},f},Cp=function s(e,t){t===void 0&&(t=1.70158);var i=function(c){return c?--c*c*((t+1)*c+t)+1:0},a=e==="out"?i:e==="in"?function(o){return 1-i(1-o)}:pT(i);return a.config=function(o){return s(e,o)},a};an("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,e){var t=e<5?e+1:e;Mr(s+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Ne.Linear.easeNone=Ne.none=Ne.Linear.easeIn;Mr("Elastic",Tp("in"),Tp("out"),Tp());(function(s,e){var t=1/e,i=2*t,a=2.5*t,o=function(h){return h<t?s*h*h:h<i?s*Math.pow(h-1.5/e,2)+.75:h<a?s*(h-=2.25/e)*h+.9375:s*Math.pow(h-2.625/e,2)+.984375};Mr("Bounce",function(c){return 1-o(1-c)},o)})(7.5625,2.75);Mr("Expo",function(s){return Math.pow(2,10*(s-1))*s+s*s*s*s*s*s*(1-s)});Mr("Circ",function(s){return-(Ub(1-s*s)-1)});Mr("Sine",function(s){return s===1?1:-YI(s*GI)+1});Mr("Back",Cp("in"),Cp("out"),Cp());Ne.SteppedEase=Ne.steps=Rn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,a=e+(t?0:1),o=t?1:0,c=1-Ye;return function(h){return((a*nu(0,c,h)|0)+o)*i}}};Ba.ease=Ne["quad.out"];an("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return R_+=s+","+s+"Params,"});var mT=function(e,t){this.id=qI++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Yb,this.set=t?t.getSetter:D_},Bo=function(){function s(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Va(this,+t.duration,1,1),this.data=t.data,Je&&(this._ctx=Je,Je.data.push(this)),jo||bn.wake()}var e=s.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Va(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,a){if(Ga(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(zf(this,i),!o._dp||o.parent||$b(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&li(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Ye||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Qb(this,i,a)),this},e.time=function(i,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Z1(this))%(this._dur+this._rDelay)||(i?this._dur:0),a):this._time},e.totalProgress=function(i,a){return arguments.length?this.totalTime(this.totalDuration()*i,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Z1(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,a){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*o,a):this._repeat?Fa(this._tTime,o)+1:1},e.timeScale=function(i,a){if(!arguments.length)return this._rts===-Ye?0:this._rts;if(this._rts===i)return this;var o=this.parent&&this._ts?of(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Ye?0:this._rts,this.totalTime(nu(-Math.abs(this._delay),this.totalDuration(),o),a!==!1),Uf(this),e3(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ga(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ye&&(this._tTime-=Ye)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&li(a,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(rn(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var a=this.parent||this._dp;return a?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?of(a.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=KI);var a=jt;return jt=i,A_(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),jt=a,this},e.globalTime=function(i){for(var a=this,o=arguments.length?i:a.rawTime();a;)o=a._start+o/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(i):o},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,J1(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var a=this._time;return this._rDelay=i,J1(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,a){return this.totalTime(zn(this,i),rn(a))},e.restart=function(i,a){return this.play().totalTime(i?-this._delay:0,rn(a)),this._dur||(this._zTime=-Ye),this},e.play=function(i,a){return i!=null&&this.seek(i,a),this.reversed(!1).paused(!1)},e.reverse=function(i,a){return i!=null&&this.seek(i||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(i,a){return i!=null&&this.seek(i,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Ye:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ye,this},e.isActive=function(){var i=this.parent||this._dp,a=this._start,o;return!!(!i||this._ts&&this._initted&&i.isActive()&&(o=i.rawTime(!0))>=a&&o<this.endTime(!0)-Ye)},e.eventCallback=function(i,a,o){var c=this.vars;return arguments.length>1?(a?(c[i]=a,o&&(c[i+"Params"]=o),i==="onUpdate"&&(this._onUpdate=a)):delete c[i],this):c[i]},e.then=function(i){var a=this;return new Promise(function(o){var c=ft(i)?i:Wb,h=function(){var p=a.then;a.then=null,ft(c)&&(c=c(a))&&(c.then||c===a)&&(a.then=p),o(c),a.then=p};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?h():a._prom=h})},e.kill=function(){fo(this)},s}();xn(Bo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ye,_prom:0,_ps:!1,_rts:1});var Qt=function(s){Pb(e,s);function e(i,a){var o;return i===void 0&&(i={}),o=s.call(this,i)||this,o.labels={},o.smoothChildTiming=!!i.smoothChildTiming,o.autoRemoveChildren=!!i.autoRemoveChildren,o._sort=rn(i.sortChildren),it&&li(i.parent||it,Di(o),a),i.reversed&&o.reverse(),i.paused&&o.paused(!0),i.scrollTrigger&&Zb(Di(o),i.scrollTrigger),o}var t=e.prototype;return t.to=function(a,o,c){return bo(0,arguments,this),this},t.from=function(a,o,c){return bo(1,arguments,this),this},t.fromTo=function(a,o,c,h){return bo(2,arguments,this),this},t.set=function(a,o,c){return o.duration=0,o.parent=this,Eo(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new St(a,o,zn(this,c),1),this},t.call=function(a,o,c){return li(this,St.delayedCall(0,a,o),c)},t.staggerTo=function(a,o,c,h,f,p,_){return c.duration=o,c.stagger=c.stagger||h,c.onComplete=p,c.onCompleteParams=_,c.parent=this,new St(a,c,zn(this,f)),this},t.staggerFrom=function(a,o,c,h,f,p,_){return c.runBackwards=1,Eo(c).immediateRender=rn(c.immediateRender),this.staggerTo(a,o,c,h,f,p,_)},t.staggerFromTo=function(a,o,c,h,f,p,_,g){return h.startAt=c,Eo(h).immediateRender=rn(h.immediateRender),this.staggerTo(a,o,h,f,p,_,g)},t.render=function(a,o,c){var h=this._time,f=this._dirty?this.totalDuration():this._tDur,p=this._dur,_=a<=0?0:Et(a),g=this._zTime<0!=a<0&&(this._initted||!p),v,E,T,S,w,A,D,N,H,L,W,Y;if(this!==it&&_>f&&a>=0&&(_=f),_!==this._tTime||c||g){if(h!==this._time&&p&&(_+=this._time-h,a+=this._time-h),v=_,H=this._start,N=this._ts,A=!N,g&&(p||(h=this._zTime),(a||!o)&&(this._zTime=a)),this._repeat){if(W=this._yoyo,w=p+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(w*100+a,o,c);if(v=Et(_%w),_===f?(S=this._repeat,v=p):(L=Et(_/w),S=~~L,S&&S===L&&(v=p,S--),v>p&&(v=p)),L=Fa(this._tTime,w),!h&&this._tTime&&L!==S&&this._tTime-L*w-this._dur<=0&&(L=S),W&&S&1&&(v=p-v,Y=1),S!==L&&!this._lock){var Q=W&&L&1,V=Q===(W&&S&1);if(S<L&&(Q=!Q),h=Q?0:_%p?p:_,this._lock=1,this.render(h||(Y?0:Et(S*w)),o,!p)._lock=0,this._tTime=_,!o&&this.parent&&Tn(this,"onRepeat"),this.vars.repeatRefresh&&!Y&&(this.invalidate()._lock=1),h&&h!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,f=this._tDur,V&&(this._lock=2,h=Q?p:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!Y&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;dT(this,Y)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(D=s3(this,Et(h),Et(v)),D&&(_-=v-(v=D._start))),this._tTime=_,this._time=v,this._act=!N,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,h=0),!h&&_&&!o&&!L&&(Tn(this,"onStart"),this._tTime!==_))return this;if(v>=h&&a>=0)for(E=this._first;E;){if(T=E._next,(E._act||v>=E._start)&&E._ts&&D!==E){if(E.parent!==this)return this.render(a,o,c);if(E.render(E._ts>0?(v-E._start)*E._ts:(E._dirty?E.totalDuration():E._tDur)+(v-E._start)*E._ts,o,c),v!==this._time||!this._ts&&!A){D=0,T&&(_+=this._zTime=-Ye);break}}E=T}else{E=this._last;for(var te=a<0?a:v;E;){if(T=E._prev,(E._act||te<=E._end)&&E._ts&&D!==E){if(E.parent!==this)return this.render(a,o,c);if(E.render(E._ts>0?(te-E._start)*E._ts:(E._dirty?E.totalDuration():E._tDur)+(te-E._start)*E._ts,o,c||jt&&A_(E)),v!==this._time||!this._ts&&!A){D=0,T&&(_+=this._zTime=te?-Ye:Ye);break}}E=T}}if(D&&!o&&(this.pause(),D.render(v>=h?0:-Ye)._zTime=v>=h?1:-1,this._ts))return this._start=H,Uf(this),this.render(a,o,c);this._onUpdate&&!o&&Tn(this,"onUpdate",!0),(_===f&&this._tTime>=this.totalDuration()||!_&&h)&&(H===this._start||Math.abs(N)!==Math.abs(this._ts))&&(this._lock||((a||!p)&&(_===f&&this._ts>0||!_&&this._ts<0)&&Ps(this,1),!o&&!(a<0&&!h)&&(_||h||!f)&&(Tn(this,_===f&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<f&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(a,o){var c=this;if(Gi(o)||(o=zn(this,o,a)),!(a instanceof Bo)){if(qt(a))return a.forEach(function(h){return c.add(h,o)}),this;if(kt(a))return this.addLabel(a,o);if(ft(a))a=St.delayedCall(0,a);else return this}return this!==a?li(this,a,o):this},t.getChildren=function(a,o,c,h){a===void 0&&(a=!0),o===void 0&&(o=!0),c===void 0&&(c=!0),h===void 0&&(h=-Bn);for(var f=[],p=this._first;p;)p._start>=h&&(p instanceof St?o&&f.push(p):(c&&f.push(p),a&&f.push.apply(f,p.getChildren(!0,o,c)))),p=p._next;return f},t.getById=function(a){for(var o=this.getChildren(1,1,1),c=o.length;c--;)if(o[c].vars.id===a)return o[c]},t.remove=function(a){return kt(a)?this.removeLabel(a):ft(a)?this.killTweensOf(a):(a.parent===this&&Pf(this,a),a===this._recent&&(this._recent=this._last),_r(this))},t.totalTime=function(a,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Et(bn.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),s.prototype.totalTime.call(this,a,o),this._forcing=0,this):this._tTime},t.addLabel=function(a,o){return this.labels[a]=zn(this,o),this},t.removeLabel=function(a){return delete this.labels[a],this},t.addPause=function(a,o,c){var h=St.delayedCall(0,o||Uo,c);return h.data="isPause",this._hasPause=1,li(this,h,zn(this,a))},t.removePause=function(a){var o=this._first;for(a=zn(this,a);o;)o._start===a&&o.data==="isPause"&&Ps(o),o=o._next},t.killTweensOf=function(a,o,c){for(var h=this.getTweensOf(a,c),f=h.length;f--;)Ts!==h[f]&&h[f].kill(a,o);return this},t.getTweensOf=function(a,o){for(var c=[],h=Hn(a),f=this._first,p=Gi(o),_;f;)f instanceof St?$I(f._targets,h)&&(p?(!Ts||f._initted&&f._ts)&&f.globalTime(0)<=o&&f.globalTime(f.totalDuration())>o:!o||f.isActive())&&c.push(f):(_=f.getTweensOf(h,o)).length&&c.push.apply(c,_),f=f._next;return c},t.tweenTo=function(a,o){o=o||{};var c=this,h=zn(c,a),f=o,p=f.startAt,_=f.onStart,g=f.onStartParams,v=f.immediateRender,E,T=St.to(c,xn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:o.duration||Math.abs((h-(p&&"time"in p?p.time:c._time))/c.timeScale())||Ye,onStart:function(){if(c.pause(),!E){var w=o.duration||Math.abs((h-(p&&"time"in p?p.time:c._time))/c.timeScale());T._dur!==w&&Va(T,w,0,1).render(T._time,!0,!0),E=1}_&&_.apply(T,g||[])}},o));return v?T.render(0):T},t.tweenFromTo=function(a,o,c){return this.tweenTo(o,xn({startAt:{time:zn(this,a)}},c))},t.recent=function(){return this._recent},t.nextLabel=function(a){return a===void 0&&(a=this._time),eS(this,zn(this,a))},t.previousLabel=function(a){return a===void 0&&(a=this._time),eS(this,zn(this,a),1)},t.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Ye)},t.shiftChildren=function(a,o,c){c===void 0&&(c=0);for(var h=this._first,f=this.labels,p;h;)h._start>=c&&(h._start+=a,h._end+=a),h=h._next;if(o)for(p in f)f[p]>=c&&(f[p]+=a);return _r(this)},t.invalidate=function(a){var o=this._first;for(this._lock=0;o;)o.invalidate(a),o=o._next;return s.prototype.invalidate.call(this,a)},t.clear=function(a){a===void 0&&(a=!0);for(var o=this._first,c;o;)c=o._next,this.remove(o),o=c;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),_r(this)},t.totalDuration=function(a){var o=0,c=this,h=c._last,f=Bn,p,_,g;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-a:a));if(c._dirty){for(g=c.parent;h;)p=h._prev,h._dirty&&h.totalDuration(),_=h._start,_>f&&c._sort&&h._ts&&!c._lock?(c._lock=1,li(c,h,_-h._delay,1)._lock=0):f=_,_<0&&h._ts&&(o-=_,(!g&&!c._dp||g&&g.smoothChildTiming)&&(c._start+=_/c._ts,c._time-=_,c._tTime-=_),c.shiftChildren(-_,!1,-1/0),f=0),h._end>o&&h._ts&&(o=h._end),h=p;Va(c,c===it&&c._time>o?c._time:o,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(a){if(it._ts&&(Qb(it,of(a,it)),qb=bn.frame),bn.frame>=K1){K1+=Cn.autoSleep||120;var o=it._first;if((!o||!o._ts)&&Cn.autoSleep&&bn._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||bn.sleep()}}},e}(Bo);xn(Qt.prototype,{_lock:0,_hasPause:0,_forcing:0});var S3=function(e,t,i,a,o,c,h){var f=new ln(this._pt,e,t,0,1,ET,null,o),p=0,_=0,g,v,E,T,S,w,A,D;for(f.b=i,f.e=a,i+="",a+="",(A=~a.indexOf("random("))&&(a=zo(a)),c&&(D=[i,a],c(D,e,t),i=D[0],a=D[1]),v=i.match(Sp)||[];g=Sp.exec(a);)T=g[0],S=a.substring(p,g.index),E?E=(E+1)%5:S.substr(-5)==="rgba("&&(E=1),T!==v[_++]&&(w=parseFloat(v[_-1])||0,f._pt={_next:f._pt,p:S||_===1?S:",",s:w,c:T.charAt(1)==="="?Na(w,T)-w:parseFloat(T)-w,m:E&&E<4?Math.round:0},p=Sp.lastIndex);return f.c=p<a.length?a.substring(p,a.length):"",f.fp=h,(Bb.test(a)||A)&&(f.e=0),this._pt=f,f},N_=function(e,t,i,a,o,c,h,f,p,_){ft(a)&&(a=a(o||0,e,c));var g=e[t],v=i!=="get"?i:ft(g)?p?e[t.indexOf("set")||!ft(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():g,E=ft(g)?p?w3:yT:M_,T;if(kt(a)&&(~a.indexOf("random(")&&(a=zo(a)),a.charAt(1)==="="&&(T=Na(v,a)+(Gt(v)||0),(T||T===0)&&(a=T))),!_||v!==a||um)return!isNaN(v*a)&&a!==""?(T=new ln(this._pt,e,t,+v||0,a-(v||0),typeof g=="boolean"?x3:ST,0,E),p&&(T.fp=p),h&&T.modifier(h,this,e),this._pt=T):(!g&&!(t in e)&&C_(t,a),S3.call(this,e,t,v,a,E,f||Cn.stringFilter,p))},E3=function(e,t,i,a,o){if(ft(e)&&(e=To(e,o,t,i,a)),!hi(e)||e.style&&e.nodeType||qt(e)||zb(e))return kt(e)?To(e,o,t,i,a):e;var c={},h;for(h in e)c[h]=To(e[h],o,t,i,a);return c},_T=function(e,t,i,a,o,c){var h,f,p,_;if(En[e]&&(h=new En[e]).init(o,h.rawVars?t[e]:E3(t[e],a,o,c,i),i,a,c)!==!1&&(i._pt=f=new ln(i._pt,o,e,0,1,h.render,h,0,h.priority),i!==Ea))for(p=i._ptLookup[i._targets.indexOf(o)],_=h._props.length;_--;)p[h._props[_]]=f;return h},Ts,um,O_=function s(e,t,i){var a=e.vars,o=a.ease,c=a.startAt,h=a.immediateRender,f=a.lazy,p=a.onUpdate,_=a.runBackwards,g=a.yoyoEase,v=a.keyframes,E=a.autoRevert,T=e._dur,S=e._startAt,w=e._targets,A=e.parent,D=A&&A.data==="nested"?A.vars.targets:w,N=e._overwrite==="auto"&&!S_,H=e.timeline,L,W,Y,Q,V,te,ie,oe,fe,ue,ae,U,G;if(H&&(!v||!o)&&(o="none"),e._ease=gr(o,Ba.ease),e._yEase=g?hT(gr(g===!0?o:g,Ba.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!H&&!!a.runBackwards,!H||v&&!a.stagger){if(oe=w[0]?mr(w[0]).harness:0,U=oe&&a[oe.prop],L=lf(a,w_),S&&(S._zTime<0&&S.progress(1),t<0&&_&&h&&!E?S.render(-1,!0):S.revert(_&&T?Mc:WI),S._lazy=0),c){if(Ps(e._startAt=St.set(w,xn({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!S&&rn(f),startAt:null,delay:0,onUpdate:p&&function(){return Tn(e,"onUpdate")},stagger:0},c))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(jt||!h&&!E)&&e._startAt.revert(Mc),h&&T&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(_&&T&&!S){if(t&&(h=!1),Y=xn({overwrite:!1,data:"isFromStart",lazy:h&&!S&&rn(f),immediateRender:h,stagger:0,parent:A},L),U&&(Y[oe.prop]=U),Ps(e._startAt=St.set(w,Y)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(jt?e._startAt.revert(Mc):e._startAt.render(-1,!0)),e._zTime=t,!h)s(e._startAt,Ye,Ye);else if(!t)return}for(e._pt=e._ptCache=0,f=T&&rn(f)||f&&!T,W=0;W<w.length;W++){if(V=w[W],ie=V._gsap||x_(w)[W]._gsap,e._ptLookup[W]=ue={},im[ie.id]&&Ms.length&&af(),ae=D===w?W:D.indexOf(V),oe&&(fe=new oe).init(V,U||L,e,ae,D)!==!1&&(e._pt=Q=new ln(e._pt,V,fe.name,0,1,fe.render,fe,0,fe.priority),fe._props.forEach(function(J){ue[J]=Q}),fe.priority&&(te=1)),!oe||U)for(Y in L)En[Y]&&(fe=_T(Y,L,e,ae,V,D))?fe.priority&&(te=1):ue[Y]=Q=N_.call(e,V,Y,"get",L[Y],ae,D,0,a.stringFilter);e._op&&e._op[W]&&e.kill(V,e._op[W]),N&&e._pt&&(Ts=e,it.killTweensOf(V,ue,e.globalTime(t)),G=!e.parent,Ts=0),e._pt&&f&&(im[ie.id]=1)}te&&bT(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!G,v&&t<=0&&H.render(Bn,!0,!0)},b3=function(e,t,i,a,o,c,h,f){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],_,g,v,E;if(!p)for(p=e._ptCache[t]=[],v=e._ptLookup,E=e._targets.length;E--;){if(_=v[E][t],_&&_.d&&_.d._pt)for(_=_.d._pt;_&&_.p!==t&&_.fp!==t;)_=_._next;if(!_)return um=1,e.vars[t]="+=0",O_(e,h),um=0,f?Po(t+" not eligible for reset"):1;p.push(_)}for(E=p.length;E--;)g=p[E],_=g._pt||g,_.s=(a||a===0)&&!o?a:_.s+(a||0)+c*_.c,_.c=i-_.s,g.e&&(g.e=mt(i)+Gt(g.e)),g.b&&(g.b=_.s+Gt(g.b))},T3=function(e,t){var i=e[0]?mr(e[0]).harness:0,a=i&&i.aliases,o,c,h,f;if(!a)return t;o=Ha({},t);for(c in a)if(c in o)for(f=a[c].split(","),h=f.length;h--;)o[f[h]]=o[c];return o},C3=function(e,t,i,a){var o=t.ease||a||"power1.inOut",c,h;if(qt(t))h=i[e]||(i[e]=[]),t.forEach(function(f,p){return h.push({t:p/(t.length-1)*100,v:f,e:o})});else for(c in t)h=i[c]||(i[c]=[]),c==="ease"||h.push({t:parseFloat(e),v:t[c],e:o})},To=function(e,t,i,a,o){return ft(e)?e.call(t,i,a,o):kt(e)&&~e.indexOf("random(")?zo(e):e},gT=R_+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",vT={};an(gT+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return vT[s]=1});var St=function(s){Pb(e,s);function e(i,a,o,c){var h;typeof a=="number"&&(o.duration=a,a=o,o=null),h=s.call(this,c?a:Eo(a))||this;var f=h.vars,p=f.duration,_=f.delay,g=f.immediateRender,v=f.stagger,E=f.overwrite,T=f.keyframes,S=f.defaults,w=f.scrollTrigger,A=f.yoyoEase,D=a.parent||it,N=(qt(i)||zb(i)?Gi(i[0]):"length"in a)?[i]:Hn(i),H,L,W,Y,Q,V,te,ie;if(h._targets=N.length?x_(N):Po("GSAP target "+i+" not found. https://gsap.com",!Cn.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=E,T||v||bc(p)||bc(_)){if(a=h.vars,H=h.timeline=new Qt({data:"nested",defaults:S||{},targets:D&&D.data==="nested"?D.vars.targets:N}),H.kill(),H.parent=H._dp=Di(h),H._start=0,v||bc(p)||bc(_)){if(Y=N.length,te=v&&nT(v),hi(v))for(Q in v)~gT.indexOf(Q)&&(ie||(ie={}),ie[Q]=v[Q]);for(L=0;L<Y;L++)W=lf(a,vT),W.stagger=0,A&&(W.yoyoEase=A),ie&&Ha(W,ie),V=N[L],W.duration=+To(p,Di(h),L,V,N),W.delay=(+To(_,Di(h),L,V,N)||0)-h._delay,!v&&Y===1&&W.delay&&(h._delay=_=W.delay,h._start+=_,W.delay=0),H.to(V,W,te?te(L,V,N):0),H._ease=Ne.none;H.duration()?p=_=0:h.timeline=0}else if(T){Eo(xn(H.vars.defaults,{ease:"none"})),H._ease=gr(T.ease||a.ease||"none");var oe=0,fe,ue,ae;if(qt(T))T.forEach(function(U){return H.to(N,U,">")}),H.duration();else{W={};for(Q in T)Q==="ease"||Q==="easeEach"||C3(Q,T[Q],W,T.easeEach);for(Q in W)for(fe=W[Q].sort(function(U,G){return U.t-G.t}),oe=0,L=0;L<fe.length;L++)ue=fe[L],ae={ease:ue.e,duration:(ue.t-(L?fe[L-1].t:0))/100*p},ae[Q]=ue.v,H.to(N,ae,oe),oe+=ae.duration;H.duration()<p&&H.to({},{duration:p-H.duration()})}}p||h.duration(p=H.duration())}else h.timeline=0;return E===!0&&!S_&&(Ts=Di(h),it.killTweensOf(N),Ts=0),li(D,Di(h),o),a.reversed&&h.reverse(),a.paused&&h.paused(!0),(g||!p&&!T&&h._start===Et(D._time)&&rn(g)&&t3(Di(h))&&D.data!=="nested")&&(h._tTime=-Ye,h.render(Math.max(0,-_)||0)),w&&Zb(Di(h),w),h}var t=e.prototype;return t.render=function(a,o,c){var h=this._time,f=this._tDur,p=this._dur,_=a<0,g=a>f-Ye&&!_?f:a<Ye?0:a,v,E,T,S,w,A,D,N,H;if(!p)i3(this,a,o,c);else if(g!==this._tTime||!a||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_||this._lazy){if(v=g,N=this.timeline,this._repeat){if(S=p+this._rDelay,this._repeat<-1&&_)return this.totalTime(S*100+a,o,c);if(v=Et(g%S),g===f?(T=this._repeat,v=p):(w=Et(g/S),T=~~w,T&&T===w?(v=p,T--):v>p&&(v=p)),A=this._yoyo&&T&1,A&&(H=this._yEase,v=p-v),w=Fa(this._tTime,S),v===h&&!c&&this._initted&&T===w)return this._tTime=g,this;T!==w&&(N&&this._yEase&&dT(N,A),this.vars.repeatRefresh&&!A&&!this._lock&&v!==S&&this._initted&&(this._lock=c=1,this.render(Et(S*T),!0).invalidate()._lock=0))}if(!this._initted){if(Jb(this,_?a:v,c,o,g))return this._tTime=0,this;if(h!==this._time&&!(c&&this.vars.repeatRefresh&&T!==w))return this;if(p!==this._dur)return this.render(a,o,c)}if(this._tTime=g,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=D=(H||this._ease)(v/p),this._from&&(this.ratio=D=1-D),!h&&g&&!o&&!w&&(Tn(this,"onStart"),this._tTime!==g))return this;for(E=this._pt;E;)E.r(D,E.d),E=E._next;N&&N.render(a<0?a:N._dur*N._ease(v/this._dur),o,c)||this._startAt&&(this._zTime=a),this._onUpdate&&!o&&(_&&sm(this,a,o,c),Tn(this,"onUpdate")),this._repeat&&T!==w&&this.vars.onRepeat&&!o&&this.parent&&Tn(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(_&&!this._onUpdate&&sm(this,a,!0,!0),(a||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Ps(this,1),!o&&!(_&&!h)&&(g||h||A)&&(Tn(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),s.prototype.invalidate.call(this,a)},t.resetTo=function(a,o,c,h,f){jo||bn.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),_;return this._initted||O_(this,p),_=this._ease(p/this._dur),b3(this,a,o,c,h,_,p,f)?this.resetTo(a,o,c,h,1):(zf(this,0),this.parent||Kb(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(a,o){if(o===void 0&&(o="all"),!a&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?fo(this):this.scrollTrigger&&this.scrollTrigger.kill(!!jt),this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(a,o,Ts&&Ts.vars.overwrite!==!0)._first||fo(this),this.parent&&c!==this.timeline.totalDuration()&&Va(this,this._dur*this.timeline._tDur/c,0,1),this}var h=this._targets,f=a?Hn(a):h,p=this._ptLookup,_=this._pt,g,v,E,T,S,w,A;if((!o||o==="all")&&JI(h,f))return o==="all"&&(this._pt=0),fo(this);for(g=this._op=this._op||[],o!=="all"&&(kt(o)&&(S={},an(o,function(D){return S[D]=1}),o=S),o=T3(h,o)),A=h.length;A--;)if(~f.indexOf(h[A])){v=p[A],o==="all"?(g[A]=o,T=v,E={}):(E=g[A]=g[A]||{},T=o);for(S in T)w=v&&v[S],w&&((!("kill"in w.d)||w.d.kill(S)===!0)&&Pf(this,w,"_pt"),delete v[S]),E!=="all"&&(E[S]=1)}return this._initted&&!this._pt&&_&&fo(this),this},e.to=function(a,o){return new e(a,o,arguments[2])},e.from=function(a,o){return bo(1,arguments)},e.delayedCall=function(a,o,c,h){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:o,onReverseComplete:o,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:h})},e.fromTo=function(a,o,c){return bo(2,arguments)},e.set=function(a,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(a,o)},e.killTweensOf=function(a,o,c){return it.killTweensOf(a,o,c)},e}(Bo);xn(St.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});an("staggerTo,staggerFrom,staggerFromTo",function(s){St[s]=function(){var e=new Qt,t=am.call(arguments,0);return t.splice(s==="staggerFromTo"?5:4,0,0),e[s].apply(e,t)}});var M_=function(e,t,i){return e[t]=i},yT=function(e,t,i){return e[t](i)},w3=function(e,t,i,a){return e[t](a.fp,i)},R3=function(e,t,i){return e.setAttribute(t,i)},D_=function(e,t){return ft(e[t])?yT:E_(e[t])&&e.setAttribute?R3:M_},ST=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},x3=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},ET=function(e,t){var i=t._pt,a="";if(!e&&t.b)a=t.b;else if(e===1&&t.e)a=t.e;else{for(;i;)a=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+a,i=i._next;a+=t.c}t.set(t.t,t.p,a,t)},I_=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},A3=function(e,t,i,a){for(var o=this._pt,c;o;)c=o._next,o.p===a&&o.modifier(e,t,i),o=c},N3=function(e){for(var t=this._pt,i,a;t;)a=t._next,t.p===e&&!t.op||t.op===e?Pf(this,t,"_pt"):t.dep||(i=1),t=a;return!i},O3=function(e,t,i,a){a.mSet(e,t,a.m.call(a.tween,i,a.mt),a)},bT=function(e){for(var t=e._pt,i,a,o,c;t;){for(i=t._next,a=o;a&&a.pr>t.pr;)a=a._next;(t._prev=a?a._prev:c)?t._prev._next=t:o=t,(t._next=a)?a._prev=t:c=t,t=i}e._pt=o},ln=function(){function s(t,i,a,o,c,h,f,p,_){this.t=i,this.s=o,this.c=c,this.p=a,this.r=h||ST,this.d=f||this,this.set=p||M_,this.pr=_||0,this._next=t,t&&(t._prev=this)}var e=s.prototype;return e.modifier=function(i,a,o){this.mSet=this.mSet||this.set,this.set=O3,this.m=i,this.mt=o,this.tween=a},s}();an(R_+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return w_[s]=1});Rn.TweenMax=Rn.TweenLite=St;Rn.TimelineLite=Rn.TimelineMax=Qt;it=new Qt({sortChildren:!1,defaults:Ba,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Cn.stringFilter=fT;var vr=[],Ic={},M3=[],nS=0,D3=0,wp=function(e){return(Ic[e]||M3).map(function(t){return t()})},cm=function(){var e=Date.now(),t=[];e-nS>2&&(wp("matchMediaInit"),vr.forEach(function(i){var a=i.queries,o=i.conditions,c,h,f,p;for(h in a)c=ai.matchMedia(a[h]).matches,c&&(f=1),c!==o[h]&&(o[h]=c,p=1);p&&(i.revert(),f&&t.push(i))}),wp("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(a){return i.add(null,a)})}),nS=e,wp("matchMedia"))},TT=function(){function s(t,i){this.selector=i&&lm(i),this.data=[],this._r=[],this.isReverted=!1,this.id=D3++,t&&this.add(t)}var e=s.prototype;return e.add=function(i,a,o){ft(i)&&(o=a,a=i,i=ft);var c=this,h=function(){var p=Je,_=c.selector,g;return p&&p!==c&&p.data.push(c),o&&(c.selector=lm(o)),Je=c,g=a.apply(c,arguments),ft(g)&&c._r.push(g),Je=p,c.selector=_,c.isReverted=!1,g};return c.last=h,i===ft?h(c,function(f){return c.add(null,f)}):i?c[i]=h:h},e.ignore=function(i){var a=Je;Je=null,i(this),Je=a},e.getTweens=function(){var i=[];return this.data.forEach(function(a){return a instanceof s?i.push.apply(i,a.getTweens()):a instanceof St&&!(a.parent&&a.parent.data==="nested")&&i.push(a)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,a){var o=this;if(i?function(){for(var h=o.getTweens(),f=o.data.length,p;f--;)p=o.data[f],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(_){return h.splice(h.indexOf(_),1)}));for(h.map(function(_){return{g:_._dur||_._delay||_._sat&&!_._sat.vars.immediateRender?_.globalTime(0):-1/0,t:_}}).sort(function(_,g){return g.g-_.g||-1/0}).forEach(function(_){return _.t.revert(i)}),f=o.data.length;f--;)p=o.data[f],p instanceof Qt?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof St)&&p.revert&&p.revert(i);o._r.forEach(function(_){return _(i,o)}),o.isReverted=!0}():this.data.forEach(function(h){return h.kill&&h.kill()}),this.clear(),a)for(var c=vr.length;c--;)vr[c].id===this.id&&vr.splice(c,1)},e.revert=function(i){this.kill(i||{})},s}(),I3=function(){function s(t){this.contexts=[],this.scope=t,Je&&Je.data.push(this)}var e=s.prototype;return e.add=function(i,a,o){hi(i)||(i={matches:i});var c=new TT(0,o||this.scope),h=c.conditions={},f,p,_;Je&&!c.selector&&(c.selector=Je.selector),this.contexts.push(c),a=c.add("onMatch",a),c.queries=i;for(p in i)p==="all"?_=1:(f=ai.matchMedia(i[p]),f&&(vr.indexOf(c)<0&&vr.push(c),(h[p]=f.matches)&&(_=1),f.addListener?f.addListener(cm):f.addEventListener("change",cm)));return _&&a(c,function(g){return c.add(null,g)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(a){return a.kill(i,!0)})},s}(),uf={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(a){return oT(a)})},timeline:function(e){return new Qt(e)},getTweensOf:function(e,t){return it.getTweensOf(e,t)},getProperty:function(e,t,i,a){kt(e)&&(e=Hn(e)[0]);var o=mr(e||{}).get,c=i?Wb:Xb;return i==="native"&&(i=""),e&&(t?c((En[t]&&En[t].get||o)(e,t,i,a)):function(h,f,p){return c((En[h]&&En[h].get||o)(e,h,f,p))})},quickSetter:function(e,t,i){if(e=Hn(e),e.length>1){var a=e.map(function(_){return un.quickSetter(_,t,i)}),o=a.length;return function(_){for(var g=o;g--;)a[g](_)}}e=e[0]||{};var c=En[t],h=mr(e),f=h.harness&&(h.harness.aliases||{})[t]||t,p=c?function(_){var g=new c;Ea._pt=0,g.init(e,i?_+i:_,Ea,0,[e]),g.render(1,g),Ea._pt&&I_(1,Ea)}:h.set(e,f);return c?p:function(_){return p(e,f,i?_+i:_,h,1)}},quickTo:function(e,t,i){var a,o=un.to(e,xn((a={},a[t]="+=0.1",a.paused=!0,a.stagger=0,a),i||{})),c=function(f,p,_){return o.resetTo(t,f,p,_)};return c.tween=o,c},isTweening:function(e){return it.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=gr(e.ease,Ba.ease)),$1(Ba,e||{})},config:function(e){return $1(Cn,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,a=e.plugins,o=e.defaults,c=e.extendTimeline;(a||"").split(",").forEach(function(h){return h&&!En[h]&&!Rn[h]&&Po(t+" effect requires "+h+" plugin.")}),Ep[t]=function(h,f,p){return i(Hn(h),xn(f||{},o),p)},c&&(Qt.prototype[t]=function(h,f,p){return this.add(Ep[t](h,hi(f)?f:(p=f)&&{},this),p)})},registerEase:function(e,t){Ne[e]=gr(t)},parseEase:function(e,t){return arguments.length?gr(e,t):Ne},getById:function(e){return it.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Qt(e),a,o;for(i.smoothChildTiming=rn(e.smoothChildTiming),it.remove(i),i._dp=0,i._time=i._tTime=it._time,a=it._first;a;)o=a._next,(t||!(!a._dur&&a instanceof St&&a.vars.onComplete===a._targets[0]))&&li(i,a,a._start-a._delay),a=o;return li(it,i,0),i},context:function(e,t){return e?new TT(e,t):Je},matchMedia:function(e){return new I3(e)},matchMediaRefresh:function(){return vr.forEach(function(e){var t=e.conditions,i,a;for(a in t)t[a]&&(t[a]=!1,i=1);i&&e.revert()})||cm()},addEventListener:function(e,t){var i=Ic[e]||(Ic[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Ic[e],a=i&&i.indexOf(t);a>=0&&i.splice(a,1)},utils:{wrap:f3,wrapYoyo:h3,distribute:nT,random:sT,snap:iT,normalize:c3,getUnit:Gt,clamp:a3,splitColor:uT,toArray:Hn,selector:lm,mapRange:aT,pipe:o3,unitize:u3,interpolate:d3,shuffle:tT},install:Vb,effects:Ep,ticker:bn,updateRoot:Qt.updateRoot,plugins:En,globalTimeline:it,core:{PropTween:ln,globals:Gb,Tween:St,Timeline:Qt,Animation:Bo,getCache:mr,_removeLinkedListItem:Pf,reverting:function(){return jt},context:function(e){return e&&Je&&(Je.data.push(e),e._ctx=Je),Je},suppressOverwrites:function(e){return S_=e}}};an("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return uf[s]=St[s]});bn.add(Qt.updateRoot);Ea=uf.to({},{duration:0});var k3=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},L3=function(e,t){var i=e._targets,a,o,c;for(a in t)for(o=i.length;o--;)c=e._ptLookup[o][a],c&&(c=c.d)&&(c._pt&&(c=k3(c,a)),c&&c.modifier&&c.modifier(t[a],e,i[o],a))},Rp=function(e,t){return{name:e,headless:1,rawVars:1,init:function(a,o,c){c._onInit=function(h){var f,p;if(kt(o)&&(f={},an(o,function(_){return f[_]=1}),o=f),t){f={};for(p in o)f[p]=t(o[p]);o=f}L3(h,o)}}}},un=uf.registerPlugin({name:"attr",init:function(e,t,i,a,o){var c,h,f;this.tween=i;for(c in t)f=e.getAttribute(c)||"",h=this.add(e,"setAttribute",(f||0)+"",t[c],a,o,0,0,c),h.op=c,h.b=f,this._props.push(c)},render:function(e,t){for(var i=t._pt;i;)jt?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Rp("roundProps",om),Rp("modifiers"),Rp("snap",iT))||uf;St.version=Qt.version=un.version="3.13.0";Fb=1;b_()&&Ga();Ne.Power0;Ne.Power1;Ne.Power2;Ne.Power3;Ne.Power4;Ne.Linear;Ne.Quad;Ne.Cubic;Ne.Quart;Ne.Quint;Ne.Strong;Ne.Elastic;Ne.Back;Ne.SteppedEase;Ne.Bounce;Ne.Sine;Ne.Expo;Ne.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var iS,Cs,Oa,k_,dr,sS,L_,P3=function(){return typeof window<"u"},qi={},ur=180/Math.PI,Ma=Math.PI/180,va=Math.atan2,rS=1e8,P_=/([A-Z])/g,U3=/(left|right|width|margin|padding|x)/i,z3=/[\s,\(]\S/,oi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},fm=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},j3=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},B3=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},H3=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},CT=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},wT=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},F3=function(e,t,i){return e.style[t]=i},V3=function(e,t,i){return e.style.setProperty(t,i)},G3=function(e,t,i){return e._gsap[t]=i},q3=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Y3=function(e,t,i,a,o){var c=e._gsap;c.scaleX=c.scaleY=i,c.renderTransform(o,c)},Q3=function(e,t,i,a,o){var c=e._gsap;c[t]=i,c.renderTransform(o,c)},st="transform",on=st+"Origin",X3=function s(e,t){var i=this,a=this.target,o=a.style,c=a._gsap;if(e in qi&&o){if(this.tfm=this.tfm||{},e!=="transform")e=oi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(h){return i.tfm[h]=Ii(a,h)}):this.tfm[e]=c.x?c[e]:Ii(a,e),e===on&&(this.tfm.zOrigin=c.zOrigin);else return oi.transform.split(",").forEach(function(h){return s.call(i,h,t)});if(this.props.indexOf(st)>=0)return;c.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(on,t,"")),e=st}(o||t)&&this.props.push(e,t,o[e])},RT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},W3=function(){var e=this.props,t=this.target,i=t.style,a=t._gsap,o,c;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?t[e[o]](e[o+2]):t[e[o]]=e[o+2]:e[o+2]?i[e[o]]=e[o+2]:i.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(P_,"-$1").toLowerCase());if(this.tfm){for(c in this.tfm)a[c]=this.tfm[c];a.svg&&(a.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),o=L_(),(!o||!o.isStart)&&!i[st]&&(RT(i),a.zOrigin&&i[on]&&(i[on]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},xT=function(e,t){var i={target:e,props:[],revert:W3,save:X3};return e._gsap||un.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(a){return i.save(a)}),i},AT,hm=function(e,t){var i=Cs.createElementNS?Cs.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Cs.createElement(e);return i&&i.style?i:Cs.createElement(e)},Fn=function s(e,t,i){var a=getComputedStyle(e);return a[t]||a.getPropertyValue(t.replace(P_,"-$1").toLowerCase())||a.getPropertyValue(t)||!i&&s(e,qa(t)||t,1)||""},aS="O,Moz,ms,Ms,Webkit".split(","),qa=function(e,t,i){var a=t||dr,o=a.style,c=5;if(e in o&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(aS[c]+e in o););return c<0?null:(c===3?"ms":c>=0?aS[c]:"")+e},dm=function(){P3()&&window.document&&(iS=window,Cs=iS.document,Oa=Cs.documentElement,dr=hm("div")||{style:{}},hm("div"),st=qa(st),on=st+"Origin",dr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",AT=!!qa("perspective"),L_=un.core.reverting,k_=1)},lS=function(e){var t=e.ownerSVGElement,i=hm("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),o;a.style.display="block",i.appendChild(a),Oa.appendChild(i);try{o=a.getBBox()}catch{}return i.removeChild(a),Oa.removeChild(i),o},oS=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},NT=function(e){var t,i;try{t=e.getBBox()}catch{t=lS(e),i=1}return t&&(t.width||t.height)||i||(t=lS(e)),t&&!t.width&&!t.x&&!t.y?{x:+oS(e,["x","cx","x1"])||0,y:+oS(e,["y","cy","y1"])||0,width:0,height:0}:t},OT=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&NT(e))},Rr=function(e,t){if(t){var i=e.style,a;t in qi&&t!==on&&(t=st),i.removeProperty?(a=t.substr(0,2),(a==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(a==="--"?t:t.replace(P_,"-$1").toLowerCase())):i.removeAttribute(t)}},ws=function(e,t,i,a,o,c){var h=new ln(e._pt,t,i,0,1,c?wT:CT);return e._pt=h,h.b=a,h.e=o,e._props.push(i),h},uS={deg:1,rad:1,turn:1},K3={grid:1,flex:1},Us=function s(e,t,i,a){var o=parseFloat(i)||0,c=(i+"").trim().substr((o+"").length)||"px",h=dr.style,f=U3.test(t),p=e.tagName.toLowerCase()==="svg",_=(p?"client":"offset")+(f?"Width":"Height"),g=100,v=a==="px",E=a==="%",T,S,w,A;if(a===c||!o||uS[a]||uS[c])return o;if(c!=="px"&&!v&&(o=s(e,t,i,"px")),A=e.getCTM&&OT(e),(E||c==="%")&&(qi[t]||~t.indexOf("adius")))return T=A?e.getBBox()[f?"width":"height"]:e[_],mt(E?o/T*g:o/100*T);if(h[f?"width":"height"]=g+(v?c:a),S=a!=="rem"&&~t.indexOf("adius")||a==="em"&&e.appendChild&&!p?e:e.parentNode,A&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===Cs||!S.appendChild)&&(S=Cs.body),w=S._gsap,w&&E&&w.width&&f&&w.time===bn.time&&!w.uncache)return mt(o/w.width*g);if(E&&(t==="height"||t==="width")){var D=e.style[t];e.style[t]=g+a,T=e[_],D?e.style[t]=D:Rr(e,t)}else(E||c==="%")&&!K3[Fn(S,"display")]&&(h.position=Fn(e,"position")),S===e&&(h.position="static"),S.appendChild(dr),T=dr[_],S.removeChild(dr),h.position="absolute";return f&&E&&(w=mr(S),w.time=bn.time,w.width=S[_]),mt(v?T*o/g:T&&o?g/T*o:0)},Ii=function(e,t,i,a){var o;return k_||dm(),t in oi&&t!=="transform"&&(t=oi[t],~t.indexOf(",")&&(t=t.split(",")[0])),qi[t]&&t!=="transform"?(o=Fo(e,a),o=t!=="transformOrigin"?o[t]:o.svg?o.origin:ff(Fn(e,on))+" "+o.zOrigin+"px"):(o=e.style[t],(!o||o==="auto"||a||~(o+"").indexOf("calc("))&&(o=cf[t]&&cf[t](e,t,i)||Fn(e,t)||Yb(e,t)||(t==="opacity"?1:0))),i&&!~(o+"").trim().indexOf(" ")?Us(e,t,o,i)+i:o},$3=function(e,t,i,a){if(!i||i==="none"){var o=qa(t,e,1),c=o&&Fn(e,o,1);c&&c!==i?(t=o,i=c):t==="borderColor"&&(i=Fn(e,"borderTopColor"))}var h=new ln(this._pt,e.style,t,0,1,ET),f=0,p=0,_,g,v,E,T,S,w,A,D,N,H,L;if(h.b=i,h.e=a,i+="",a+="",a.substring(0,6)==="var(--"&&(a=Fn(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(S=e.style[t],e.style[t]=a,a=Fn(e,t)||a,S?e.style[t]=S:Rr(e,t)),_=[i,a],fT(_),i=_[0],a=_[1],v=i.match(Sa)||[],L=a.match(Sa)||[],L.length){for(;g=Sa.exec(a);)w=g[0],D=a.substring(f,g.index),T?T=(T+1)%5:(D.substr(-5)==="rgba("||D.substr(-5)==="hsla(")&&(T=1),w!==(S=v[p++]||"")&&(E=parseFloat(S)||0,H=S.substr((E+"").length),w.charAt(1)==="="&&(w=Na(E,w)+H),A=parseFloat(w),N=w.substr((A+"").length),f=Sa.lastIndex-N.length,N||(N=N||Cn.units[t]||H,f===a.length&&(a+=N,h.e+=N)),H!==N&&(E=Us(e,t,S,N)||0),h._pt={_next:h._pt,p:D||p===1?D:",",s:E,c:A-E,m:T&&T<4||t==="zIndex"?Math.round:0});h.c=f<a.length?a.substring(f,a.length):""}else h.r=t==="display"&&a==="none"?wT:CT;return Bb.test(a)&&(h.e=0),this._pt=h,h},cS={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Z3=function(e){var t=e.split(" "),i=t[0],a=t[1]||"50%";return(i==="top"||i==="bottom"||a==="left"||a==="right")&&(e=i,i=a,a=e),t[0]=cS[i]||i,t[1]=cS[a]||a,t.join(" ")},J3=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,a=i.style,o=t.u,c=i._gsap,h,f,p;if(o==="all"||o===!0)a.cssText="",f=1;else for(o=o.split(","),p=o.length;--p>-1;)h=o[p],qi[h]&&(f=1,h=h==="transformOrigin"?on:st),Rr(i,h);f&&(Rr(i,st),c&&(c.svg&&i.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",Fo(i,1),c.uncache=1,RT(a)))}},cf={clearProps:function(e,t,i,a,o){if(o.data!=="isFromStart"){var c=e._pt=new ln(e._pt,t,i,0,0,J3);return c.u=a,c.pr=-10,c.tween=o,e._props.push(i),1}}},Ho=[1,0,0,1,0,0],MT={},DT=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},fS=function(e){var t=Fn(e,st);return DT(t)?Ho:t.substr(7).match(jb).map(mt)},U_=function(e,t){var i=e._gsap||mr(e),a=e.style,o=fS(e),c,h,f,p;return i.svg&&e.getAttribute("transform")?(f=e.transform.baseVal.consolidate().matrix,o=[f.a,f.b,f.c,f.d,f.e,f.f],o.join(",")==="1,0,0,1,0,0"?Ho:o):(o===Ho&&!e.offsetParent&&e!==Oa&&!i.svg&&(f=a.display,a.display="block",c=e.parentNode,(!c||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,h=e.nextElementSibling,Oa.appendChild(e)),o=fS(e),f?a.display=f:Rr(e,"display"),p&&(h?c.insertBefore(e,h):c?c.appendChild(e):Oa.removeChild(e))),t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},pm=function(e,t,i,a,o,c){var h=e._gsap,f=o||U_(e,!0),p=h.xOrigin||0,_=h.yOrigin||0,g=h.xOffset||0,v=h.yOffset||0,E=f[0],T=f[1],S=f[2],w=f[3],A=f[4],D=f[5],N=t.split(" "),H=parseFloat(N[0])||0,L=parseFloat(N[1])||0,W,Y,Q,V;i?f!==Ho&&(Y=E*w-T*S)&&(Q=H*(w/Y)+L*(-S/Y)+(S*D-w*A)/Y,V=H*(-T/Y)+L*(E/Y)-(E*D-T*A)/Y,H=Q,L=V):(W=NT(e),H=W.x+(~N[0].indexOf("%")?H/100*W.width:H),L=W.y+(~(N[1]||N[0]).indexOf("%")?L/100*W.height:L)),a||a!==!1&&h.smooth?(A=H-p,D=L-_,h.xOffset=g+(A*E+D*S)-A,h.yOffset=v+(A*T+D*w)-D):h.xOffset=h.yOffset=0,h.xOrigin=H,h.yOrigin=L,h.smooth=!!a,h.origin=t,h.originIsAbsolute=!!i,e.style[on]="0px 0px",c&&(ws(c,h,"xOrigin",p,H),ws(c,h,"yOrigin",_,L),ws(c,h,"xOffset",g,h.xOffset),ws(c,h,"yOffset",v,h.yOffset)),e.setAttribute("data-svg-origin",H+" "+L)},Fo=function(e,t){var i=e._gsap||new mT(e);if("x"in i&&!t&&!i.uncache)return i;var a=e.style,o=i.scaleX<0,c="px",h="deg",f=getComputedStyle(e),p=Fn(e,on)||"0",_,g,v,E,T,S,w,A,D,N,H,L,W,Y,Q,V,te,ie,oe,fe,ue,ae,U,G,J,he,x,k,$,Z,F,ne;return _=g=v=S=w=A=D=N=H=0,E=T=1,i.svg=!!(e.getCTM&&OT(e)),f.translate&&((f.translate!=="none"||f.scale!=="none"||f.rotate!=="none")&&(a[st]=(f.translate!=="none"?"translate3d("+(f.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(f.rotate!=="none"?"rotate("+f.rotate+") ":"")+(f.scale!=="none"?"scale("+f.scale.split(" ").join(",")+") ":"")+(f[st]!=="none"?f[st]:"")),a.scale=a.rotate=a.translate="none"),Y=U_(e,i.svg),i.svg&&(i.uncache?(J=e.getBBox(),p=i.xOrigin-J.x+"px "+(i.yOrigin-J.y)+"px",G=""):G=!t&&e.getAttribute("data-svg-origin"),pm(e,G||p,!!G||i.originIsAbsolute,i.smooth!==!1,Y)),L=i.xOrigin||0,W=i.yOrigin||0,Y!==Ho&&(ie=Y[0],oe=Y[1],fe=Y[2],ue=Y[3],_=ae=Y[4],g=U=Y[5],Y.length===6?(E=Math.sqrt(ie*ie+oe*oe),T=Math.sqrt(ue*ue+fe*fe),S=ie||oe?va(oe,ie)*ur:0,D=fe||ue?va(fe,ue)*ur+S:0,D&&(T*=Math.abs(Math.cos(D*Ma))),i.svg&&(_-=L-(L*ie+W*fe),g-=W-(L*oe+W*ue))):(ne=Y[6],Z=Y[7],x=Y[8],k=Y[9],$=Y[10],F=Y[11],_=Y[12],g=Y[13],v=Y[14],Q=va(ne,$),w=Q*ur,Q&&(V=Math.cos(-Q),te=Math.sin(-Q),G=ae*V+x*te,J=U*V+k*te,he=ne*V+$*te,x=ae*-te+x*V,k=U*-te+k*V,$=ne*-te+$*V,F=Z*-te+F*V,ae=G,U=J,ne=he),Q=va(-fe,$),A=Q*ur,Q&&(V=Math.cos(-Q),te=Math.sin(-Q),G=ie*V-x*te,J=oe*V-k*te,he=fe*V-$*te,F=ue*te+F*V,ie=G,oe=J,fe=he),Q=va(oe,ie),S=Q*ur,Q&&(V=Math.cos(Q),te=Math.sin(Q),G=ie*V+oe*te,J=ae*V+U*te,oe=oe*V-ie*te,U=U*V-ae*te,ie=G,ae=J),w&&Math.abs(w)+Math.abs(S)>359.9&&(w=S=0,A=180-A),E=mt(Math.sqrt(ie*ie+oe*oe+fe*fe)),T=mt(Math.sqrt(U*U+ne*ne)),Q=va(ae,U),D=Math.abs(Q)>2e-4?Q*ur:0,H=F?1/(F<0?-F:F):0),i.svg&&(G=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!DT(Fn(e,st)),G&&e.setAttribute("transform",G))),Math.abs(D)>90&&Math.abs(D)<270&&(o?(E*=-1,D+=S<=0?180:-180,S+=S<=0?180:-180):(T*=-1,D+=D<=0?180:-180)),t=t||i.uncache,i.x=_-((i.xPercent=_&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-_)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+c,i.y=g-((i.yPercent=g&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+c,i.z=v+c,i.scaleX=mt(E),i.scaleY=mt(T),i.rotation=mt(S)+h,i.rotationX=mt(w)+h,i.rotationY=mt(A)+h,i.skewX=D+h,i.skewY=N+h,i.transformPerspective=H+c,(i.zOrigin=parseFloat(p.split(" ")[2])||!t&&i.zOrigin||0)&&(a[on]=ff(p)),i.xOffset=i.yOffset=0,i.force3D=Cn.force3D,i.renderTransform=i.svg?tk:AT?IT:ek,i.uncache=0,i},ff=function(e){return(e=e.split(" "))[0]+" "+e[1]},xp=function(e,t,i){var a=Gt(t);return mt(parseFloat(t)+parseFloat(Us(e,"x",i+"px",a)))+a},ek=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,IT(e,t)},rr="0deg",co="0px",ar=") ",IT=function(e,t){var i=t||this,a=i.xPercent,o=i.yPercent,c=i.x,h=i.y,f=i.z,p=i.rotation,_=i.rotationY,g=i.rotationX,v=i.skewX,E=i.skewY,T=i.scaleX,S=i.scaleY,w=i.transformPerspective,A=i.force3D,D=i.target,N=i.zOrigin,H="",L=A==="auto"&&e&&e!==1||A===!0;if(N&&(g!==rr||_!==rr)){var W=parseFloat(_)*Ma,Y=Math.sin(W),Q=Math.cos(W),V;W=parseFloat(g)*Ma,V=Math.cos(W),c=xp(D,c,Y*V*-N),h=xp(D,h,-Math.sin(W)*-N),f=xp(D,f,Q*V*-N+N)}w!==co&&(H+="perspective("+w+ar),(a||o)&&(H+="translate("+a+"%, "+o+"%) "),(L||c!==co||h!==co||f!==co)&&(H+=f!==co||L?"translate3d("+c+", "+h+", "+f+") ":"translate("+c+", "+h+ar),p!==rr&&(H+="rotate("+p+ar),_!==rr&&(H+="rotateY("+_+ar),g!==rr&&(H+="rotateX("+g+ar),(v!==rr||E!==rr)&&(H+="skew("+v+", "+E+ar),(T!==1||S!==1)&&(H+="scale("+T+", "+S+ar),D.style[st]=H||"translate(0, 0)"},tk=function(e,t){var i=t||this,a=i.xPercent,o=i.yPercent,c=i.x,h=i.y,f=i.rotation,p=i.skewX,_=i.skewY,g=i.scaleX,v=i.scaleY,E=i.target,T=i.xOrigin,S=i.yOrigin,w=i.xOffset,A=i.yOffset,D=i.forceCSS,N=parseFloat(c),H=parseFloat(h),L,W,Y,Q,V;f=parseFloat(f),p=parseFloat(p),_=parseFloat(_),_&&(_=parseFloat(_),p+=_,f+=_),f||p?(f*=Ma,p*=Ma,L=Math.cos(f)*g,W=Math.sin(f)*g,Y=Math.sin(f-p)*-v,Q=Math.cos(f-p)*v,p&&(_*=Ma,V=Math.tan(p-_),V=Math.sqrt(1+V*V),Y*=V,Q*=V,_&&(V=Math.tan(_),V=Math.sqrt(1+V*V),L*=V,W*=V)),L=mt(L),W=mt(W),Y=mt(Y),Q=mt(Q)):(L=g,Q=v,W=Y=0),(N&&!~(c+"").indexOf("px")||H&&!~(h+"").indexOf("px"))&&(N=Us(E,"x",c,"px"),H=Us(E,"y",h,"px")),(T||S||w||A)&&(N=mt(N+T-(T*L+S*Y)+w),H=mt(H+S-(T*W+S*Q)+A)),(a||o)&&(V=E.getBBox(),N=mt(N+a/100*V.width),H=mt(H+o/100*V.height)),V="matrix("+L+","+W+","+Y+","+Q+","+N+","+H+")",E.setAttribute("transform",V),D&&(E.style[st]=V)},nk=function(e,t,i,a,o){var c=360,h=kt(o),f=parseFloat(o)*(h&&~o.indexOf("rad")?ur:1),p=f-a,_=a+p+"deg",g,v;return h&&(g=o.split("_")[1],g==="short"&&(p%=c,p!==p%(c/2)&&(p+=p<0?c:-c)),g==="cw"&&p<0?p=(p+c*rS)%c-~~(p/c)*c:g==="ccw"&&p>0&&(p=(p-c*rS)%c-~~(p/c)*c)),e._pt=v=new ln(e._pt,t,i,a,p,j3),v.e=_,v.u="deg",e._props.push(i),v},hS=function(e,t){for(var i in t)e[i]=t[i];return e},ik=function(e,t,i){var a=hS({},i._gsap),o="perspective,force3D,transformOrigin,svgOrigin",c=i.style,h,f,p,_,g,v,E,T;a.svg?(p=i.getAttribute("transform"),i.setAttribute("transform",""),c[st]=t,h=Fo(i,1),Rr(i,st),i.setAttribute("transform",p)):(p=getComputedStyle(i)[st],c[st]=t,h=Fo(i,1),c[st]=p);for(f in qi)p=a[f],_=h[f],p!==_&&o.indexOf(f)<0&&(E=Gt(p),T=Gt(_),g=E!==T?Us(i,f,p,T):parseFloat(p),v=parseFloat(_),e._pt=new ln(e._pt,h,f,g,v-g,fm),e._pt.u=T||0,e._props.push(f));hS(h,a)};an("padding,margin,Width,Radius",function(s,e){var t="Top",i="Right",a="Bottom",o="Left",c=(e<3?[t,i,a,o]:[t+o,t+i,a+i,a+o]).map(function(h){return e<2?s+h:"border"+h+s});cf[e>1?"border"+s:s]=function(h,f,p,_,g){var v,E;if(arguments.length<4)return v=c.map(function(T){return Ii(h,T,p)}),E=v.join(" "),E.split(v[0]).length===5?v[0]:E;v=(_+"").split(" "),E={},c.forEach(function(T,S){return E[T]=v[S]=v[S]||v[(S-1)/2|0]}),h.init(f,E,g)}});var kT={name:"css",register:dm,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,a,o){var c=this._props,h=e.style,f=i.vars.startAt,p,_,g,v,E,T,S,w,A,D,N,H,L,W,Y,Q;k_||dm(),this.styles=this.styles||xT(e),Q=this.styles.props,this.tween=i;for(S in t)if(S!=="autoRound"&&(_=t[S],!(En[S]&&_T(S,t,i,a,e,o)))){if(E=typeof _,T=cf[S],E==="function"&&(_=_.call(i,a,e,o),E=typeof _),E==="string"&&~_.indexOf("random(")&&(_=zo(_)),T)T(this,e,S,_,i)&&(Y=1);else if(S.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(S)+"").trim(),_+="",Ds.lastIndex=0,Ds.test(p)||(w=Gt(p),A=Gt(_)),A?w!==A&&(p=Us(e,S,p,A)+A):w&&(_+=w),this.add(h,"setProperty",p,_,a,o,0,0,S),c.push(S),Q.push(S,0,h[S]);else if(E!=="undefined"){if(f&&S in f?(p=typeof f[S]=="function"?f[S].call(i,a,e,o):f[S],kt(p)&&~p.indexOf("random(")&&(p=zo(p)),Gt(p+"")||p==="auto"||(p+=Cn.units[S]||Gt(Ii(e,S))||""),(p+"").charAt(1)==="="&&(p=Ii(e,S))):p=Ii(e,S),v=parseFloat(p),D=E==="string"&&_.charAt(1)==="="&&_.substr(0,2),D&&(_=_.substr(2)),g=parseFloat(_),S in oi&&(S==="autoAlpha"&&(v===1&&Ii(e,"visibility")==="hidden"&&g&&(v=0),Q.push("visibility",0,h.visibility),ws(this,h,"visibility",v?"inherit":"hidden",g?"inherit":"hidden",!g)),S!=="scale"&&S!=="transform"&&(S=oi[S],~S.indexOf(",")&&(S=S.split(",")[0]))),N=S in qi,N){if(this.styles.save(S),E==="string"&&_.substring(0,6)==="var(--"&&(_=Fn(e,_.substring(4,_.indexOf(")"))),g=parseFloat(_)),H||(L=e._gsap,L.renderTransform&&!t.parseTransform||Fo(e,t.parseTransform),W=t.smoothOrigin!==!1&&L.smooth,H=this._pt=new ln(this._pt,h,st,0,1,L.renderTransform,L,0,-1),H.dep=1),S==="scale")this._pt=new ln(this._pt,L,"scaleY",L.scaleY,(D?Na(L.scaleY,D+g):g)-L.scaleY||0,fm),this._pt.u=0,c.push("scaleY",S),S+="X";else if(S==="transformOrigin"){Q.push(on,0,h[on]),_=Z3(_),L.svg?pm(e,_,0,W,0,this):(A=parseFloat(_.split(" ")[2])||0,A!==L.zOrigin&&ws(this,L,"zOrigin",L.zOrigin,A),ws(this,h,S,ff(p),ff(_)));continue}else if(S==="svgOrigin"){pm(e,_,1,W,0,this);continue}else if(S in MT){nk(this,L,S,v,D?Na(v,D+_):_);continue}else if(S==="smoothOrigin"){ws(this,L,"smooth",L.smooth,_);continue}else if(S==="force3D"){L[S]=_;continue}else if(S==="transform"){ik(this,_,e);continue}}else S in h||(S=qa(S)||S);if(N||(g||g===0)&&(v||v===0)&&!z3.test(_)&&S in h)w=(p+"").substr((v+"").length),g||(g=0),A=Gt(_)||(S in Cn.units?Cn.units[S]:w),w!==A&&(v=Us(e,S,p,A)),this._pt=new ln(this._pt,N?L:h,S,v,(D?Na(v,D+g):g)-v,!N&&(A==="px"||S==="zIndex")&&t.autoRound!==!1?H3:fm),this._pt.u=A||0,w!==A&&A!=="%"&&(this._pt.b=p,this._pt.r=B3);else if(S in h)$3.call(this,e,S,p,D?D+_:_);else if(S in e)this.add(e,S,p||e[S],D?D+_:_,a,o);else if(S!=="parseTransform"){C_(S,_);continue}N||(S in h?Q.push(S,0,h[S]):typeof e[S]=="function"?Q.push(S,2,e[S]()):Q.push(S,1,p||e[S])),c.push(S)}}Y&&bT(this)},render:function(e,t){if(t.tween._time||!L_())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ii,aliases:oi,getSetter:function(e,t,i){var a=oi[t];return a&&a.indexOf(",")<0&&(t=a),t in qi&&t!==on&&(e._gsap.x||Ii(e,"x"))?i&&sS===i?t==="scale"?q3:G3:(sS=i||{})&&(t==="scale"?Y3:Q3):e.style&&!E_(e.style[t])?F3:~t.indexOf("-")?V3:D_(e,t)},core:{_removeProperty:Rr,_getMatrix:U_}};un.utils.checkPrefix=qa;un.core.getStyleSaver=xT;(function(s,e,t,i){var a=an(s+","+e+","+t,function(o){qi[o]=1});an(e,function(o){Cn.units[o]="deg",MT[o]=1}),oi[a[13]]=s+","+e,an(i,function(o){var c=o.split(":");oi[c[1]]=a[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");an("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){Cn.units[s]="px"});un.registerPlugin(kT);var nt=un.registerPlugin(kT)||un;nt.core.Tween;const sk=({targetSelector:s=".cursor-target",spinDuration:e=3.14,hideDefaultCursor:t=!0})=>{const i=M.useRef(null),a=M.useRef(null),o=M.useRef(null),c=M.useRef(null),h=M.useMemo(()=>({borderWidth:3,cornerSize:12,parallaxStrength:5e-5}),[]),f=M.useCallback((p,_)=>{i.current&&nt.to(i.current,{x:p,y:_,duration:.1,ease:"power3.out"})},[]);return M.useEffect(()=>{if(!i.current)return;const p=document.body.style.cursor;t&&(document.body.style.cursor="none");const _=i.current;a.current=_.querySelectorAll(".target-cursor-corner");let g=null,v=null,E=null,T=!1,S=null;const w=Y=>{v&&Y.removeEventListener("mousemove",v),E&&Y.removeEventListener("mouseleave",E),v=null,E=null};nt.set(_,{xPercent:-50,yPercent:-50,x:window.innerWidth/2,y:window.innerHeight/2}),(()=>{o.current&&o.current.kill(),o.current=nt.timeline({repeat:-1}).to(_,{rotation:"+=360",duration:e,ease:"none"})})();const D=Y=>f(Y.clientX,Y.clientY);window.addEventListener("mousemove",D);const N=()=>{if(!g||!i.current)return;const Y=nt.getProperty(i.current,"x"),Q=nt.getProperty(i.current,"y"),V=document.elementFromPoint(Y,Q);V&&(V===g||V.closest(s)===g)||E&&E()};window.addEventListener("scroll",N,{passive:!0}),window.addEventListener("mousemove",D);const H=()=>{c.current&&(nt.to(c.current,{scale:.7,duration:.3}),nt.to(i.current,{scale:.9,duration:.2}))},L=()=>{if(a.current){const Y=Array.from(a.current);nt.killTweensOf(Y);const{cornerSize:Q}=h,V=[{x:-Q*1.5,y:-Q*1.5},{x:Q*.5,y:-Q*1.5},{x:Q*.5,y:Q*.5},{x:-Q*1.5,y:Q*.5}];Y.forEach((te,ie)=>{nt.to(te,{x:V[ie].x,y:V[ie].y,duration:.3,ease:"power3.out",clearProps:"x,y"},0)})}nt.to(i.current,{scale:1,duration:.2}),nt.to(c.current,{scale:1,duration:.3}),c.current&&(nt.to(c.current,{scale:1,duration:.3}),nt.to(i.current,{scale:1,duration:.2}))};window.addEventListener("mousedown",H),window.addEventListener("mouseup",L);const W=Y=>{const Q=Y.target,V=[];let te=Q;for(;te&&te!==document.body;)te.matches(s)&&V.push(te),te=te.parentElement;const ie=V[0]||null;if(!ie||!i.current||!a.current||g===ie)return;g&&w(g),S&&(clearTimeout(S),S=null),g=ie,nt.killTweensOf(i.current,"rotation"),o.current?.pause(),nt.set(i.current,{rotation:0});const oe=(U,G)=>{const J=ie.getBoundingClientRect(),he=i.current.getBoundingClientRect(),x=he.left+he.width/2,k=he.top+he.height/2,[$,Z,F,ne]=Array.from(a.current),{borderWidth:se,cornerSize:xe,parallaxStrength:Ae}=h;let _t={x:J.left-x-se,y:J.top-k-se},me={x:J.right-x+se-xe,y:J.top-k-se},Oe={x:J.right-x+se-xe,y:J.bottom-k+se-xe},Pe={x:J.left-x-se,y:J.bottom-k+se-xe};if(U!==void 0&&G!==void 0){const fn=J.left+J.width/2,gt=J.top+J.height/2,Tt=(U-fn)*Ae,ht=(G-gt)*Ae;_t.x+=Tt,_t.y+=ht,me.x+=Tt,me.y+=ht,Oe.x+=Tt,Oe.y+=ht,Pe.x+=Tt,Pe.y+=ht}const at=nt.timeline(),An=[$,Z,F,ne],cn=[_t,me,Oe,Pe];An.forEach((fn,gt)=>{at.to(fn,{x:cn[gt].x,y:cn[gt].y,duration:.2,ease:"power2.out"},0)})};T=!0,oe(),setTimeout(()=>{T=!1},1);let fe=null;const ue=U=>{fe||T||(fe=requestAnimationFrame(()=>{const G=U;oe(G.clientX,G.clientY),fe=null}))},ae=()=>{if(g=null,T=!1,a.current){const U=Array.from(a.current);nt.killTweensOf(U);const{cornerSize:G}=h,J=[{x:-G*1.5,y:-G*1.5},{x:G*.5,y:-G*1.5},{x:G*.5,y:G*.5},{x:-G*1.5,y:G*.5}];U.forEach((he,x)=>{nt.to(he,{x:J[x].x,y:J[x].y,duration:.3,ease:"power3.out",clearProps:"x,y"},0)})}S=setTimeout(()=>{if(!g&&i.current&&o.current){const G=nt.getProperty(i.current,"rotation")%360;o.current.kill(),o.current=nt.timeline({repeat:-1}).to(i.current,{rotation:"+=360",duration:e,ease:"none"}),nt.to(i.current,{rotation:G+360,duration:e*(1-G/360),ease:"none",onComplete:()=>{o.current?.restart()}})}S=null},50),w(ie)};v=ue,E=ae,ie.addEventListener("mousemove",ue),ie.addEventListener("mouseleave",ae)};return window.addEventListener("mouseover",W,{passive:!0}),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseover",W),window.removeEventListener("scroll",N),g&&w(g),console.log("Cleaning up TargetCursor"),o.current?.kill(),document.body.style.cursor=p}},[s,e,f,h,t]),M.useEffect(()=>{!i.current||!o.current||o.current.isActive()&&(o.current.kill(),o.current=nt.timeline({repeat:-1}).to(i.current,{rotation:"+=360",duration:e,ease:"none"}))},[e]),C.jsxs("div",{ref:i,className:"target-cursor-wrapper",children:[C.jsx("div",{ref:c,className:"target-cursor-dot"}),C.jsx("div",{className:"target-cursor-corner corner-tl"}),C.jsx("div",{className:"target-cursor-corner corner-tr"}),C.jsx("div",{className:"target-cursor-corner corner-br"}),C.jsx("div",{className:"target-cursor-corner corner-bl"})]})};function Ap(s,e,t){e/=100,t/=100;let i=(1-Math.abs(2*t-1))*e,a=i*(1-Math.abs(s/60%2-1)),o=t-i/2,c=0,h=0,f=0;return 0<=s&&s<60?[c,h,f]=[i,a,0]:60<=s&&s<120?[c,h,f]=[a,i,0]:120<=s&&s<180?[c,h,f]=[0,i,a]:180<=s&&s<240?[c,h,f]=[0,a,i]:240<=s&&s<300?[c,h,f]=[a,0,i]:300<=s&&s<360&&([c,h,f]=[i,0,a]),c=Math.round((c+o)*255),h=Math.round((h+o)*255),f=Math.round((f+o)*255),"#"+[c,h,f].map(p=>p.toString(16).padStart(2,"0")).join("")}function De({text:s="Button Text",fontSize:e="1vw",angle:t=270,step:i=10,gradient:a,onClick:o}){let c=a;if(!c){const f=t%360,p=(t+i)%360,_=(t+i*2)%360;c=[Ap(f,100,50),Ap(p,100,20),Ap(_,100,50)]}const h=`linear-gradient(135deg, ${c.join(", ")})`;return C.jsx("button",{className:"cursor-target",style:{"--font-size":e,"--button-gradient":h},onClick:o,children:s})}const jf=({direction:s="right",speed:e=1,borderColor:t="#999",squareSize:i=40,hoverFillColor:a="#222",className:o=""})=>{const c=M.useRef(null),h=M.useRef(null),f=M.useRef(),p=M.useRef(),_=M.useRef({x:0,y:0}),g=M.useRef(null);return M.useEffect(()=>{const v=c.current,E=v.getContext("2d"),T=()=>{v.width=v.offsetWidth,v.height=v.offsetHeight,f.current=Math.ceil(v.width/i)+1,p.current=Math.ceil(v.height/i)+1};window.addEventListener("resize",T),T();const S=()=>{E.clearRect(0,0,v.width,v.height);const N=Math.floor(_.current.x/i)*i,H=Math.floor(_.current.y/i)*i;for(let W=N;W<v.width+i;W+=i)for(let Y=H;Y<v.height+i;Y+=i){const Q=W-_.current.x%i,V=Y-_.current.y%i;g.current&&Math.floor((W-N)/i)===g.current.x&&Math.floor((Y-H)/i)===g.current.y&&(E.fillStyle=a,E.fillRect(Q,V,i,i)),E.strokeStyle=t,E.strokeRect(Q,V,i,i)}const L=E.createRadialGradient(v.width/2,v.height/2,0,v.width/2,v.height/2,Math.sqrt(v.width**2+v.height**2)/2);L.addColorStop(0,"rgba(0, 0, 0, 0)"),E.fillStyle=L,E.fillRect(0,0,v.width,v.height)},w=()=>{const N=Math.max(e,.1);switch(s){case"right":_.current.x=(_.current.x-N+i)%i;break;case"left":_.current.x=(_.current.x+N+i)%i;break;case"up":_.current.y=(_.current.y+N+i)%i;break;case"down":_.current.y=(_.current.y-N+i)%i;break;case"diagonal":_.current.x=(_.current.x-N+i)%i,_.current.y=(_.current.y-N+i)%i;break}S(),h.current=requestAnimationFrame(w)},A=N=>{const H=v.getBoundingClientRect(),L=N.clientX-H.left,W=N.clientY-H.top,Y=Math.floor(_.current.x/i)*i,Q=Math.floor(_.current.y/i)*i,V=Math.floor((L+_.current.x-Y)/i),te=Math.floor((W+_.current.y-Q)/i);(!g.current||g.current.x!==V||g.current.y!==te)&&(g.current={x:V,y:te})},D=()=>{g.current=null};return v.addEventListener("mousemove",A),v.addEventListener("mouseleave",D),h.current=requestAnimationFrame(w),()=>{window.removeEventListener("resize",T),cancelAnimationFrame(h.current),v.removeEventListener("mousemove",A),v.removeEventListener("mouseleave",D)}},[s,e,t,a,i]),C.jsx("canvas",{ref:c,className:`squares-canvas ${o}`})};function rk(){const s=Wa(),{user:e,logout:t}=Lf(),i=()=>{t(),s("/court-setup")};return C.jsxs("div",{className:"home",children:[C.jsx(jf,{speed:.5,squareSize:100,direction:"diagonal",borderColor:"hsla(270, 50%, 50%, 0.25)",hoverFillColor:"hsla(60, 50%, 50%, 0.25)"}),C.jsxs("div",{className:"session-info-form",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Event ID"}),C.jsx("div",{className:"form-value",children:e?.eventId||"N/A"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Court ID"}),C.jsx("div",{className:"form-value",children:e?.courtId||"N/A"})]}),C.jsx(De,{text:"Logout",onClick:i,fontSize:"1.5dvw",angle:0})]}),C.jsxs("div",{className:"menu",children:[C.jsx(De,{text:"Screen",fontSize:"3dvw",angle:0,onClick:()=>s("/screen")}),C.jsx(De,{text:"Controller",fontSize:"3dvw",angle:60,onClick:()=>s("/controller")}),C.jsx(De,{text:"Data Import",fontSize:"3dvw",angle:180,onClick:()=>s("/import")}),C.jsx(De,{text:"Referee Register",fontSize:"3dvw",angle:300,onClick:()=>s("/referee/register")})]})]})}function ak(){const[s,e]=M.useState(""),[t,i]=M.useState(""),[a,o]=M.useState([]),[c,h]=M.useState(""),[f,p]=M.useState(""),[_,g]=M.useState([]),v=Wa(),{login:E}=Lf();M.useEffect(()=>{const S=$e(Ze,"events");ci(S).then(w=>{if(w.exists()){const A=Object.keys(w.val());o(A);const D=localStorage.getItem("selectedEvent");D&&A.includes(D)?h(D):h("")}})},[]),M.useEffect(()=>{if(c){const S=$e(Ze,`events/${c}/courts`);ci(S).then(w=>{if(w.exists()){g(Object.keys(w.val()));const A=localStorage.getItem("selectedCourt");A&&Object.keys(w.val()).includes(A)?p(A):p("")}else g([]),p("")})}else g([]),p("")},[c]);const T=async S=>{if(S.preventDefault(),i(""),!c){i("Please select an event.");return}if(!f){i("Please select a court.");return}const w=$e(Ze,`events/${c}/settings/setupPassword`);try{const A=await ci(w);if(A.exists()){const D=A.val();if(s===D){const N=$e(Ze,`events/${c}/courts/${f}`);await Aa(N,{name:f,currentMatchId:""}),localStorage.setItem("selectedEvent",c),localStorage.setItem("selectedCourt",f),E({courtId:f,eventId:c,role:"admin"}),v("/")}else i("Incorrect password, please try again.")}else i("Setup Password has not been configured for this event. Please contact an administrator."),console.error(`Setup password not found at 'events/${c}/settings/setupPassword'`)}catch(A){i("An error occurred while connecting to the database."),console.error("Error during setup:",A)}};return C.jsxs("div",{className:"cs-container",children:[C.jsx(jf,{speed:.5,squareSize:"10dvw",direction:"diagonal",borderColor:"hsla(270, 50%, 50%, 0.25)",hoverFillColor:"hsla(60, 50%, 50%, 0.25)"}),C.jsxs("div",{className:"cs-content",children:[C.jsx("h1",{children:"Court Setup"}),C.jsxs("form",{onSubmit:T,className:"cs-form",children:[C.jsx("p",{children:"Select the event, court, and enter the Setup Password to connect this device."}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"event-select",children:"Select Event"}),C.jsxs("select",{id:"event-select",className:"datalist-input",value:c,onChange:S=>h(S.target.value),required:!0,children:[C.jsx("option",{value:"",disabled:!0,children:"-- Please select an event --"}),a.map(S=>C.jsx("option",{value:S,children:S},S))]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"court-select",children:"Select Court"}),C.jsxs("select",{id:"court-select",className:"datalist-input",value:f,onChange:S=>p(S.target.value),disabled:!c||_.length===0,required:!0,children:[C.jsx("option",{value:"",disabled:!0,children:"-- Please select a court --"}),_.map(S=>C.jsx("option",{value:S,children:S},S))]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"setup-password",children:"Setup Password"}),C.jsx("input",{id:"setup-password",type:"password",value:s,onChange:S=>e(S.target.value),placeholder:"Enter setup password",required:!0,disabled:!c||!f})]}),t&&C.jsx("p",{className:"cs-error-message",children:t}),C.jsxs("div",{className:"cs-action-buttons",children:[C.jsx(De,{type:"submit",text:"Confirm Settings",fontSize:"1.5dvw",angle:30,disabled:!c||!f}),C.jsx(De,{text:"Back to Home",fontSize:"1.5dvw",angle:150,onClick:()=>v("/")})]})]})]})]})}function lk(){const s=M.useRef(null);M.useEffect(()=>{s.current=new window.AirConsole,s.current.onMessage=function(t,i){const a=document.createElement("DIV");a.innerHTML=i,document.body.appendChild(a)}},[]);const e=()=>{s.current&&s.current.message(window.AirConsole.SCREEN,"How are you?")};return C.jsxs("div",{className:"controller",onClick:()=>document.documentElement.requestFullscreen(),children:[C.jsxs("div",{className:"col",children:[C.jsx(De,{text:"Red 5",angle:350,fontSize:"4vw"}),C.jsx(De,{text:"Red 4",angle:350,fontSize:"4vw"}),C.jsx(De,{text:"Red 1",angle:350,fontSize:"4vw"})]}),C.jsxs("div",{className:"col",children:[C.jsx(De,{text:"Red 3",angle:350,fontSize:"4vw"}),C.jsx(De,{text:"Red 2",angle:350,fontSize:"4vw"})]}),C.jsx("div",{className:"col",children:C.jsx(De,{text:"Send Message",onClick:e,fontSize:"2dvw"})}),C.jsxs("div",{className:"col",children:[C.jsx(De,{text:"Blue 3",angle:210,fontSize:"4vw"}),C.jsx(De,{text:"Blue 2",angle:210,fontSize:"4vw"})]}),C.jsxs("div",{className:"col",children:[C.jsx(De,{text:"Blue 5",angle:210,fontSize:"4vw"}),C.jsx(De,{text:"Blue 4",angle:210,fontSize:"4vw"}),C.jsx(De,{text:"Blue 1",angle:210,fontSize:"4vw"})]})]})}const hf=(s,e)=>{const t=s?.pointsStat||[0,0,0,0,0];return t[0]*1+t[1]*2+t[2]*3+t[3]*4+t[4]*5+(e||0)},ok=(s,e,t,i,a,o)=>{const c=$e(Ze,`events/${s}/matches/${e}`);Lo(c,h=>{if(!h||h.state.phase==="REST")return;h.stats||(h.stats={red:{pointsStat:[0,0,0,0,0],gamjeom:0},blue:{pointsStat:[0,0,0,0,0],gamjeom:0}}),h.state||(h.state={isFinished:!1,isPaused:!0,timer:0,winReason:null,lastStartTime:null,dominantSide:"none"});const f=h.stats[t];if(i==="gamjeom")f.gamjeom=(f.gamjeom||0)+o,f.gamjeom<0&&(f.gamjeom=0);else if(i==="pointsStat"){if(!f.pointsStat||f.pointsStat.length<5){const D=f.pointsStat||[];f.pointsStat=[D[0]||0,D[1]||0,D[2]||0,D[3]||0,D[4]||0]}f.pointsStat[a]=(f.pointsStat[a]||0)+o,f.pointsStat[a]<0&&(f.pointsStat[a]=0)}const p=h.stats.red.gamjeom,_=h.stats.blue.gamjeom,g=hf(h.stats.red,_),v=hf(h.stats.blue,p),E=()=>{if(!h.state.isPaused&&h.state.lastStartTime){const D=Date.now(),N=Math.floor((D-h.state.lastStartTime)/1e3);h.state.timer=(h.state.timer||0)-N,h.state.timer<0&&(h.state.timer=0)}h.state.isPaused=!0,h.state.lastStartTime=null},T=h.config?.rules?.maxPointGap||12,S=h.config?.rules?.maxGamjeom||5,w=p>=S||_>=S,A=Math.abs(g-v)>=T;return h.state.dominantSide="none",w?(E(),h.state.winReason="PUN",p>=S&&(h.state.dominantSide="blue"),_>=S&&(h.state.dominantSide="red")):A?(E(),h.state.winReason="PTG",g>v&&(h.state.dominantSide="red"),v>g&&(h.state.dominantSide="blue")):(h.state.winReason==="PTG"||h.state.winReason==="PUN")&&(h.state.winReason=null),h}).catch(h=>console.error("Transaction failed:",h))},uk=(s,e,t)=>{const i=$e(Ze,`events/${s}/matches/${e}`);Lo(i,a=>{if(!a)return;a.state||(a.state={}),a.stats||(a.stats={}),a.stats.roundWins||(a.stats.roundWins={red:0,blue:0}),a.stats.roundScores||(a.stats.roundScores={});const o=a.state.currentRound||1;a.stats.roundScores[`R${o}`]={red:hf(a.stats.red,a.stats.blue.gamjeom),blue:hf(a.stats.blue,a.stats.red.gamjeom)},t==="red"?a.stats.roundWins.red=(a.stats.roundWins.red||0)+1:t==="blue"&&(a.stats.roundWins.blue=(a.stats.roundWins.blue||0)+1);const c=a.stats.roundWins.red,h=a.stats.roundWins.blue,f=a.config?.rules?.roundsToWin||2;if(c>=f||h>=f)a.state.isFinished=!0,a.state.winReason="PTF",a.state.isPaused=!0,a.state.timer=0,a.state.phase="ROUND";else{const p={...a.stats};a.stats={...p,red:{gamjeom:0,pointsStat:[0,0,0,0,0]},blue:{gamjeom:0,pointsStat:[0,0,0,0,0]}},a.state.phase="REST",a.state.timer=a.config?.rules?.restDuration||60,a.state.isPaused=!1,a.state.lastStartTime=Date.now(),a.state.isFinished=!1,a.state.winReason=null,a.state.dominantSide="none"}return a})},ck=(s,e)=>{const t=$e(Ze,`events/${s}/matches/${e}`);Lo(t,i=>{if(i)return i.stats.red={gamjeom:0,pointsStat:[0,0,0,0,0]},i.stats.blue={gamjeom:0,pointsStat:[0,0,0,0,0]},i.state.currentRound=(i.state.currentRound||1)+1,i.state.phase="ROUND",i.state.timer=i.config?.rules?.roundDuration||120,i.state.isPaused=!0,i.state.lastStartTime=null,i.state.isFinished=!1,i.state.dominantSide="none",i})},fk=async(s,e,t)=>{const i=`events/${s}/matches`;try{const o=(await ci($e(Ze,`${i}/${e}/config`))).val();if(!o)return;const c=o.competitors[t],{nextMatchId:h,nextMatchSlot:f}=o;if(!h||!f){alert(" (Next Match ID/Slot missing)");return}const p=`${i}/${h}/config/competitors/${f}`;await hr($e(Ze,p),{name:c.name,affiliatedClub:c.affiliatedClub||""}),alert(`
${c.name} -> ${h} (${f})`)}catch(a){console.error(a),alert(`: ${a.message}`)}},hk=({visible:s,setVisible:e,eventName:t,matchId:i,matchData:a,dominantSide:o})=>{const[c,h]=M.useState(0),[f,p]=M.useState(0),[_,g]=M.useState(0),[v,E]=M.useState(0),[T,S]=M.useState(!1),w=F=>{!t||!i||!F||(uk(t,i,F),e(!1),S(!1))},A=()=>{!t||!i||(ck(t,i),e(!1))},D=()=>{o&&o.trim()!=="none"?w(o):S(!0)},N=(F,ne,se,xe)=>{ok(t,i,F,ne,se,xe)};M.useEffect(()=>{if(!s){S(!1);return}const F=a?.state?.timer||0,ne=Math.floor(F/60),se=Math.floor(F%60),xe=a?.state?.phase||"ROUND";if(xe==="ROUND"?(h(ne),p(se)):xe==="REST"&&(g(ne),E(se)),t&&i){const Ae=$e(Ze,`events/${t}/matches/${i}/config`);ci(Ae).then(_t=>{if(!_t.exists())return;const me=_t.val(),Oe=me.rules?.roundDuration||120,Pe=me.rules?.restDuration||60;xe==="ROUND"?(g(Math.floor(Pe/60)),E(Pe%60)):xe==="REST"&&(h(Math.floor(Oe/60)),p(Oe%60))})}},[s,t,i,a]);const H=(F,ne,se)=>{if(!t||!i)return;const xe=parseInt(ne,10)*60+parseInt(se,10),Ae=$e(Ze,`events/${t}/matches/${i}/state`),_t={timer:xe,isPaused:!0,lastStartTime:null,isFinished:xe===0};ci(Ae).then(me=>{if(me.exists()){const Pe=me.val().phase||"ROUND";(F==="match"&&Pe==="ROUND"||F==="rest"&&Pe==="REST")&&hr(Ae,_t)}})},L=F=>{h(F),H("match",F,f)},W=F=>{p(F),H("match",c,F)},Y=F=>{g(F),H("rest",F,v)},Q=F=>{E(F),H("rest",_,F)},V="1.5dvw",te=[{name:"Gam-jeom",type:"gamjeom",index:null},{name:"Punch",type:"pointsStat",index:0},{name:"Body",type:"pointsStat",index:1},{name:"Head",type:"pointsStat",index:2},{name:"Body(Turn)",type:"pointsStat",index:3},{name:"Head(Turn)",type:"pointsStat",index:4}];if(!a)return null;const{config:ie={},state:oe={},stats:fe={}}=a,{phase:ue,isFinished:ae,winReason:U}=oe||{},{roundWins:G}=fe||{},{rules:J={}}=ie,he=J.roundsToWin||2,k=(()=>{const F=G?.red||0,ne=G?.blue||0;return F>=he?"red":ne>=he?"blue":null})(),$=ue==="ROUND"&&(ae||U)&&!k&&!T,Z=ae&&k;return C.jsxs("div",{className:`edit-bar ${s?"visible":""}`,children:[C.jsxs("div",{className:"edit-grid",children:[C.jsx("div",{className:"grid-cell header"}),te.map(F=>C.jsx("div",{className:"grid-cell header",children:F.name},F.name)),C.jsx("div",{className:"grid-cell side-label blue",children:"Blue"}),te.map(F=>C.jsx("div",{className:"grid-cell",children:C.jsxs("div",{className:"buttons",children:[C.jsx(De,{text:"+",fontSize:V,onClick:()=>N("blue",F.type,F.index,1),angle:220}),C.jsx(De,{text:"",fontSize:V,onClick:()=>N("blue",F.type,F.index,-1),angle:220})]})},`blue-${F.name}`)),C.jsx("div",{className:"grid-cell side-label red",children:"Red"}),te.map(F=>C.jsx("div",{className:"grid-cell",children:C.jsxs("div",{className:"buttons",children:[C.jsx(De,{text:"+",fontSize:V,onClick:()=>N("red",F.type,F.index,1),angle:0}),C.jsx(De,{text:"",fontSize:V,onClick:()=>N("red",F.type,F.index,-1),angle:0})]})},`red-${F.name}`))]}),C.jsxs("div",{className:"time-bar",children:[C.jsxs("div",{className:"time-control-group",children:[C.jsx("h2",{children:"Match Time"}),C.jsxs("div",{className:"time-selects",children:[C.jsx("select",{value:c,onChange:F=>L(F.target.value),children:[0,1,2].map(F=>C.jsx("option",{value:F,children:F},F))})," min",C.jsx("select",{value:f,onChange:F=>W(F.target.value),children:Array.from({length:60},(F,ne)=>ne).map(F=>C.jsx("option",{value:F,children:F},F))})," sec"]})]}),C.jsxs("div",{className:"time-control-group",children:[C.jsx("h2",{children:"Rest Time"}),C.jsxs("div",{className:"time-selects",children:[C.jsx("select",{value:_,onChange:F=>Y(F.target.value),children:[0,1].map(F=>C.jsx("option",{value:F,children:F},F))})," min",C.jsx("select",{value:v,onChange:F=>Q(F.target.value),children:Array.from({length:60},(F,ne)=>ne).map(F=>C.jsx("option",{value:F,children:F},F))})," sec"]})]}),ue==="REST"&&!ae&&C.jsx(De,{text:`Start Round ${(a?.state?.currentRound||1)+1}`,fontSize:"1.8vw",onClick:A,angle:50}),Z&&C.jsx(De,{onClick:()=>fk(t,i,k),text:"Promote Winner",fontSize:"1.8vw",angle:50}),$&&C.jsx(De,{text:"Declare Round Winner",fontSize:"1.8vw",onClick:D,angle:50}),T&&C.jsxs("div",{className:"superiority-vote time-control-group",children:[C.jsx("h2",{children:"Woo-se-girok"}),C.jsxs("div",{className:"buttons",children:[C.jsx(De,{text:"Blue",fontSize:"1.8vw",onClick:()=>w("blue"),angle:220}),C.jsx(De,{text:"Red",fontSize:"1.8vw",onClick:()=>w("red"),angle:0})]})]}),C.jsx(De,{text:"Done",fontSize:"2vw",onClick:()=>e(!1)})]})]})},dk=s=>{if(typeof s!="number"||isNaN(s))return"0:00";const e=Math.floor(s/60),t=Math.floor(s%60);return`${e}:${t.toString().padStart(2,"0")}`},df=(s,e)=>{const t=s?.pointsStat||[0,0,0,0,0];return t[0]*1+t[1]*2+t[2]*3+t[3]*4+t[4]*5+(e||0)},pk=(s,e)=>{const t=s?.gamjeom||0,i=e?.gamjeom||0;if(t>=5)return"blue";if(i>=5)return"red";const a=s?.pointsStat||[0,0,0,0,0],o=e?.pointsStat||[0,0,0,0,0],c=df({pointsStat:a},i),h=df({pointsStat:o},t);if(c>h)return"red";if(h>c)return"blue";const f=a[3]*4+a[4]*5,p=o[3]*4+o[4]*5;if(f>p)return"red";if(p>f)return"blue";const _=a[2]+a[4],g=o[2]+o[4];if(_>g)return"red";if(g>_)return"blue";const v=a[1]+a[3],E=o[1]+o[3];return v>E?"red":E>v?"blue":a[0]>o[0]?"red":o[0]>a[0]?"blue":t<i?"red":i<t?"blue":"none"};function mk(){const[s,e]=M.useState(null),[t,i]=M.useState("row"),[a,o]=M.useState(!1),[c,h]=M.useState(0),[f,p]=M.useState(localStorage.getItem("selectedEvent")),[_,g]=M.useState(localStorage.getItem("selectedCourt")),[v,E]=M.useState(null),T=M.useRef();M.useEffect(()=>{if(!f||!_)return;const me=$e(Ze,`events/${f}/courts/${_}/currentMatchId`),Oe=Oc(me,Pe=>{const at=Pe.val();at?E(at):(E(null),e(null))});return()=>Oe()},[f,_]),M.useEffect(()=>{if(!v||!f)return;const me=$e(Ze,`events/${f}/matches/${v}`),Oe=Oc(me,Pe=>{e(Pe.val())});return()=>Oe()},[v,f]),M.useEffect(()=>{if(!s?.state)return;const me=s.state,{timer:Oe,isPaused:Pe,lastStartTime:at,isFinished:An,phase:cn}=me,fn=()=>{if(An&&cn!=="REST"){h(0),cancelAnimationFrame(T.current);return}if(Pe){h(Oe||0),cancelAnimationFrame(T.current);return}const gt=Date.now(),Tt=Math.floor((gt-at)/1e3),ht=(Oe||0)-Tt;if(ht<=0){if(h(0),cancelAnimationFrame(T.current),cn!=="REST"){const mi=$e(Ze,`events/${f}/matches/${v}/state`);hr(mi,{isFinished:!0,isPaused:!0,timer:0,lastStartTime:null})}}else h(ht),T.current=requestAnimationFrame(fn)};return T.current=requestAnimationFrame(fn),()=>cancelAnimationFrame(T.current)},[s?.state,f,v]),M.useEffect(()=>{if(!f||!_||!v)return;const me=$e(Ze,`judgingQueue/${f}/${_}`),Oe=Oc(me,Pe=>{const at=Pe.val();if(!at)return;const An=2,cn={punch:1,body:2,head:3,bodyTurn:4,headTurn:5},fn=`events/${f}/matches/${v}`;(async()=>{for(const Tt of["red","blue"]){for(const ht of Object.keys(cn))if(at[Tt]?.[ht]&&Object.keys(at[Tt][ht]).length>=An){const mi=cn[ht],Qi=Object.values(cn).indexOf(mi),Bs=$e(Ze,`${fn}/stats/${Tt}/pointsStat/${Qi}`);return await Lo(Bs,iu=>(iu||0)+1),!0}if(at[Tt]?.gamjeom&&Object.keys(at[Tt].gamjeom).length>=An){const ht=$e(Ze,`${fn}/stats/${Tt}/gamjeom`);return await Lo(ht,mi=>(mi||0)+1),!0}}return!1})().then(Tt=>{Tt&&Aa(me,null)})});return()=>Oe()},[f,_,v]);const S=()=>i(me=>me==="row"?"row-reverse":"row"),w=async()=>{if(!f||!v)return;const me=$e(Ze,`events/${f}/matches/${v}/state`);try{const Oe=await ci(me);if(!Oe.exists())return;const Pe=Oe.val(),{isStarted:at=!1,isPaused:An=!0,isFinished:cn=!1,timer:fn=0,lastStartTime:gt=null,phase:Tt}=Pe,ht=Date.now();if(cn&&Tt!=="REST")return;if(!at){await hr(me,{isStarted:!0,isPaused:!1,isFinished:!1,lastStartTime:ht});return}if(An)await hr(me,{isPaused:!1,lastStartTime:ht});else{const Qi=Math.floor((ht-(gt||ht))/1e3);let Bs=fn-Qi;Bs<0&&(Bs=0),await hr(me,{isPaused:!0,timer:Bs,lastStartTime:null})}}catch(Oe){console.error("Toggle Timer Error:",Oe)}};M.useEffect(()=>{const me=Oe=>{Oe.code==="Space"&&(Oe.preventDefault(),w()),Oe.key==="\\"&&S(),(Oe.key==="e"||Oe.key==="E")&&o(Pe=>!Pe)};return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[f,v]);const A=s?.stats?.red,D=s?.stats?.blue,N=M.useMemo(()=>pk(A,D),[A,D]);if(!_)return C.jsxs("div",{className:"screen-unconfigured",children:[C.jsx("h1",{children:"Screen Unconfigured"}),C.jsxs("p",{children:["Please go to ",C.jsx("strong",{children:"Court Setup"})," to assign this screen to a court."]})]});if(!s)return C.jsxs("div",{className:"screen-configured-no-match",children:[C.jsx("h1",{children:_.replace(/([A-Z])/g," $1").replace(/^./,me=>me.toUpperCase())}),C.jsx("p",{children:"Waiting for a match to be loaded..."})]});const{state:H={},config:L={},stats:W={}}=s,{phase:Y="ROUND",currentRound:Q=1,winReason:V,isFinished:te,isPaused:ie}=H,{roundScores:oe={},roundWins:fe={red:0,blue:0}}=W,ue=Y==="REST",ae=fe.red===2||fe.blue===2,U=me=>me?.name?me.affiliatedClub?`${me.name} (${me.affiliatedClub})`:me.name:me?.previousMatch?`Winner of ${me.previousMatch}`:"",G=U(L.competitors?.blue)||"Blue Player",J=U(L.competitors?.red)||"Red Player",he=W.red?.gamjeom||0,x=W.blue?.gamjeom||0,k=df(W.red,x),$=df(W.blue,he),Z=L.matchId||"----",F=ie?"#FFFF00":"#FFFFFF",ne=!ue&&N==="red"?"#FFFF00":"#FFFFFF",se=!ue&&N==="blue"?"#FFFF00":"#FFFFFF",xe=()=>V||dk(c),Ae=me=>{const Oe=oe||{};return C.jsxs("div",{className:"round-history-container",children:[Object.entries(Oe).sort(([Pe],[at])=>parseInt(Pe.substring(1))-parseInt(at.substring(1))).map(([Pe,at])=>C.jsxs("div",{className:"history-row",children:[C.jsx("span",{className:"history-label",children:Pe}),C.jsx("span",{className:"history-value",children:at[me]??0})]},Pe)),C.jsx("div",{className:"total-round-wins",children:fe[me]||0})]})},_t=()=>{const me={backgroundColor:ie?"#FFFF00":"#000000"};return ie?me.color="#000000":ue||(me.color="#000000"),me};return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"screen",onClick:()=>!a&&document.documentElement.requestFullscreen(),children:[C.jsxs("div",{className:`top ${ue?"rest-mode":""}`,style:{flexDirection:t},children:[C.jsx("div",{className:"red-name red-bg name-font",children:J}),C.jsx("div",{className:"blue-name blue-bg name-font",children:G})]}),C.jsxs("div",{className:"midbottom",style:{flexDirection:t,display:"flex"},children:[C.jsx("div",{className:"red-log red-bg",children:C.jsxs("div",{className:"red-gamjeom red-bg",onClick:()=>o(!0),children:[C.jsx("div",{className:"gamjeom-number",children:he}),C.jsx("div",{className:"gamjeom-font",children:"GAM-JEOM"})]})}),C.jsx("div",{className:"red-score red-bg",children:C.jsx("div",{className:"red-score-text red-score-bg score-font cursor-target",style:{color:ne},onClick:()=>o(!0),children:ue||ae?Ae("red"):k})}),C.jsxs("div",{className:"match-info",children:[C.jsxs("div",{className:"match cursor-target",onClick:S,children:[C.jsx("div",{className:"match-font",children:"MATCH"}),C.jsx("div",{className:"match-number",children:Z})]}),C.jsxs("div",{className:"timer",children:[C.jsx("div",{className:"game-timer timer-font cursor-target",onClick:w,style:{color:F},children:xe()}),C.jsx("div",{className:`time-out match-font cursor-target ${ie?"":"timeout-active"} ${ue?"rest-mode":""}`,onClick:w,style:_t(),children:ue?"REST TIME":"Time out"})]}),C.jsxs("div",{className:"round-info",children:[C.jsx("div",{className:"round-font",children:"ROUND"}),C.jsx("div",{className:"round-number",children:Q})]})]}),C.jsx("div",{className:"blue-score blue-bg",children:C.jsx("div",{className:"blue-score-text blue-score-bg score-font cursor-target",style:{color:se},onClick:()=>o(!0),children:ue||ae?Ae("blue"):$})}),C.jsx("div",{className:"blue-log blue-bg",children:C.jsxs("div",{className:"blue-gamjeom blue-bg",onClick:()=>o(!0),children:[C.jsx("div",{className:"gamjeom-number",children:x}),C.jsx("div",{className:"gamjeom-font",children:"GAM-JEOM"})]})})]})]}),C.jsx(hk,{visible:a,setVisible:o,eventName:f,matchId:v,matchData:s,dominantSide:N})]})}const dS=s=>{if(!s)return{name:"",club:""};const e=s.match(/(.+?)\s*\((.+)\)/);return e?{name:e[1].trim(),club:e[2].trim()}:{name:s,club:""}},_k=()=>{const s=Wa(),[e,t]=M.useState(""),[i,a]=M.useState([]),[o,c]=M.useState({}),[h,f]=M.useState(null),[p,_]=M.useState(""),[g,v]=M.useState(""),[E,T]=M.useState(""),[S,w]=M.useState(12),[A,D]=M.useState(5),[N,H]=M.useState(120),[L,W]=M.useState(60),[Y,Q]=M.useState(""),[V,te]=M.useState(""),[ie,oe]=M.useState(""),[fe,ue]=M.useState(""),[ae,U]=M.useState(""),[G,J]=M.useState("");M.useEffect(()=>{const k=$e(Ze,"events");ci(k).then($=>{$.exists()&&a(Object.keys($.val()))})},[]),M.useEffect(()=>{if(f(null),e){const k=$e(Ze,`events/${e}/matches`);ci(k).then($=>{$.exists()?c($.val()):c({})})}else c({})},[e]),M.useEffect(()=>{if(p&&o[p]){const $=o[p].config,Z=$.rules,F=$.competitors;v($.nextMatchId||""),T($.nextMatchSlot||""),w(Z.maxPointGap||12),D(Z.maxGamjeom||5),H(Z.roundDuration||120),W(Z.restDuration||60);const ne=F.blue;if(ne.affiliatedClub!==void 0)Q(ne.name||""),te(ne.affiliatedClub||"");else{const xe=dS(ne.name);Q(xe.name),te(xe.club)}oe(ne.previousMatch||"");const se=F.red;if(se.affiliatedClub!==void 0)ue(se.name||""),U(se.affiliatedClub||"");else{const xe=dS(se.name);ue(xe.name),U(xe.club)}J(se.previousMatch||"")}},[p,o]),M.useEffect(()=>{h&&_(h)},[h]);const he=async()=>{if(!e||!p){alert("Please provide an Event Name and a Match ID.");return}try{const k=$e(Ze,`events/${e}`);(await ci(k)).exists()||await Aa(k,{settings:{},courts:{court1:{name:"Court 1",currentMatchId:""},court2:{name:"Court 2",currentMatchId:""},court3:{name:"Court 3",currentMatchId:""},court4:{name:"Court 4",currentMatchId:""}},judgingQueue:{},matches:{}});const Z={config:{matchId:p,nextMatchId:g||null,nextMatchSlot:E||null,rules:{maxPointGap:parseInt(S,10),maxGamjeom:parseInt(A,10),roundDuration:parseInt(N,10),restDuration:parseInt(L,10)},competitors:{blue:{name:Y,affiliatedClub:V||"",previousMatch:ie||null},red:{name:fe,affiliatedClub:ae||"",previousMatch:G||null}}},state:{isStarted:!1,isPaused:!0,isFinished:!1,currentRound:1,timer:parseInt(N,10),winnerSide:null,phase:"ROUND",winReason:null},stats:{roundWins:{red:0,blue:0},blue:{pointsStat:[0,0,0,0,0],gamjeom:0},red:{pointsStat:[0,0,0,0,0],gamjeom:0}}},F=$e(Ze,`events/${e}/matches/${p}`);await Aa(F,Z),alert(`Match ${p} added to event ${e} in Firebase!`),c(ne=>({...ne,[p]:Z})),_(""),Q(""),te(""),ue(""),U(""),v(""),T(""),oe(""),J("")}catch(k){console.error("Error writing to Firebase:",k),alert("Failed to add match to Firebase. See console for details.")}},x=async()=>{if(!e||!h){alert("Please select an event and a match to load.");return}const k=localStorage.getItem("selectedCourt");if(!k){alert("No court is configured for this device. Please go to Court Setup first.");return}try{const $=$e(Ze,`events/${e}/courts/${k}/currentMatchId`);await Aa($,h),localStorage.setItem("selectedEvent",e),localStorage.setItem("selectedMatchId",h),alert(`Match ${h} successfully loaded to ${k}.`)}catch($){console.error("Error loading match to court:",$),alert("Failed to load match to court. See console for details.")}};return C.jsxs("div",{className:"di-container",children:[C.jsx(jf,{speed:.5,squareSize:100,direction:"diagonal",borderColor:"hsla(270, 50%, 50%, 0.25)",hoverFillColor:"hsla(60, 50%, 50%, 0.25)"}),C.jsx("div",{className:"di-content-wrapper",children:C.jsxs("div",{className:"di-form-and-list-container",children:[C.jsxs("div",{className:"di-form-section",children:[C.jsx("h2",{children:"Import Event Data"}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"eventName-select",children:"Event Name"}),C.jsxs("select",{id:"eventName-select",value:e,onChange:k=>t(k.target.value),required:!0,children:[C.jsx("option",{value:"",disabled:!0,children:"-- Please select an event --"}),i.map(k=>C.jsx("option",{value:k,children:k},k))]})]}),C.jsxs("div",{className:"match-form",children:[C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Match Configuration"}),C.jsxs("div",{className:"fieldset-content",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Match ID"}),C.jsx("input",{list:"match-ids",type:"text",value:p,onChange:k=>_(k.target.value),placeholder:"A1001"}),C.jsx("datalist",{id:"match-ids",children:Object.keys(o).map(k=>C.jsx("option",{value:k},k))})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Next Match ID"}),C.jsx("input",{type:"text",value:g,onChange:k=>v(k.target.value),placeholder:"e.g. A2001 (optional)"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Next Match Slot"}),C.jsxs("select",{value:E||"",onChange:k=>T(k.target.value),children:[C.jsx("option",{value:"",children:"(optional)"}),C.jsx("option",{value:"blue",children:"Blue"}),C.jsx("option",{value:"red",children:"Red"})]})]})]})]}),C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Rules"}),C.jsxs("div",{className:"fieldset-content",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Max Point Gap"}),C.jsx("input",{type:"number",value:S,onChange:k=>w(k.target.value)})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Max Gam-jeom"}),C.jsx("input",{type:"number",value:A,onChange:k=>D(k.target.value)})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Round Duration (s)"}),C.jsx("input",{type:"number",value:N,onChange:k=>H(k.target.value)})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Rest Duration (s)"}),C.jsx("input",{type:"number",value:L,onChange:k=>W(k.target.value)})]})]})]}),C.jsxs("fieldset",{className:"competitor-group blue",children:[C.jsx("legend",{children:"Blue Competitor"}),C.jsxs("div",{className:"fieldset-content",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Name"}),C.jsx("input",{type:"text",value:Y,onChange:k=>Q(k.target.value),placeholder:"Blue Player Name"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Affiliated Club"}),C.jsx("input",{type:"text",value:V,onChange:k=>te(k.target.value),placeholder:"Club (optional)"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Source Match ID"}),C.jsx("input",{type:"text",value:ie,onChange:k=>oe(k.target.value),placeholder:"Source Match (optional)"})]})]})]}),C.jsxs("fieldset",{className:"competitor-group red",children:[C.jsx("legend",{children:"Red Competitor"}),C.jsxs("div",{className:"fieldset-content",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Name"}),C.jsx("input",{type:"text",value:fe,onChange:k=>ue(k.target.value),placeholder:"Red Player Name"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Affiliated Club"}),C.jsx("input",{type:"text",value:ae,onChange:k=>U(k.target.value),placeholder:"Club (optional)"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Source Match ID"}),C.jsx("input",{type:"text",value:G,onChange:k=>J(k.target.value),placeholder:"Source Match (optional)"})]})]})]})]}),C.jsxs("div",{className:"di-action-buttons",children:[C.jsx(De,{text:"Add Match",fontSize:"1.5dvw",angle:260,onClick:he}),C.jsx(De,{text:"Load to Screen",fontSize:"1.5dvw",angle:40,onClick:h?x:null,disabled:!h}),C.jsx(De,{text:"Back to Home",fontSize:"1.5dvw",angle:150,onClick:()=>s("/")})]})]}),C.jsx("div",{className:"di-matches-section",children:C.jsxs("div",{className:"matches-list",children:[C.jsxs("h3",{children:["Matches in ",e||"Event"]}),C.jsx("ul",{children:Object.keys(o).map(k=>{const $=o[k].config.competitors.blue,Z=o[k].config.competitors.red,F=ne=>ne.affiliatedClub?`${ne.name} (${ne.affiliatedClub})`:ne.name;return C.jsxs("li",{onClick:()=>f(k),className:h===k?"selected":"",children:[C.jsxs("strong",{children:[k,":"]})," ",`${F($)} vs ${F(Z)}`]},k)})})]})})]})})]})};var gk=Object.defineProperty,pf=Object.getOwnPropertySymbols,LT=Object.prototype.hasOwnProperty,PT=Object.prototype.propertyIsEnumerable,pS=(s,e,t)=>e in s?gk(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,mm=(s,e)=>{for(var t in e||(e={}))LT.call(e,t)&&pS(s,t,e[t]);if(pf)for(var t of pf(e))PT.call(e,t)&&pS(s,t,e[t]);return s},_m=(s,e)=>{var t={};for(var i in s)LT.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&pf)for(var i of pf(s))e.indexOf(i)<0&&PT.call(s,i)&&(t[i]=s[i]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var xr;(s=>{const e=class we{constructor(f,p,_,g){if(this.version=f,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],f<we.MIN_VERSION||f>we.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let v=[];for(let T=0;T<this.size;T++)v.push(!1);for(let T=0;T<this.size;T++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(_);if(this.drawCodewords(E),g==-1){let T=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const w=this.getPenaltyScore();w<T&&(g=S,T=w),this.applyMask(S)}}a(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(f,p){const _=s.QrSegment.makeSegments(f);return we.encodeSegments(_,p)}static encodeBinary(f,p){const _=s.QrSegment.makeBytes(f);return we.encodeSegments([_],p)}static encodeSegments(f,p,_=1,g=40,v=-1,E=!0){if(!(we.MIN_VERSION<=_&&_<=g&&g<=we.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let T,S;for(T=_;;T++){const N=we.getNumDataCodewords(T,p)*8,H=c.getTotalBits(f,T);if(H<=N){S=H;break}if(T>=g)throw new RangeError("Data too long")}for(const N of[we.Ecc.MEDIUM,we.Ecc.QUARTILE,we.Ecc.HIGH])E&&S<=we.getNumDataCodewords(T,N)*8&&(p=N);let w=[];for(const N of f){t(N.mode.modeBits,4,w),t(N.numChars,N.mode.numCharCountBits(T),w);for(const H of N.getData())w.push(H)}a(w.length==S);const A=we.getNumDataCodewords(T,p)*8;a(w.length<=A),t(0,Math.min(4,A-w.length),w),t(0,(8-w.length%8)%8,w),a(w.length%8==0);for(let N=236;w.length<A;N^=253)t(N,8,w);let D=[];for(;D.length*8<w.length;)D.push(0);return w.forEach((N,H)=>D[H>>>3]|=N<<7-(H&7)),new we(T,p,D,v)}getModule(f,p){return 0<=f&&f<this.size&&0<=p&&p<this.size&&this.modules[p][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let _=0;_<this.size;_++)this.setFunctionModule(6,_,_%2==0),this.setFunctionModule(_,6,_%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),p=f.length;for(let _=0;_<p;_++)for(let g=0;g<p;g++)_==0&&g==0||_==0&&g==p-1||_==p-1&&g==0||this.drawAlignmentPattern(f[_],f[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const p=this.errorCorrectionLevel.formatBits<<3|f;let _=p;for(let v=0;v<10;v++)_=_<<1^(_>>>9)*1335;const g=(p<<10|_)^21522;a(g>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,i(g,v));this.setFunctionModule(8,7,i(g,6)),this.setFunctionModule(8,8,i(g,7)),this.setFunctionModule(7,8,i(g,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,i(g,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,i(g,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,i(g,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let _=0;_<12;_++)f=f<<1^(f>>>11)*7973;const p=this.version<<12|f;a(p>>>18==0);for(let _=0;_<18;_++){const g=i(p,_),v=this.size-11+_%3,E=Math.floor(_/3);this.setFunctionModule(v,E,g),this.setFunctionModule(E,v,g)}}drawFinderPattern(f,p){for(let _=-4;_<=4;_++)for(let g=-4;g<=4;g++){const v=Math.max(Math.abs(g),Math.abs(_)),E=f+g,T=p+_;0<=E&&E<this.size&&0<=T&&T<this.size&&this.setFunctionModule(E,T,v!=2&&v!=4)}}drawAlignmentPattern(f,p){for(let _=-2;_<=2;_++)for(let g=-2;g<=2;g++)this.setFunctionModule(f+g,p+_,Math.max(Math.abs(g),Math.abs(_))!=1)}setFunctionModule(f,p,_){this.modules[p][f]=_,this.isFunction[p][f]=!0}addEccAndInterleave(f){const p=this.version,_=this.errorCorrectionLevel;if(f.length!=we.getNumDataCodewords(p,_))throw new RangeError("Invalid argument");const g=we.NUM_ERROR_CORRECTION_BLOCKS[_.ordinal][p],v=we.ECC_CODEWORDS_PER_BLOCK[_.ordinal][p],E=Math.floor(we.getNumRawDataModules(p)/8),T=g-E%g,S=Math.floor(E/g);let w=[];const A=we.reedSolomonComputeDivisor(v);for(let N=0,H=0;N<g;N++){let L=f.slice(H,H+S-v+(N<T?0:1));H+=L.length;const W=we.reedSolomonComputeRemainder(L,A);N<T&&L.push(0),w.push(L.concat(W))}let D=[];for(let N=0;N<w[0].length;N++)w.forEach((H,L)=>{(N!=S-v||L>=T)&&D.push(H[N])});return a(D.length==E),D}drawCodewords(f){if(f.length!=Math.floor(we.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let _=this.size-1;_>=1;_-=2){_==6&&(_=5);for(let g=0;g<this.size;g++)for(let v=0;v<2;v++){const E=_-v,S=(_+1&2)==0?this.size-1-g:g;!this.isFunction[S][E]&&p<f.length*8&&(this.modules[S][E]=i(f[p>>>3],7-(p&7)),p++)}}a(p==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let _=0;_<this.size;_++){let g;switch(f){case 0:g=(_+p)%2==0;break;case 1:g=p%2==0;break;case 2:g=_%3==0;break;case 3:g=(_+p)%3==0;break;case 4:g=(Math.floor(_/3)+Math.floor(p/2))%2==0;break;case 5:g=_*p%2+_*p%3==0;break;case 6:g=(_*p%2+_*p%3)%2==0;break;case 7:g=((_+p)%2+_*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][_]&&g&&(this.modules[p][_]=!this.modules[p][_])}}getPenaltyScore(){let f=0;for(let v=0;v<this.size;v++){let E=!1,T=0,S=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[v][w]==E?(T++,T==5?f+=we.PENALTY_N1:T>5&&f++):(this.finderPenaltyAddHistory(T,S),E||(f+=this.finderPenaltyCountPatterns(S)*we.PENALTY_N3),E=this.modules[v][w],T=1);f+=this.finderPenaltyTerminateAndCount(E,T,S)*we.PENALTY_N3}for(let v=0;v<this.size;v++){let E=!1,T=0,S=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][v]==E?(T++,T==5?f+=we.PENALTY_N1:T>5&&f++):(this.finderPenaltyAddHistory(T,S),E||(f+=this.finderPenaltyCountPatterns(S)*we.PENALTY_N3),E=this.modules[w][v],T=1);f+=this.finderPenaltyTerminateAndCount(E,T,S)*we.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let E=0;E<this.size-1;E++){const T=this.modules[v][E];T==this.modules[v][E+1]&&T==this.modules[v+1][E]&&T==this.modules[v+1][E+1]&&(f+=we.PENALTY_N2)}let p=0;for(const v of this.modules)p=v.reduce((E,T)=>E+(T?1:0),p);const _=this.size*this.size,g=Math.ceil(Math.abs(p*20-_*10)/_)-1;return a(0<=g&&g<=9),f+=g*we.PENALTY_N4,a(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let _=[6];for(let g=this.size-7;_.length<f;g-=p)_.splice(1,0,g);return _}}static getNumRawDataModules(f){if(f<we.MIN_VERSION||f>we.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*f+128)*f+64;if(f>=2){const _=Math.floor(f/7)+2;p-=(25*_-10)*_-55,f>=7&&(p-=36)}return a(208<=p&&p<=29648),p}static getNumDataCodewords(f,p){return Math.floor(we.getNumRawDataModules(f)/8)-we.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f]*we.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let p=[];for(let g=0;g<f-1;g++)p.push(0);p.push(1);let _=1;for(let g=0;g<f;g++){for(let v=0;v<p.length;v++)p[v]=we.reedSolomonMultiply(p[v],_),v+1<p.length&&(p[v]^=p[v+1]);_=we.reedSolomonMultiply(_,2)}return p}static reedSolomonComputeRemainder(f,p){let _=p.map(g=>0);for(const g of f){const v=g^_.shift();_.push(0),p.forEach((E,T)=>_[T]^=we.reedSolomonMultiply(E,v))}return _}static reedSolomonMultiply(f,p){if(f>>>8||p>>>8)throw new RangeError("Byte out of range");let _=0;for(let g=7;g>=0;g--)_=_<<1^(_>>>7)*285,_^=(p>>>g&1)*f;return a(_>>>8==0),_}finderPenaltyCountPatterns(f){const p=f[1];a(p<=this.size*3);const _=p>0&&f[2]==p&&f[3]==p*3&&f[4]==p&&f[5]==p;return(_&&f[0]>=p*4&&f[6]>=p?1:0)+(_&&f[6]>=p*4&&f[0]>=p?1:0)}finderPenaltyTerminateAndCount(f,p,_){return f&&(this.finderPenaltyAddHistory(p,_),p=0),p+=this.size,this.finderPenaltyAddHistory(p,_),this.finderPenaltyCountPatterns(_)}finderPenaltyAddHistory(f,p){p[0]==0&&(f+=this.size),p.pop(),p.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=e;function t(h,f,p){if(f<0||f>31||h>>>f)throw new RangeError("Value out of range");for(let _=f-1;_>=0;_--)p.push(h>>>_&1)}function i(h,f){return(h>>>f&1)!=0}function a(h){if(!h)throw new Error("Assertion error")}const o=class ut{constructor(f,p,_){if(this.mode=f,this.numChars=p,this.bitData=_,p<0)throw new RangeError("Invalid argument");this.bitData=_.slice()}static makeBytes(f){let p=[];for(const _ of f)t(_,8,p);return new ut(ut.Mode.BYTE,f.length,p)}static makeNumeric(f){if(!ut.isNumeric(f))throw new RangeError("String contains non-numeric characters");let p=[];for(let _=0;_<f.length;){const g=Math.min(f.length-_,3);t(parseInt(f.substring(_,_+g),10),g*3+1,p),_+=g}return new ut(ut.Mode.NUMERIC,f.length,p)}static makeAlphanumeric(f){if(!ut.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],_;for(_=0;_+2<=f.length;_+=2){let g=ut.ALPHANUMERIC_CHARSET.indexOf(f.charAt(_))*45;g+=ut.ALPHANUMERIC_CHARSET.indexOf(f.charAt(_+1)),t(g,11,p)}return _<f.length&&t(ut.ALPHANUMERIC_CHARSET.indexOf(f.charAt(_)),6,p),new ut(ut.Mode.ALPHANUMERIC,f.length,p)}static makeSegments(f){return f==""?[]:ut.isNumeric(f)?[ut.makeNumeric(f)]:ut.isAlphanumeric(f)?[ut.makeAlphanumeric(f)]:[ut.makeBytes(ut.toUtf8ByteArray(f))]}static makeEci(f){let p=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,p);else if(f<16384)t(2,2,p),t(f,14,p);else if(f<1e6)t(6,3,p),t(f,21,p);else throw new RangeError("ECI assignment value out of range");return new ut(ut.Mode.ECI,0,p)}static isNumeric(f){return ut.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return ut.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,p){let _=0;for(const g of f){const v=g.mode.numCharCountBits(p);if(g.numChars>=1<<v)return 1/0;_+=4+v+g.bitData.length}return _}static toUtf8ByteArray(f){f=encodeURI(f);let p=[];for(let _=0;_<f.length;_++)f.charAt(_)!="%"?p.push(f.charCodeAt(_)):(p.push(parseInt(f.substring(_+1,_+3),16)),_+=2);return p}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=o;s.QrSegment=o})(xr||(xr={}));(s=>{(e=>{const t=class{constructor(a,o){this.ordinal=a,this.formatBits=o}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(s.QrCode||(s.QrCode={}))})(xr||(xr={}));(s=>{(e=>{const t=class{constructor(a,o){this.modeBits=a,this.numBitsCharCount=o}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(s.QrSegment||(s.QrSegment={}))})(xr||(xr={}));var ba=xr;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var vk={L:ba.QrCode.Ecc.LOW,M:ba.QrCode.Ecc.MEDIUM,Q:ba.QrCode.Ecc.QUARTILE,H:ba.QrCode.Ecc.HIGH},UT=128,zT="L",jT="#FFFFFF",BT="#000000",HT=!1,FT=1,yk=4,Sk=0,Ek=.1;function VT(s,e=0){const t=[];return s.forEach(function(i,a){let o=null;i.forEach(function(c,h){if(!c&&o!==null){t.push(`M${o+e} ${a+e}h${h-o}v1H${o+e}z`),o=null;return}if(h===i.length-1){if(!c)return;o===null?t.push(`M${h+e},${a+e} h1v1H${h+e}z`):t.push(`M${o+e},${a+e} h${h+1-o}v1H${o+e}z`);return}c&&o===null&&(o=h)})}),t.join("")}function GT(s,e){return s.slice().map((t,i)=>i<e.y||i>=e.y+e.h?t:t.map((a,o)=>o<e.x||o>=e.x+e.w?a:!1))}function bk(s,e,t,i){if(i==null)return null;const a=s.length+t*2,o=Math.floor(e*Ek),c=a/e,h=(i.width||o)*c,f=(i.height||o)*c,p=i.x==null?s.length/2-h/2:i.x*c,_=i.y==null?s.length/2-f/2:i.y*c,g=i.opacity==null?1:i.opacity;let v=null;if(i.excavate){let T=Math.floor(p),S=Math.floor(_),w=Math.ceil(h+p-T),A=Math.ceil(f+_-S);v={x:T,y:S,w,h:A}}const E=i.crossOrigin;return{x:p,y:_,h:f,w:h,excavation:v,opacity:g,crossOrigin:E}}function Tk(s,e){return e!=null?Math.max(Math.floor(e),0):s?yk:Sk}function qT({value:s,level:e,minVersion:t,includeMargin:i,marginSize:a,imageSettings:o,size:c,boostLevel:h}){let f=Rt.useMemo(()=>{const T=(Array.isArray(s)?s:[s]).reduce((S,w)=>(S.push(...ba.QrSegment.makeSegments(w)),S),[]);return ba.QrCode.encodeSegments(T,vk[e],t,void 0,void 0,h)},[s,e,t,h]);const{cells:p,margin:_,numCells:g,calculatedImageSettings:v}=Rt.useMemo(()=>{let E=f.getModules();const T=Tk(i,a),S=E.length+T*2,w=bk(E,c,T,o);return{cells:E,margin:T,numCells:S,calculatedImageSettings:w}},[f,c,o,i,a]);return{qrcode:f,margin:_,cells:p,numCells:g,calculatedImageSettings:v}}var Ck=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),wk=Rt.forwardRef(function(e,t){const i=e,{value:a,size:o=UT,level:c=zT,bgColor:h=jT,fgColor:f=BT,includeMargin:p=HT,minVersion:_=FT,boostLevel:g,marginSize:v,imageSettings:E}=i,S=_m(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=S,A=_m(S,["style"]),D=E?.src,N=Rt.useRef(null),H=Rt.useRef(null),L=Rt.useCallback(ue=>{N.current=ue,typeof t=="function"?t(ue):t&&(t.current=ue)},[t]),[W,Y]=Rt.useState(!1),{margin:Q,cells:V,numCells:te,calculatedImageSettings:ie}=qT({value:a,level:c,minVersion:_,boostLevel:g,includeMargin:p,marginSize:v,imageSettings:E,size:o});Rt.useEffect(()=>{if(N.current!=null){const ue=N.current,ae=ue.getContext("2d");if(!ae)return;let U=V;const G=H.current,J=ie!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;J&&ie.excavation!=null&&(U=GT(V,ie.excavation));const he=window.devicePixelRatio||1;ue.height=ue.width=o*he;const x=o/te*he;ae.scale(x,x),ae.fillStyle=h,ae.fillRect(0,0,te,te),ae.fillStyle=f,Ck?ae.fill(new Path2D(VT(U,Q))):V.forEach(function(k,$){k.forEach(function(Z,F){Z&&ae.fillRect(F+Q,$+Q,1,1)})}),ie&&(ae.globalAlpha=ie.opacity),J&&ae.drawImage(G,ie.x+Q,ie.y+Q,ie.w,ie.h)}}),Rt.useEffect(()=>{Y(!1)},[D]);const oe=mm({height:o,width:o},w);let fe=null;return D!=null&&(fe=Rt.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{Y(!0)},ref:H,crossOrigin:ie?.crossOrigin})),Rt.createElement(Rt.Fragment,null,Rt.createElement("canvas",mm({style:oe,height:o,width:o,ref:L,role:"img"},A)),fe)});wk.displayName="QRCodeCanvas";var YT=Rt.forwardRef(function(e,t){const i=e,{value:a,size:o=UT,level:c=zT,bgColor:h=jT,fgColor:f=BT,includeMargin:p=HT,minVersion:_=FT,boostLevel:g,title:v,marginSize:E,imageSettings:T}=i,S=_m(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:A,numCells:D,calculatedImageSettings:N}=qT({value:a,level:c,minVersion:_,boostLevel:g,includeMargin:p,marginSize:E,imageSettings:T,size:o});let H=A,L=null;T!=null&&N!=null&&(N.excavation!=null&&(H=GT(A,N.excavation)),L=Rt.createElement("image",{href:T.src,height:N.h,width:N.w,x:N.x+w,y:N.y+w,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const W=VT(H,w);return Rt.createElement("svg",mm({height:o,width:o,viewBox:`0 0 ${D} ${D}`,ref:t,role:"img"},S),!!v&&Rt.createElement("title",null,v),Rt.createElement("path",{fill:h,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),Rt.createElement("path",{fill:f,d:W,shapeRendering:"crispEdges"}),L)});YT.displayName="QRCodeSVG";const Rk=()=>Math.random().toString(36).substring(2,10);function xk(){const[s,e]=M.useState(null),[t,i]=M.useState(null),[a,o]=M.useState(null),[c,h]=M.useState(""),f=Wa();M.useEffect(()=>{const g=localStorage.getItem("courtId"),v=localStorage.getItem("selectedEvent");if(g&&v){e(g),i(v);const E=Rk();o(E);const T=$e(Ze,`events/${v}/courts/${g}/accessKey`);Aa(T,E).catch(S=>{console.error("Failed to store access key:",S),h("Failed to write access key to the database.")})}else h("Court or Event not found. Please return to Court Setup.")},[]);const p=[{id:"judge1",name:"Judge 1"},{id:"judge2",name:"Judge 2"},{id:"judge3",name:"Judge 3"}],_=g=>{if(!a||!t||!s)return"";const v=new URL(`${window.location.origin}/referee/login`);return v.searchParams.append("event",t),v.searchParams.append("court",s),v.searchParams.append("role",g),v.searchParams.append("key",a),v.toString()};return C.jsx("div",{className:"rr-container",children:C.jsxs("div",{className:"rr-content",children:[C.jsxs("div",{className:"rr-header",children:[C.jsx("h1",{children:"Referee Registration"}),t&&s&&C.jsxs("p",{children:["Scan the appropriate QR code to join ",C.jsx("strong",{children:t})," on ",C.jsxs("strong",{children:["Court ",s.slice(-1)]})]})]}),c&&C.jsx("p",{className:"rr-error",children:c}),!a&&!c&&C.jsx("p",{className:"rr-loading",children:"Generating session key..."}),a&&C.jsx("div",{className:"rr-qr-grid",children:p.map(g=>C.jsxs("div",{className:"rr-qr-card",children:[C.jsx("h3",{children:g.name}),C.jsx("div",{className:"rr-qr-code-wrapper",children:C.jsx(YT,{value:_(g.id),bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!0})}),C.jsxs("p",{className:"rr-role-id",children:["Role: ",g.id]})]},g.id))}),C.jsx("div",{className:"rr-button-container",children:C.jsx(De,{text:"Back to Home",fontSize:"1.5dvw",angle:0,onClick:()=>f("/")})})]})})}const Ak=()=>{const{login:s,authError:e,loading:t,user:i}=Lf();return C.jsxs("div",{className:"login-container",children:[C.jsx(jf,{speed:.5,squareSize:100,direction:"diagonal",borderColor:"hsla(270, 50%, 50%, 0.25)",hoverFillColor:"hsla(60, 50%, 50%, 0.25)"}),C.jsx("div",{className:"login-content-wrapper",children:C.jsxs("div",{className:"login-box",children:[C.jsx("h2",{children:"Login Required"}),C.jsx("p",{children:"Please log in with your authorized Google account to access this application."}),C.jsx("div",{className:"login-action-buttons",children:C.jsx(De,{text:"Login with Google",fontSize:"1.5dvw",angle:270,onClick:s})}),C.jsxs("div",{style:{marginTop:"20px",padding:"10px",border:"1px solid #ccc",background:"#f0f0f0"},children:[C.jsx("h4",{style:{margin:0,marginBottom:"10px"},children:"Debugging Info:"}),C.jsxs("p",{style:{margin:0},children:[C.jsx("strong",{children:"Loading:"})," ",t.toString()]}),C.jsxs("p",{style:{margin:0},children:[C.jsx("strong",{children:"User Email:"})," ",i?i.email:"null"]}),C.jsxs("p",{style:{margin:0},children:[C.jsx("strong",{children:"Auth Error:"})," ",e||"null"]})]}),e&&C.jsx("p",{className:"error-message",children:e})]})})]})};function Nk(){return C.jsx(kx,{basename:"/TKD-scoreboard",children:C.jsxs(VI,{children:[C.jsx(sk,{targetSelector:"input, select, .cursor-target"}),C.jsxs(fx,{children:[C.jsx(Mi,{path:"/login",element:C.jsx(Ak,{})}),C.jsx(Mi,{path:"/court-setup",element:C.jsx(ak,{})}),C.jsx(Mi,{path:"/screen",element:C.jsx(mk,{})}),C.jsx(Mi,{path:"/",element:C.jsx(Ec,{children:C.jsx(rk,{})})}),C.jsx(Mi,{path:"/controller",element:C.jsx(Ec,{children:C.jsx(lk,{})})}),C.jsx(Mi,{path:"/import",element:C.jsx(Ec,{children:C.jsx(_k,{})})}),C.jsx(Mi,{path:"/referee/register",element:C.jsx(Ec,{children:C.jsx(xk,{})})}),C.jsx(Mi,{path:"*",element:C.jsx(CS,{to:"/",replace:!0})})]})]})})}ER.createRoot(document.getElementById("root")).render(C.jsx(M.StrictMode,{children:C.jsx(Nk,{})}));
