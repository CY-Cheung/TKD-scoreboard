(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function tT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var td={exports:{}},wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function nT(){if(d0)return wa;d0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var d in a)d!=="key"&&(u[d]=a[d])}else u=a;return a=u.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:u}}return wa.Fragment=e,wa.jsx=n,wa.jsxs=n,wa}var m0;function iT(){return m0||(m0=1,td.exports=nT()),td.exports}var x=iT(),nd={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function sT(){if(_0)return ge;_0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function T(R,L,W){this.props=R,this.context=L,this.refs=S,this.updater=W||b}T.prototype.isReactComponent={},T.prototype.setState=function(R,L){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,L,"setState")},T.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=T.prototype;function D(R,L,W){this.props=R,this.context=L,this.refs=S,this.updater=W||b}var N=D.prototype=new A;N.constructor=D,C(N,T.prototype),N.isPureReactComponent=!0;var Y=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function Q(R,L,W,$,ee,re){return W=re.ref,{$$typeof:r,type:R,key:L,ref:W!==void 0?W:null,props:re}}function G(R,L){return Q(R.type,L,void 0,void 0,void 0,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function te(R){var L={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return L[W]})}var ne=/\/+/g;function oe(R,L){return typeof R=="object"&&R!==null&&R.key!=null?te(""+R.key):L.toString(36)}function ce(){}function fe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ce,ce):(R.status="pending",R.then(function(L){R.status==="pending"&&(R.status="fulfilled",R.value=L)},function(L){R.status==="pending"&&(R.status="rejected",R.reason=L)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function le(R,L,W,$,ee){var re=typeof R;(re==="undefined"||re==="boolean")&&(R=null);var ie=!1;if(R===null)ie=!0;else switch(re){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(R.$$typeof){case r:case e:ie=!0;break;case p:return ie=R._init,le(ie(R._payload),L,W,$,ee)}}if(ie)return ee=ee(R),ie=$===""?"."+oe(R,0):$,Y(ee)?(W="",ie!=null&&(W=ie.replace(ne,"$&/")+"/"),le(ee,L,W,"",function(Xt){return Xt})):ee!=null&&(F(ee)&&(ee=G(ee,W+(ee.key==null||R&&R.key===ee.key?"":(""+ee.key).replace(ne,"$&/")+"/")+ie)),L.push(ee)),1;ie=0;var Fe=$===""?".":$+":";if(Y(R))for(var De=0;De<R.length;De++)$=R[De],re=Fe+oe($,De),ie+=le($,L,W,re,ee);else if(De=v(R),typeof De=="function")for(R=De.call(R),De=0;!($=R.next()).done;)$=$.value,re=Fe+oe($,De++),ie+=le($,L,W,re,ee);else if(re==="object"){if(typeof R.then=="function")return le(fe(R),L,W,$,ee);throw L=String(R),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ie}function U(R,L,W){if(R==null)return R;var $=[],ee=0;return le(R,$,"","",function(re){return L.call(W,re,ee++)}),$}function V(R){if(R._status===-1){var L=R._result;L=L(),L.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=L)}if(R._status===1)return R._result.default;throw R._result}var B=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ae(){}return ge.Children={map:U,forEach:function(R,L,W){U(R,function(){L.apply(this,arguments)},W)},count:function(R){var L=0;return U(R,function(){L++}),L},toArray:function(R){return U(R,function(L){return L})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ge.Component=T,ge.Fragment=n,ge.Profiler=a,ge.PureComponent=D,ge.StrictMode=s,ge.Suspense=h,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ge.__COMPILER_RUNTIME={__proto__:null,c:function(R){return z.H.useMemoCache(R)}},ge.cache=function(R){return function(){return R.apply(null,arguments)}},ge.cloneElement=function(R,L,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var $=C({},R.props),ee=R.key,re=void 0;if(L!=null)for(ie in L.ref!==void 0&&(re=void 0),L.key!==void 0&&(ee=""+L.key),L)!K.call(L,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&L.ref===void 0||($[ie]=L[ie]);var ie=arguments.length-2;if(ie===1)$.children=W;else if(1<ie){for(var Fe=Array(ie),De=0;De<ie;De++)Fe[De]=arguments[De+2];$.children=Fe}return Q(R.type,ee,void 0,void 0,re,$)},ge.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},ge.createElement=function(R,L,W){var $,ee={},re=null;if(L!=null)for($ in L.key!==void 0&&(re=""+L.key),L)K.call(L,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ee[$]=L[$]);var ie=arguments.length-2;if(ie===1)ee.children=W;else if(1<ie){for(var Fe=Array(ie),De=0;De<ie;De++)Fe[De]=arguments[De+2];ee.children=Fe}if(R&&R.defaultProps)for($ in ie=R.defaultProps,ie)ee[$]===void 0&&(ee[$]=ie[$]);return Q(R,re,void 0,void 0,null,ee)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(R){return{$$typeof:d,render:R}},ge.isValidElement=F,ge.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:V}},ge.memo=function(R,L){return{$$typeof:m,type:R,compare:L===void 0?null:L}},ge.startTransition=function(R){var L=z.T,W={};z.T=W;try{var $=R(),ee=z.S;ee!==null&&ee(W,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ae,B)}catch(re){B(re)}finally{z.T=L}},ge.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ge.use=function(R){return z.H.use(R)},ge.useActionState=function(R,L,W){return z.H.useActionState(R,L,W)},ge.useCallback=function(R,L){return z.H.useCallback(R,L)},ge.useContext=function(R){return z.H.useContext(R)},ge.useDebugValue=function(){},ge.useDeferredValue=function(R,L){return z.H.useDeferredValue(R,L)},ge.useEffect=function(R,L,W){var $=z.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(R,L)},ge.useId=function(){return z.H.useId()},ge.useImperativeHandle=function(R,L,W){return z.H.useImperativeHandle(R,L,W)},ge.useInsertionEffect=function(R,L){return z.H.useInsertionEffect(R,L)},ge.useLayoutEffect=function(R,L){return z.H.useLayoutEffect(R,L)},ge.useMemo=function(R,L){return z.H.useMemo(R,L)},ge.useOptimistic=function(R,L){return z.H.useOptimistic(R,L)},ge.useReducer=function(R,L,W){return z.H.useReducer(R,L,W)},ge.useRef=function(R){return z.H.useRef(R)},ge.useState=function(R){return z.H.useState(R)},ge.useSyncExternalStore=function(R,L,W){return z.H.useSyncExternalStore(R,L,W)},ge.useTransition=function(){return z.H.useTransition()},ge.version="19.1.1",ge}var p0;function mm(){return p0||(p0=1,nd.exports=sT()),nd.exports}var O=mm();const Tt=tT(O);var id={exports:{}},Ra={},sd={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function rT(){return g0||(g0=1,function(r){function e(U,V){var B=U.length;U.push(V);e:for(;0<B;){var ae=B-1>>>1,R=U[ae];if(0<a(R,V))U[ae]=V,U[B]=R,B=ae;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var V=U[0],B=U.pop();if(B!==V){U[0]=B;e:for(var ae=0,R=U.length,L=R>>>1;ae<L;){var W=2*(ae+1)-1,$=U[W],ee=W+1,re=U[ee];if(0>a($,B))ee<R&&0>a(re,$)?(U[ae]=re,U[ee]=B,ae=ee):(U[ae]=$,U[W]=B,ae=W);else if(ee<R&&0>a(re,B))U[ae]=re,U[ee]=B,ae=ee;else break e}}return V}function a(U,V){var B=U.sortIndex-V.sortIndex;return B!==0?B:U.id-V.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var h=[],m=[],p=1,g=null,v=3,b=!1,C=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function Y(U){for(var V=n(m);V!==null;){if(V.callback===null)s(m);else if(V.startTime<=U)s(m),V.sortIndex=V.expirationTime,e(h,V);else break;V=n(m)}}function z(U){if(S=!1,Y(U),!C)if(n(h)!==null)C=!0,K||(K=!0,oe());else{var V=n(m);V!==null&&le(z,V.startTime-U)}}var K=!1,Q=-1,G=5,F=-1;function te(){return T?!0:!(r.unstable_now()-F<G)}function ne(){if(T=!1,K){var U=r.unstable_now();F=U;var V=!0;try{e:{C=!1,S&&(S=!1,D(Q),Q=-1),b=!0;var B=v;try{t:{for(Y(U),g=n(h);g!==null&&!(g.expirationTime>U&&te());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,v=g.priorityLevel;var R=ae(g.expirationTime<=U);if(U=r.unstable_now(),typeof R=="function"){g.callback=R,Y(U),V=!0;break t}g===n(h)&&s(h),Y(U)}else s(h);g=n(h)}if(g!==null)V=!0;else{var L=n(m);L!==null&&le(z,L.startTime-U),V=!1}}break e}finally{g=null,v=B,b=!1}V=void 0}}finally{V?oe():K=!1}}}var oe;if(typeof N=="function")oe=function(){N(ne)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,fe=ce.port2;ce.port1.onmessage=ne,oe=function(){fe.postMessage(null)}}else oe=function(){A(ne,0)};function le(U,V){Q=A(function(){U(r.unstable_now())},V)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(U){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var B=v;v=V;try{return U()}finally{v=B}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var B=v;v=U;try{return V()}finally{v=B}},r.unstable_scheduleCallback=function(U,V,B){var ae=r.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ae+B:ae):B=ae,U){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=B+R,U={id:p++,callback:V,priorityLevel:U,startTime:B,expirationTime:R,sortIndex:-1},B>ae?(U.sortIndex=B,e(m,U),n(h)===null&&U===n(m)&&(S?(D(Q),Q=-1):S=!0,le(z,B-ae))):(U.sortIndex=R,e(h,U),C||b||(C=!0,K||(K=!0,oe()))),U},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(U){var V=v;return function(){var B=v;v=V;try{return U.apply(this,arguments)}finally{v=B}}}}(rd)),rd}var v0;function lT(){return v0||(v0=1,sd.exports=rT()),sd.exports}var ld={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function aT(){if(y0)return Ht;y0=1;var r=mm();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(h,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:m,implementation:p}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ht.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(h,m,null,p)},Ht.flushSync=function(h){var m=c.T,p=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=m,s.p=p,s.d.f()}},Ht.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Ht.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Ht.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&s.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ht.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Ht.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin);s.d.L(h,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ht.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=d(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Ht.requestFormReset=function(h){s.d.r(h)},Ht.unstable_batchedUpdates=function(h,m){return h(m)},Ht.useFormState=function(h,m,p){return c.H.useFormState(h,m,p)},Ht.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ht.version="19.1.1",Ht}var S0;function oT(){if(S0)return ld.exports;S0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ld.exports=aT(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function uT(){if(b0)return Ra;b0=1;var r=lT(),e=mm(),n=oT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(s(188))}function h(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var l=t,o=i;;){var f=l.return;if(f===null)break;var _=f.alternate;if(_===null){if(o=f.return,o!==null){l=o;continue}break}if(f.child===_.child){for(_=f.child;_;){if(_===l)return d(f),t;if(_===o)return d(f),i;_=_.sibling}throw Error(s(188))}if(l.return!==o.return)l=f,o=_;else{for(var y=!1,E=f.child;E;){if(E===l){y=!0,l=f,o=_;break}if(E===o){y=!0,o=f,l=_;break}E=E.sibling}if(!y){for(E=_.child;E;){if(E===l){y=!0,l=_,o=f;break}if(E===o){y=!0,o=_,l=f;break}E=E.sibling}if(!y)throw Error(s(189))}}if(l.alternate!==o)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:i}function m(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=m(t),i!==null)return i;t=t.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),N=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function oe(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ce?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case K:return"SuspenseList";case F:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case N:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case Y:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:fe(t.type)||"Memo";case G:i=t._payload,t=t._init;try{return fe(t(i))}catch{}}return null}var le=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ae=[],R=-1;function L(t){return{current:t}}function W(t){0>R||(t.current=ae[R],ae[R]=null,R--)}function $(t,i){R++,ae[R]=t.current,t.current=i}var ee=L(null),re=L(null),ie=L(null),Fe=L(null);function De(t,i){switch($(ie,i),$(re,t),$(ee,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Hv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Hv(i),t=Yv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ee),$(ee,t)}function Xt(){W(ee),W(re),W(ie)}function pe(t){t.memoizedState!==null&&$(Fe,t);var i=ee.current,l=Yv(i,t.type);i!==l&&($(re,t),$(ee,l))}function Le(t){re.current===t&&(W(ee),W(re)),Fe.current===t&&(W(Fe),ba._currentValue=B)}var Ze=Object.prototype.hasOwnProperty,rt=r.unstable_scheduleCallback,xn=r.unstable_cancelCallback,an=r.unstable_shouldYield,on=r.unstable_requestPaint,_t=r.unstable_now,bt=r.unstable_getCurrentPriorityLevel,ft=r.unstable_ImmediatePriority,oi=r.unstable_UserBlockingPriority,zi=r.unstable_NormalPriority,Es=r.unstable_LowPriority,Eo=r.unstable_IdlePriority,Ub=r.log,jb=r.unstable_setDisableYieldValue,Nl=null,un=null;function Ii(t){if(typeof Ub=="function"&&jb(t),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Nl,t)}catch{}}var cn=Math.clz32?Math.clz32:Hb,Bb=Math.log,Pb=Math.LN2;function Hb(t){return t>>>=0,t===0?32:31-(Bb(t)/Pb|0)|0}var Co=256,To=4194304;function Cs(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xo(t,i,l){var o=t.pendingLanes;if(o===0)return 0;var f=0,_=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~_,o!==0?f=Cs(o):(y&=E,y!==0?f=Cs(y):l||(l=E&~t,l!==0&&(f=Cs(l))))):(E=o&~_,E!==0?f=Cs(E):y!==0?f=Cs(y):l||(l=o&~t,l!==0&&(f=Cs(l)))),f===0?0:i!==0&&i!==f&&(i&_)===0&&(_=f&-f,l=i&-i,_>=l||_===32&&(l&4194048)!==0)?i:f}function Ml(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Yb(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T_(){var t=Co;return Co<<=1,(Co&4194048)===0&&(Co=256),t}function x_(){var t=To;return To<<=1,(To&62914560)===0&&(To=4194304),t}function Fc(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function Ol(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fb(t,i,l,o,f,_){var y=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,j=t.hiddenUpdates;for(l=y&~l;0<l;){var q=31-cn(l),Z=1<<q;E[q]=0,w[q]=-1;var P=j[q];if(P!==null)for(j[q]=null,q=0;q<P.length;q++){var H=P[q];H!==null&&(H.lane&=-536870913)}l&=~Z}o!==0&&w_(t,o,0),_!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=_&~(y&~i))}function w_(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-cn(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|l&4194090}function R_(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var o=31-cn(l),f=1<<o;f&i|t[o]&i&&(t[o]|=i),l&=~f}}function Gc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function A_(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:a0(t.type))}function Gb(t,i){var l=V.p;try{return V.p=t,i()}finally{V.p=l}}var Ui=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Ui,Kt="__reactProps$"+Ui,fr="__reactContainer$"+Ui,qc="__reactEvents$"+Ui,Vb="__reactListeners$"+Ui,qb="__reactHandles$"+Ui,N_="__reactResources$"+Ui,Dl="__reactMarker$"+Ui;function Qc(t){delete t[Bt],delete t[Kt],delete t[qc],delete t[Vb],delete t[qb]}function hr(t){var i=t[Bt];if(i)return i;for(var l=t.parentNode;l;){if(i=l[fr]||l[Bt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=qv(t);t!==null;){if(l=t[Bt])return l;t=qv(t)}return i}t=l,l=t.parentNode}return null}function dr(t){if(t=t[Bt]||t[fr]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ll(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mr(t){var i=t[N_];return i||(i=t[N_]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[Dl]=!0}var M_=new Set,O_={};function Ts(t,i){_r(t,i),_r(t+"Capture",i)}function _r(t,i){for(O_[t]=i,t=0;t<i.length;t++)M_.add(i[t])}var Qb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),D_={},L_={};function Xb(t){return Ze.call(L_,t)?!0:Ze.call(D_,t)?!1:Qb.test(t)?L_[t]=!0:(D_[t]=!0,!1)}function wo(t,i,l){if(Xb(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function Ro(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function ui(t,i,l,o){if(o===null)t.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+o)}}var Xc,k_;function pr(t){if(Xc===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Xc=i&&i[1]||"",k_=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xc+t+k_}var Kc=!1;function Zc(t,i){if(!t||Kc)return"";Kc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var P=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){P=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){P=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=o.DetermineComponentFrameRoot(),y=_[0],E=_[1];if(y&&E){var w=y.split(`
`),j=E.split(`
`);for(f=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(o===w.length||f===j.length)for(o=w.length-1,f=j.length-1;1<=o&&0<=f&&w[o]!==j[f];)f--;for(;1<=o&&0<=f;o--,f--)if(w[o]!==j[f]){if(o!==1||f!==1)do if(o--,f--,0>f||w[o]!==j[f]){var q=`
`+w[o].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=o&&0<=f);break}}}finally{Kc=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?pr(l):""}function Kb(t){switch(t.tag){case 26:case 27:case 5:return pr(t.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return Zc(t.type,!1);case 11:return Zc(t.type.render,!1);case 1:return Zc(t.type,!0);case 31:return pr("Activity");default:return""}}function z_(t){try{var i="";do i+=Kb(t),t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I_(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zb(t){var i=I_(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,_=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(y){o=""+y,_.call(this,y)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ao(t){t._valueTracker||(t._valueTracker=Zb(t))}function U_(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),o="";return t&&(o=I_(t)?t.checked?"true":"false":t.value),t=o,t!==l?(i.setValue(t),!0):!1}function No(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wb=/[\n"\\]/g;function Rn(t){return t.replace(Wb,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Wc(t,i,l,o,f,_,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+wn(i)):t.value!==""+wn(i)&&(t.value=""+wn(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?$c(t,y,wn(i)):l!=null?$c(t,y,wn(l)):o!=null&&t.removeAttribute("value"),f==null&&_!=null&&(t.defaultChecked=!!_),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+wn(E):t.removeAttribute("name")}function j_(t,i,l,o,f,_,y,E){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.type=_),i!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||i!=null))return;l=l!=null?""+wn(l):"",i=i!=null?""+wn(i):l,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function $c(t,i,l){i==="number"&&No(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function gr(t,i,l,o){if(t=t.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<t.length;l++)f=i.hasOwnProperty("$"+t[l].value),t[l].selected!==f&&(t[l].selected=f),f&&o&&(t[l].defaultSelected=!0)}else{for(l=""+wn(l),i=null,f=0;f<t.length;f++){if(t[f].value===l){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function B_(t,i,l){if(i!=null&&(i=""+wn(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+wn(l):""}function P_(t,i,l,o){if(i==null){if(o!=null){if(l!=null)throw Error(s(92));if(le(o)){if(1<o.length)throw Error(s(93));o=o[0]}l=o}l==null&&(l=""),i=l}l=wn(i),t.defaultValue=l,o=t.textContent,o===l&&o!==""&&o!==null&&(t.value=o)}function vr(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var $b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function H_(t,i,l){var o=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,l):typeof l!="number"||l===0||$b.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function Y_(t,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&l[f]!==o&&H_(t,f,o)}else for(var _ in i)i.hasOwnProperty(_)&&H_(t,_,i[_])}function Jc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(t){return eE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ef=null;function tf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,Sr=null;function F_(t){var i=dr(t);if(i&&(t=i.stateNode)){var l=t[Kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Wc(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var o=l[i];if(o!==t&&o.form===t.form){var f=o[Kt]||null;if(!f)throw Error(s(90));Wc(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)o=l[i],o.form===t.form&&U_(o)}break e;case"textarea":B_(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&gr(t,!!l.multiple,i,!1)}}}var nf=!1;function G_(t,i,l){if(nf)return t(i,l);nf=!0;try{var o=t(i);return o}finally{if(nf=!1,(yr!==null||Sr!==null)&&(_u(),yr&&(i=yr,t=Sr,Sr=yr=null,F_(i),t)))for(i=0;i<t.length;i++)F_(t[i])}}function kl(t,i){var l=t.stateNode;if(l===null)return null;var o=l[Kt]||null;if(o===null)return null;l=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sf=!1;if(ci)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){sf=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{sf=!1}var ji=null,rf=null,Oo=null;function V_(){if(Oo)return Oo;var t,i=rf,l=i.length,o,f="value"in ji?ji.value:ji.textContent,_=f.length;for(t=0;t<l&&i[t]===f[t];t++);var y=l-t;for(o=1;o<=y&&i[l-o]===f[_-o];o++);return Oo=f.slice(t,1<o?1-o:void 0)}function Do(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Lo(){return!0}function q_(){return!1}function Zt(t){function i(l,o,f,_,y){this._reactName=l,this._targetInst=f,this.type=o,this.nativeEvent=_,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(l=t[E],this[E]=l?l(_):_[E]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Lo:q_,this.isPropagationStopped=q_,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),i}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=Zt(xs),Il=p({},xs,{view:0,detail:0}),tE=Zt(Il),lf,af,Ul,zo=p({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ul&&(Ul&&t.type==="mousemove"?(lf=t.screenX-Ul.screenX,af=t.screenY-Ul.screenY):af=lf=0,Ul=t),lf)},movementY:function(t){return"movementY"in t?t.movementY:af}}),Q_=Zt(zo),nE=p({},zo,{dataTransfer:0}),iE=Zt(nE),sE=p({},Il,{relatedTarget:0}),of=Zt(sE),rE=p({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=Zt(rE),aE=p({},xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oE=Zt(aE),uE=p({},xs,{data:0}),X_=Zt(uE),cE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dE(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=hE[t])?!!i[t]:!1}function uf(){return dE}var mE=p({},Il,{key:function(t){if(t.key){var i=cE[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Do(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uf,charCode:function(t){return t.type==="keypress"?Do(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Do(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_E=Zt(mE),pE=p({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K_=Zt(pE),gE=p({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uf}),vE=Zt(gE),yE=p({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),SE=Zt(yE),bE=p({},zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EE=Zt(bE),CE=p({},xs,{newState:0,oldState:0}),TE=Zt(CE),xE=[9,13,27,32],cf=ci&&"CompositionEvent"in window,jl=null;ci&&"documentMode"in document&&(jl=document.documentMode);var wE=ci&&"TextEvent"in window&&!jl,Z_=ci&&(!cf||jl&&8<jl&&11>=jl),W_=" ",$_=!1;function J_(t,i){switch(t){case"keyup":return xE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function RE(t,i){switch(t){case"compositionend":return ep(i);case"keypress":return i.which!==32?null:($_=!0,W_);case"textInput":return t=i.data,t===W_&&$_?null:t;default:return null}}function AE(t,i){if(br)return t==="compositionend"||!cf&&J_(t,i)?(t=V_(),Oo=rf=ji=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Z_&&i.locale!=="ko"?null:i.data;default:return null}}var NE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!NE[t.type]:i==="textarea"}function np(t,i,l,o){yr?Sr?Sr.push(o):Sr=[o]:yr=o,i=bu(i,"onChange"),0<i.length&&(l=new ko("onChange","change",null,l,o),t.push({event:l,listeners:i}))}var Bl=null,Pl=null;function ME(t){Iv(t,0)}function Io(t){var i=Ll(t);if(U_(i))return t}function ip(t,i){if(t==="change")return i}var sp=!1;if(ci){var ff;if(ci){var hf="oninput"in document;if(!hf){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),hf=typeof rp.oninput=="function"}ff=hf}else ff=!1;sp=ff&&(!document.documentMode||9<document.documentMode)}function lp(){Bl&&(Bl.detachEvent("onpropertychange",ap),Pl=Bl=null)}function ap(t){if(t.propertyName==="value"&&Io(Pl)){var i=[];np(i,Pl,t,tf(t)),G_(ME,i)}}function OE(t,i,l){t==="focusin"?(lp(),Bl=i,Pl=l,Bl.attachEvent("onpropertychange",ap)):t==="focusout"&&lp()}function DE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(Pl)}function LE(t,i){if(t==="click")return Io(i)}function kE(t,i){if(t==="input"||t==="change")return Io(i)}function zE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var fn=typeof Object.is=="function"?Object.is:zE;function Hl(t,i){if(fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),o=Object.keys(i);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var f=l[o];if(!Ze.call(i,f)||!fn(t[f],i[f]))return!1}return!0}function op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function up(t,i){var l=op(t);t=0;for(var o;l;){if(l.nodeType===3){if(o=t+l.textContent.length,t<=i&&o>=i)return{node:l,offset:i-t};t=o}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=op(l)}}function cp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=No(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=No(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var IE=ci&&"documentMode"in document&&11>=document.documentMode,Er=null,mf=null,Yl=null,_f=!1;function hp(t,i,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_f||Er==null||Er!==No(o)||(o=Er,"selectionStart"in o&&df(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yl&&Hl(Yl,o)||(Yl=o,o=bu(mf,"onSelect"),0<o.length&&(i=new ko("onSelect","select",null,i,l),t.push({event:i,listeners:o}),i.target=Er)))}function ws(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var Cr={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},pf={},dp={};ci&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Rs(t){if(pf[t])return pf[t];if(!Cr[t])return t;var i=Cr[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in dp)return pf[t]=i[l];return t}var mp=Rs("animationend"),_p=Rs("animationiteration"),pp=Rs("animationstart"),UE=Rs("transitionrun"),jE=Rs("transitionstart"),BE=Rs("transitioncancel"),gp=Rs("transitionend"),vp=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function Pn(t,i){vp.set(t,i),Ts(i,[t])}var yp=new WeakMap;function An(t,i){if(typeof t=="object"&&t!==null){var l=yp.get(t);return l!==void 0?l:(i={value:t,source:i,stack:z_(i)},yp.set(t,i),i)}return{value:t,source:i,stack:z_(i)}}var Nn=[],Tr=0,vf=0;function Uo(){for(var t=Tr,i=vf=Tr=0;i<t;){var l=Nn[i];Nn[i++]=null;var o=Nn[i];Nn[i++]=null;var f=Nn[i];Nn[i++]=null;var _=Nn[i];if(Nn[i++]=null,o!==null&&f!==null){var y=o.pending;y===null?f.next=f:(f.next=y.next,y.next=f),o.pending=f}_!==0&&Sp(l,f,_)}}function jo(t,i,l,o){Nn[Tr++]=t,Nn[Tr++]=i,Nn[Tr++]=l,Nn[Tr++]=o,vf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function yf(t,i,l,o){return jo(t,i,l,o),Bo(t)}function xr(t,i){return jo(t,null,null,i),Bo(t)}function Sp(t,i,l){t.lanes|=l;var o=t.alternate;o!==null&&(o.lanes|=l);for(var f=!1,_=t.return;_!==null;)_.childLanes|=l,o=_.alternate,o!==null&&(o.childLanes|=l),_.tag===22&&(t=_.stateNode,t===null||t._visibility&1||(f=!0)),t=_,_=_.return;return t.tag===3?(_=t.stateNode,f&&i!==null&&(f=31-cn(l),t=_.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=l|536870912),_):null}function Bo(t){if(50<da)throw da=0,xh=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wr={};function PE(t,i,l,o){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,i,l,o){return new PE(t,i,l,o)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,i){var l=t.alternate;return l===null?(l=hn(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function bp(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Po(t,i,l,o,f,_){var y=0;if(o=t,typeof t=="function")Sf(t)&&(y=1);else if(typeof t=="string")y=YC(t,l,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case F:return t=hn(31,l,i,f),t.elementType=F,t.lanes=_,t;case C:return As(l.children,f,_,i);case S:y=8,f|=24;break;case T:return t=hn(12,l,i,f|2),t.elementType=T,t.lanes=_,t;case z:return t=hn(13,l,i,f),t.elementType=z,t.lanes=_,t;case K:return t=hn(19,l,i,f),t.elementType=K,t.lanes=_,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case N:y=10;break e;case D:y=9;break e;case Y:y=11;break e;case Q:y=14;break e;case G:y=16,o=null;break e}y=29,l=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=hn(y,l,i,f),i.elementType=t,i.type=o,i.lanes=_,i}function As(t,i,l,o){return t=hn(7,t,o,i),t.lanes=l,t}function bf(t,i,l){return t=hn(6,t,null,i),t.lanes=l,t}function Ef(t,i,l){return i=hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Rr=[],Ar=0,Ho=null,Yo=0,Mn=[],On=0,Ns=null,hi=1,di="";function Ms(t,i){Rr[Ar++]=Yo,Rr[Ar++]=Ho,Ho=t,Yo=i}function Ep(t,i,l){Mn[On++]=hi,Mn[On++]=di,Mn[On++]=Ns,Ns=t;var o=hi;t=di;var f=32-cn(o)-1;o&=~(1<<f),l+=1;var _=32-cn(i)+f;if(30<_){var y=f-f%5;_=(o&(1<<y)-1).toString(32),o>>=y,f-=y,hi=1<<32-cn(i)+f|l<<f|o,di=_+t}else hi=1<<_|l<<f|o,di=t}function Cf(t){t.return!==null&&(Ms(t,1),Ep(t,1,0))}function Tf(t){for(;t===Ho;)Ho=Rr[--Ar],Rr[Ar]=null,Yo=Rr[--Ar],Rr[Ar]=null;for(;t===Ns;)Ns=Mn[--On],Mn[On]=null,di=Mn[--On],Mn[On]=null,hi=Mn[--On],Mn[On]=null}var Gt=null,lt=null,Me=!1,Os=null,Zn=!1,xf=Error(s(519));function Ds(t){var i=Error(s(418,""));throw Vl(An(i,t)),xf}function Cp(t){var i=t.stateNode,l=t.type,o=t.memoizedProps;switch(i[Bt]=t,i[Kt]=o,l){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(l=0;l<_a.length;l++)Ce(_a[l],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),j_(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ao(i);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),P_(i,o.value,o.defaultValue,o.children),Ao(i)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||o.suppressHydrationWarning===!0||Pv(i.textContent,l)?(o.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),o.onScroll!=null&&Ce("scroll",i),o.onScrollEnd!=null&&Ce("scrollend",i),o.onClick!=null&&(i.onclick=Eu),i=!0):i=!1,i||Ds(t)}function Tp(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Gt=Gt.return}}function Fl(t){if(t!==Gt)return!1;if(!Me)return Tp(t),Me=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Hh(t.type,t.memoizedProps)),l=!l),l&&lt&&Ds(t),Tp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(i===0){lt=Yn(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,es(t.type)?(t=Vh,Vh=null,lt=t):lt=i):lt=Gt?Yn(t.stateNode.nextSibling):null;return!0}function Gl(){lt=Gt=null,Me=!1}function xp(){var t=Os;return t!==null&&(Jt===null?Jt=t:Jt.push.apply(Jt,t),Os=null),t}function Vl(t){Os===null?Os=[t]:Os.push(t)}var wf=L(null),Ls=null,mi=null;function Bi(t,i,l){$(wf,i._currentValue),i._currentValue=l}function _i(t){t._currentValue=wf.current,W(wf)}function Rf(t,i,l){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===l)break;t=t.return}}function Af(t,i,l,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var _=f.dependencies;if(_!==null){var y=f.child;_=_.firstContext;e:for(;_!==null;){var E=_;_=f;for(var w=0;w<i.length;w++)if(E.context===i[w]){_.lanes|=l,E=_.alternate,E!==null&&(E.lanes|=l),Rf(_.return,l,t),o||(y=null);break e}_=E.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=l,_=y.alternate,_!==null&&(_.lanes|=l),Rf(y,l,t),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function ql(t,i,l,o){t=null;for(var f=i,_=!1;f!==null;){if(!_){if((f.flags&524288)!==0)_=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=f.type;fn(f.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(f===Fe.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ba):t=[ba])}f=f.return}t!==null&&Af(i,t,l,o),i.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Ls=t,mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pt(t){return wp(Ls,t)}function Go(t,i){return Ls===null&&ks(t),wp(t,i)}function wp(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},mi===null){if(t===null)throw Error(s(308));mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else mi=mi.next=i;return l}var HE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},YE=r.unstable_scheduleCallback,FE=r.unstable_NormalPriority,Et={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new HE,data:new Map,refCount:0}}function Ql(t){t.refCount--,t.refCount===0&&YE(FE,function(){t.controller.abort()})}var Xl=null,Mf=0,Nr=0,Mr=null;function GE(t,i){if(Xl===null){var l=Xl=[];Mf=0,Nr=Dh(),Mr={status:"pending",value:void 0,then:function(o){l.push(o)}}}return Mf++,i.then(Rp,Rp),i}function Rp(){if(--Mf===0&&Xl!==null){Mr!==null&&(Mr.status="fulfilled");var t=Xl;Xl=null,Nr=0,Mr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function VE(t,i){var l=[],o={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),o}var Ap=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GE(t,i),Ap!==null&&Ap(t,i)};var zs=L(null);function Of(){var t=zs.current;return t!==null?t:Ge.pooledCache}function Vo(t,i){i===null?$(zs,zs.current):$(zs,i.pool)}function Np(){var t=Of();return t===null?null:{parent:Et._currentValue,pool:t}}var Kl=Error(s(460)),Mp=Error(s(474)),qo=Error(s(542)),Df={then:function(){}};function Op(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qo(){}function Dp(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Qo,Qo),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kp(t),t;default:if(typeof i.status=="string")i.then(Qo,Qo);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kp(t),t}throw Zl=i,Kl}}var Zl=null;function Lp(){if(Zl===null)throw Error(s(459));var t=Zl;return Zl=null,t}function kp(t){if(t===Kl||t===qo)throw Error(s(483))}var Pi=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,i,l){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ke&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=Bo(t),Sp(t,null,l),i}return jo(t,o,i,l),Bo(t)}function Wl(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,l|=o,i.lanes=l,R_(t,l)}}function zf(t,i){var l=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var f=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var y={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?f=_=y:_=_.next=y,l=l.next}while(l!==null);_===null?f=_=i:_=_.next=i}else f=_=i;l={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:_,shared:o.shared,callbacks:o.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var If=!1;function $l(){if(If){var t=Mr;if(t!==null)throw t}}function Jl(t,i,l,o){If=!1;var f=t.updateQueue;Pi=!1;var _=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var w=E,j=w.next;w.next=null,y===null?_=j:y.next=j,y=w;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==y&&(E===null?q.firstBaseUpdate=j:E.next=j,q.lastBaseUpdate=w))}if(_!==null){var Z=f.baseState;y=0,q=j=w=null,E=_;do{var P=E.lane&-536870913,H=P!==E.lane;if(H?(Re&P)===P:(o&P)===P){P!==0&&P===Nr&&(If=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var _e=t,he=E;P=i;var je=l;switch(he.tag){case 1:if(_e=he.payload,typeof _e=="function"){Z=_e.call(je,Z,P);break e}Z=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=he.payload,P=typeof _e=="function"?_e.call(je,Z,P):_e,P==null)break e;Z=p({},Z,P);break e;case 2:Pi=!0}}P=E.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[P]:H.push(P))}else H={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(j=q=H,w=Z):q=q.next=H,y|=P;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;H=E,E=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);q===null&&(w=Z),f.baseState=w,f.firstBaseUpdate=j,f.lastBaseUpdate=q,_===null&&(f.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=Z}}function zp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ip(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)zp(l[t],i)}var Or=L(null),Xo=L(0);function Up(t,i){t=Ei,$(Xo,t),$(Or,i),Ei=t|i.baseLanes}function Uf(){$(Xo,Ei),$(Or,Or.current)}function jf(){Ei=Xo.current,W(Or),W(Xo)}var Fi=0,ve=null,Ie=null,pt=null,Ko=!1,Dr=!1,Is=!1,Zo=0,ea=0,Lr=null,qE=0;function ht(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!fn(t[l],i[l]))return!1;return!0}function Pf(t,i,l,o,f,_){return Fi=_,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?Sg:bg,Is=!1,_=l(o,f),Is=!1,Dr&&(_=Bp(i,l,o,f)),jp(t),_}function jp(t){U.H=nu;var i=Ie!==null&&Ie.next!==null;if(Fi=0,pt=Ie=ve=null,Ko=!1,ea=0,Lr=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Fo(t)&&(Rt=!0))}function Bp(t,i,l,o){ve=t;var f=0;do{if(Dr&&(Lr=null),ea=0,Dr=!1,25<=f)throw Error(s(301));if(f+=1,pt=Ie=null,t.updateQueue!=null){var _=t.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}U.H=JE,_=i(l,o)}while(Dr);return _}function QE(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?ta(i):i,t=t.useState()[0],(Ie!==null?Ie.memoizedState:null)!==t&&(ve.flags|=1024),i}function Hf(){var t=Zo!==0;return Zo=0,t}function Yf(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function Ff(t){if(Ko){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ko=!1}Fi=0,pt=Ie=ve=null,Dr=!1,ea=Zo=0,Lr=null}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ve.memoizedState=pt=t:pt=pt.next=t,pt}function gt(){if(Ie===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var i=pt===null?ve.memoizedState:pt.next;if(i!==null)pt=i,Ie=t;else{if(t===null)throw ve.alternate===null?Error(s(467)):Error(s(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},pt===null?ve.memoizedState=pt=t:pt=pt.next=t}return pt}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ta(t){var i=ea;return ea+=1,Lr===null&&(Lr=[]),t=Dp(Lr,t,i),i=ve,(pt===null?i.memoizedState:pt.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Sg:bg),t}function Wo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ta(t);if(t.$$typeof===N)return Pt(t)}throw Error(s(438,String(t)))}function Vf(t){var i=null,l=ve.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var o=ve.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Gf(),ve.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),o=0;o<t;o++)l[o]=te;return i.index++,l}function pi(t,i){return typeof i=="function"?i(t):i}function $o(t){var i=gt();return qf(i,Ie,t)}function qf(t,i,l){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=l;var f=t.baseQueue,_=o.pending;if(_!==null){if(f!==null){var y=f.next;f.next=_.next,_.next=y}i.baseQueue=f=_,o.pending=null}if(_=t.baseState,f===null)t.memoizedState=_;else{i=f.next;var E=y=null,w=null,j=i,q=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Re&Z)===Z:(Fi&Z)===Z){var P=j.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Nr&&(q=!0);else if((Fi&P)===P){j=j.next,P===Nr&&(q=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=Z,y=_):w=w.next=Z,ve.lanes|=P,Zi|=P;Z=j.action,Is&&l(_,Z),_=j.hasEagerState?j.eagerState:l(_,Z)}else P={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=P,y=_):w=w.next=P,ve.lanes|=Z,Zi|=Z;j=j.next}while(j!==null&&j!==i);if(w===null?y=_:w.next=E,!fn(_,t.memoizedState)&&(Rt=!0,q&&(l=Mr,l!==null)))throw l;t.memoizedState=_,t.baseState=y,t.baseQueue=w,o.lastRenderedState=_}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Qf(t){var i=gt(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var o=l.dispatch,f=l.pending,_=i.memoizedState;if(f!==null){l.pending=null;var y=f=f.next;do _=t(_,y.action),y=y.next;while(y!==f);fn(_,i.memoizedState)||(Rt=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),l.lastRenderedState=_}return[_,o]}function Pp(t,i,l){var o=ve,f=gt(),_=Me;if(_){if(l===void 0)throw Error(s(407));l=l()}else l=i();var y=!fn((Ie||f).memoizedState,l);y&&(f.memoizedState=l,Rt=!0),f=f.queue;var E=Fp.bind(null,o,f,t);if(na(2048,8,E,[t]),f.getSnapshot!==i||y||pt!==null&&pt.memoizedState.tag&1){if(o.flags|=2048,kr(9,Jo(),Yp.bind(null,o,f,l,i),null),Ge===null)throw Error(s(349));_||(Fi&124)!==0||Hp(o,i,l)}return l}function Hp(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=ve.updateQueue,i===null?(i=Gf(),ve.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Yp(t,i,l,o){i.value=l,i.getSnapshot=o,Gp(i)&&Vp(t)}function Fp(t,i,l){return l(function(){Gp(i)&&Vp(t)})}function Gp(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!fn(t,l)}catch{return!0}}function Vp(t){var i=xr(t,2);i!==null&&gn(i,t,2)}function Xf(t){var i=Wt();if(typeof t=="function"){var l=t;if(t=l(),Is){Ii(!0);try{l()}finally{Ii(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:t},i}function qp(t,i,l,o){return t.baseState=l,qf(t,Ie,typeof o=="function"?o:pi)}function XE(t,i,l,o,f){if(tu(t))throw Error(s(485));if(t=i.action,t!==null){var _={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){_.listeners.push(y)}};U.T!==null?l(!0):_.isTransition=!1,o(_),l=i.pending,l===null?(_.next=i.pending=_,Qp(i,_)):(_.next=l.next,i.pending=l.next=_)}}function Qp(t,i){var l=i.action,o=i.payload,f=t.state;if(i.isTransition){var _=U.T,y={};U.T=y;try{var E=l(f,o),w=U.S;w!==null&&w(y,E),Xp(t,i,E)}catch(j){Kf(t,i,j)}finally{U.T=_}}else try{_=l(f,o),Xp(t,i,_)}catch(j){Kf(t,i,j)}}function Xp(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){Kp(t,i,o)},function(o){return Kf(t,i,o)}):Kp(t,i,l)}function Kp(t,i,l){i.status="fulfilled",i.value=l,Zp(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,Qp(t,l)))}function Kf(t,i,l){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=l,Zp(i),i=i.next;while(i!==o)}t.action=null}function Zp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Wp(t,i){return i}function $p(t,i){if(Me){var l=Ge.formState;if(l!==null){e:{var o=ve;if(Me){if(lt){t:{for(var f=lt,_=Zn;f.nodeType!==8;){if(!_){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}_=f.data,f=_==="F!"||_==="F"?f:null}if(f){lt=Yn(f.nextSibling),o=f.data==="F!";break e}}Ds(o)}o=!1}o&&(i=l[0])}}return l=Wt(),l.memoizedState=l.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wp,lastRenderedState:i},l.queue=o,l=gg.bind(null,ve,o),o.dispatch=l,o=Xf(!1),_=eh.bind(null,ve,!1,o.queue),o=Wt(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,l=XE.bind(null,ve,f,_,l),f.dispatch=l,o.memoizedState=t,[i,l,!1]}function Jp(t){var i=gt();return eg(i,Ie,t)}function eg(t,i,l){if(i=qf(t,i,Wp)[0],t=$o(pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ta(i)}catch(y){throw y===Kl?qo:y}else o=i;i=gt();var f=i.queue,_=f.dispatch;return l!==i.memoizedState&&(ve.flags|=2048,kr(9,Jo(),KE.bind(null,f,l),null)),[o,_,t]}function KE(t,i){t.action=i}function tg(t){var i=gt(),l=Ie;if(l!==null)return eg(i,l,t);gt(),i=i.memoizedState,l=gt();var o=l.queue.dispatch;return l.memoizedState=t,[i,o,!1]}function kr(t,i,l,o){return t={tag:t,create:l,deps:o,inst:i,next:null},i=ve.updateQueue,i===null&&(i=Gf(),ve.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(o=l.next,l.next=t,t.next=o,i.lastEffect=t),t}function Jo(){return{destroy:void 0,resource:void 0}}function ng(){return gt().memoizedState}function eu(t,i,l,o){var f=Wt();o=o===void 0?null:o,ve.flags|=t,f.memoizedState=kr(1|i,Jo(),l,o)}function na(t,i,l,o){var f=gt();o=o===void 0?null:o;var _=f.memoizedState.inst;Ie!==null&&o!==null&&Bf(o,Ie.memoizedState.deps)?f.memoizedState=kr(i,_,l,o):(ve.flags|=t,f.memoizedState=kr(1|i,_,l,o))}function ig(t,i){eu(8390656,8,t,i)}function sg(t,i){na(2048,8,t,i)}function rg(t,i){return na(4,2,t,i)}function lg(t,i){return na(4,4,t,i)}function ag(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function og(t,i,l){l=l!=null?l.concat([t]):null,na(4,4,ag.bind(null,i,t),l)}function Zf(){}function ug(t,i){var l=gt();i=i===void 0?null:i;var o=l.memoizedState;return i!==null&&Bf(i,o[1])?o[0]:(l.memoizedState=[t,i],t)}function cg(t,i){var l=gt();i=i===void 0?null:i;var o=l.memoizedState;if(i!==null&&Bf(i,o[1]))return o[0];if(o=t(),Is){Ii(!0);try{t()}finally{Ii(!1)}}return l.memoizedState=[o,i],o}function Wf(t,i,l){return l===void 0||(Fi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=l,t=dv(),ve.lanes|=t,Zi|=t,l)}function fg(t,i,l,o){return fn(l,i)?l:Or.current!==null?(t=Wf(t,l,o),fn(t,i)||(Rt=!0),t):(Fi&42)===0?(Rt=!0,t.memoizedState=l):(t=dv(),ve.lanes|=t,Zi|=t,i)}function hg(t,i,l,o,f){var _=V.p;V.p=_!==0&&8>_?_:8;var y=U.T,E={};U.T=E,eh(t,!1,i,l);try{var w=f(),j=U.S;if(j!==null&&j(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=VE(w,o);ia(t,i,q,pn(t))}else ia(t,i,o,pn(t))}catch(Z){ia(t,i,{then:function(){},status:"rejected",reason:Z},pn())}finally{V.p=_,U.T=y}}function ZE(){}function $f(t,i,l,o){if(t.tag!==5)throw Error(s(476));var f=dg(t).queue;hg(t,f,i,B,l===null?ZE:function(){return mg(t),l(o)})}function dg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:B},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function mg(t){var i=dg(t).next.queue;ia(t,i,{},pn())}function Jf(){return Pt(ba)}function _g(){return gt().memoizedState}function pg(){return gt().memoizedState}function WE(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=pn();t=Hi(l);var o=Yi(i,t,l);o!==null&&(gn(o,i,l),Wl(o,i,l)),i={cache:Nf()},t.payload=i;return}i=i.return}}function $E(t,i,l){var o=pn();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},tu(t)?vg(i,l):(l=yf(t,i,l,o),l!==null&&(gn(l,t,o),yg(l,i,o)))}function gg(t,i,l){var o=pn();ia(t,i,l,o)}function ia(t,i,l,o){var f={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(tu(t))vg(i,f);else{var _=t.alternate;if(t.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var y=i.lastRenderedState,E=_(y,l);if(f.hasEagerState=!0,f.eagerState=E,fn(E,y))return jo(t,i,f,0),Ge===null&&Uo(),!1}catch{}finally{}if(l=yf(t,i,f,o),l!==null)return gn(l,t,o),yg(l,i,o),!0}return!1}function eh(t,i,l,o){if(o={lane:2,revertLane:Dh(),action:o,hasEagerState:!1,eagerState:null,next:null},tu(t)){if(i)throw Error(s(479))}else i=yf(t,l,o,2),i!==null&&gn(i,t,2)}function tu(t){var i=t.alternate;return t===ve||i!==null&&i===ve}function vg(t,i){Dr=Ko=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function yg(t,i,l){if((l&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,l|=o,i.lanes=l,R_(t,l)}}var nu={readContext:Pt,use:Wo,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Sg={readContext:Pt,use:Wo,useCallback:function(t,i){return Wt().memoizedState=[t,i===void 0?null:i],t},useContext:Pt,useEffect:ig,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,eu(4194308,4,ag.bind(null,i,t),l)},useLayoutEffect:function(t,i){return eu(4194308,4,t,i)},useInsertionEffect:function(t,i){eu(4,2,t,i)},useMemo:function(t,i){var l=Wt();i=i===void 0?null:i;var o=t();if(Is){Ii(!0);try{t()}finally{Ii(!1)}}return l.memoizedState=[o,i],o},useReducer:function(t,i,l){var o=Wt();if(l!==void 0){var f=l(i);if(Is){Ii(!0);try{l(i)}finally{Ii(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=$E.bind(null,ve,t),[o.memoizedState,t]},useRef:function(t){var i=Wt();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,l=gg.bind(null,ve,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:Zf,useDeferredValue:function(t,i){var l=Wt();return Wf(l,t,i)},useTransition:function(){var t=Xf(!1);return t=hg.bind(null,ve,t.queue,!0,!1),Wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var o=ve,f=Wt();if(Me){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Ge===null)throw Error(s(349));(Re&124)!==0||Hp(o,i,l)}f.memoizedState=l;var _={value:l,getSnapshot:i};return f.queue=_,ig(Fp.bind(null,o,_,t),[t]),o.flags|=2048,kr(9,Jo(),Yp.bind(null,o,_,l,i),null),l},useId:function(){var t=Wt(),i=Ge.identifierPrefix;if(Me){var l=di,o=hi;l=(o&~(1<<32-cn(o)-1)).toString(32)+l,i=""+i+"R"+l,l=Zo++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=qE++,i=""+i+"r"+l.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Jf,useFormState:$p,useActionState:$p,useOptimistic:function(t){var i=Wt();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=eh.bind(null,ve,!0,l),l.dispatch=i,[t,i]},useMemoCache:Vf,useCacheRefresh:function(){return Wt().memoizedState=WE.bind(null,ve)}},bg={readContext:Pt,use:Wo,useCallback:ug,useContext:Pt,useEffect:sg,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:lg,useMemo:cg,useReducer:$o,useRef:ng,useState:function(){return $o(pi)},useDebugValue:Zf,useDeferredValue:function(t,i){var l=gt();return fg(l,Ie.memoizedState,t,i)},useTransition:function(){var t=$o(pi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:ta(t),i]},useSyncExternalStore:Pp,useId:_g,useHostTransitionStatus:Jf,useFormState:Jp,useActionState:Jp,useOptimistic:function(t,i){var l=gt();return qp(l,Ie,t,i)},useMemoCache:Vf,useCacheRefresh:pg},JE={readContext:Pt,use:Wo,useCallback:ug,useContext:Pt,useEffect:sg,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:lg,useMemo:cg,useReducer:Qf,useRef:ng,useState:function(){return Qf(pi)},useDebugValue:Zf,useDeferredValue:function(t,i){var l=gt();return Ie===null?Wf(l,t,i):fg(l,Ie.memoizedState,t,i)},useTransition:function(){var t=Qf(pi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:ta(t),i]},useSyncExternalStore:Pp,useId:_g,useHostTransitionStatus:Jf,useFormState:tg,useActionState:tg,useOptimistic:function(t,i){var l=gt();return Ie!==null?qp(l,Ie,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:pg},zr=null,sa=0;function iu(t){var i=sa;return sa+=1,zr===null&&(zr=[]),Dp(zr,t,i)}function ra(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function su(t,i){throw i.$$typeof===g?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Eg(t){var i=t._init;return i(t._payload)}function Cg(t){function i(k,M){if(t){var I=k.deletions;I===null?(k.deletions=[M],k.flags|=16):I.push(M)}}function l(k,M){if(!t)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function f(k,M){return k=fi(k,M),k.index=0,k.sibling=null,k}function _(k,M,I){return k.index=I,t?(I=k.alternate,I!==null?(I=I.index,I<M?(k.flags|=67108866,M):I):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,I,X){return M===null||M.tag!==6?(M=bf(I,k.mode,X),M.return=k,M):(M=f(M,I),M.return=k,M)}function w(k,M,I,X){var se=I.type;return se===C?q(k,M,I.props.children,X,I.key):M!==null&&(M.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===G&&Eg(se)===M.type)?(M=f(M,I.props),ra(M,I),M.return=k,M):(M=Po(I.type,I.key,I.props,null,k.mode,X),ra(M,I),M.return=k,M)}function j(k,M,I,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=Ef(I,k.mode,X),M.return=k,M):(M=f(M,I.children||[]),M.return=k,M)}function q(k,M,I,X,se){return M===null||M.tag!==7?(M=As(I,k.mode,X,se),M.return=k,M):(M=f(M,I),M.return=k,M)}function Z(k,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=bf(""+M,k.mode,I),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return I=Po(M.type,M.key,M.props,null,k.mode,I),ra(I,M),I.return=k,I;case b:return M=Ef(M,k.mode,I),M.return=k,M;case G:var X=M._init;return M=X(M._payload),Z(k,M,I)}if(le(M)||oe(M))return M=As(M,k.mode,I,null),M.return=k,M;if(typeof M.then=="function")return Z(k,iu(M),I);if(M.$$typeof===N)return Z(k,Go(k,M),I);su(k,M)}return null}function P(k,M,I,X){var se=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return se!==null?null:E(k,M,""+I,X);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return I.key===se?w(k,M,I,X):null;case b:return I.key===se?j(k,M,I,X):null;case G:return se=I._init,I=se(I._payload),P(k,M,I,X)}if(le(I)||oe(I))return se!==null?null:q(k,M,I,X,null);if(typeof I.then=="function")return P(k,M,iu(I),X);if(I.$$typeof===N)return P(k,M,Go(k,I),X);su(k,I)}return null}function H(k,M,I,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(I)||null,E(M,k,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return k=k.get(X.key===null?I:X.key)||null,w(M,k,X,se);case b:return k=k.get(X.key===null?I:X.key)||null,j(M,k,X,se);case G:var ye=X._init;return X=ye(X._payload),H(k,M,I,X,se)}if(le(X)||oe(X))return k=k.get(I)||null,q(M,k,X,se,null);if(typeof X.then=="function")return H(k,M,I,iu(X),se);if(X.$$typeof===N)return H(k,M,I,Go(M,X),se);su(M,X)}return null}function _e(k,M,I,X){for(var se=null,ye=null,ue=M,de=M=0,Nt=null;ue!==null&&de<I.length;de++){ue.index>de?(Nt=ue,ue=null):Nt=ue.sibling;var Ae=P(k,ue,I[de],X);if(Ae===null){ue===null&&(ue=Nt);break}t&&ue&&Ae.alternate===null&&i(k,ue),M=_(Ae,M,de),ye===null?se=Ae:ye.sibling=Ae,ye=Ae,ue=Nt}if(de===I.length)return l(k,ue),Me&&Ms(k,de),se;if(ue===null){for(;de<I.length;de++)ue=Z(k,I[de],X),ue!==null&&(M=_(ue,M,de),ye===null?se=ue:ye.sibling=ue,ye=ue);return Me&&Ms(k,de),se}for(ue=o(ue);de<I.length;de++)Nt=H(ue,k,de,I[de],X),Nt!==null&&(t&&Nt.alternate!==null&&ue.delete(Nt.key===null?de:Nt.key),M=_(Nt,M,de),ye===null?se=Nt:ye.sibling=Nt,ye=Nt);return t&&ue.forEach(function(rs){return i(k,rs)}),Me&&Ms(k,de),se}function he(k,M,I,X){if(I==null)throw Error(s(151));for(var se=null,ye=null,ue=M,de=M=0,Nt=null,Ae=I.next();ue!==null&&!Ae.done;de++,Ae=I.next()){ue.index>de?(Nt=ue,ue=null):Nt=ue.sibling;var rs=P(k,ue,Ae.value,X);if(rs===null){ue===null&&(ue=Nt);break}t&&ue&&rs.alternate===null&&i(k,ue),M=_(rs,M,de),ye===null?se=rs:ye.sibling=rs,ye=rs,ue=Nt}if(Ae.done)return l(k,ue),Me&&Ms(k,de),se;if(ue===null){for(;!Ae.done;de++,Ae=I.next())Ae=Z(k,Ae.value,X),Ae!==null&&(M=_(Ae,M,de),ye===null?se=Ae:ye.sibling=Ae,ye=Ae);return Me&&Ms(k,de),se}for(ue=o(ue);!Ae.done;de++,Ae=I.next())Ae=H(ue,k,de,Ae.value,X),Ae!==null&&(t&&Ae.alternate!==null&&ue.delete(Ae.key===null?de:Ae.key),M=_(Ae,M,de),ye===null?se=Ae:ye.sibling=Ae,ye=Ae);return t&&ue.forEach(function(eT){return i(k,eT)}),Me&&Ms(k,de),se}function je(k,M,I,X){if(typeof I=="object"&&I!==null&&I.type===C&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case v:e:{for(var se=I.key;M!==null;){if(M.key===se){if(se=I.type,se===C){if(M.tag===7){l(k,M.sibling),X=f(M,I.props.children),X.return=k,k=X;break e}}else if(M.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===G&&Eg(se)===M.type){l(k,M.sibling),X=f(M,I.props),ra(X,I),X.return=k,k=X;break e}l(k,M);break}else i(k,M);M=M.sibling}I.type===C?(X=As(I.props.children,k.mode,X,I.key),X.return=k,k=X):(X=Po(I.type,I.key,I.props,null,k.mode,X),ra(X,I),X.return=k,k=X)}return y(k);case b:e:{for(se=I.key;M!==null;){if(M.key===se)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){l(k,M.sibling),X=f(M,I.children||[]),X.return=k,k=X;break e}else{l(k,M);break}else i(k,M);M=M.sibling}X=Ef(I,k.mode,X),X.return=k,k=X}return y(k);case G:return se=I._init,I=se(I._payload),je(k,M,I,X)}if(le(I))return _e(k,M,I,X);if(oe(I)){if(se=oe(I),typeof se!="function")throw Error(s(150));return I=se.call(I),he(k,M,I,X)}if(typeof I.then=="function")return je(k,M,iu(I),X);if(I.$$typeof===N)return je(k,M,Go(k,I),X);su(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,M!==null&&M.tag===6?(l(k,M.sibling),X=f(M,I),X.return=k,k=X):(l(k,M),X=bf(I,k.mode,X),X.return=k,k=X),y(k)):l(k,M)}return function(k,M,I,X){try{sa=0;var se=je(k,M,I,X);return zr=null,se}catch(ue){if(ue===Kl||ue===qo)throw ue;var ye=hn(29,ue,null,k.mode);return ye.lanes=X,ye.return=k,ye}finally{}}}var Ir=Cg(!0),Tg=Cg(!1),Dn=L(null),Wn=null;function Gi(t){var i=t.alternate;$(Ct,Ct.current&1),$(Dn,t),Wn===null&&(i===null||Or.current!==null||i.memoizedState!==null)&&(Wn=t)}function xg(t){if(t.tag===22){if($(Ct,Ct.current),$(Dn,t),Wn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Wn=t)}}else Vi()}function Vi(){$(Ct,Ct.current),$(Dn,Dn.current)}function gi(t){W(Dn),Wn===t&&(Wn=null),W(Ct)}var Ct=L(0);function ru(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gh(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function th(t,i,l,o){i=t.memoizedState,l=l(o,i),l=l==null?i:p({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var nh={enqueueSetState:function(t,i,l){t=t._reactInternals;var o=pn(),f=Hi(o);f.payload=i,l!=null&&(f.callback=l),i=Yi(t,f,o),i!==null&&(gn(i,t,o),Wl(i,t,o))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var o=pn(),f=Hi(o);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Yi(t,f,o),i!==null&&(gn(i,t,o),Wl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=pn(),o=Hi(l);o.tag=2,i!=null&&(o.callback=i),i=Yi(t,o,l),i!==null&&(gn(i,t,l),Wl(i,t,l))}};function wg(t,i,l,o,f,_,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,_,y):i.prototype&&i.prototype.isPureReactComponent?!Hl(l,o)||!Hl(f,_):!0}function Rg(t,i,l,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,o),i.state!==t&&nh.enqueueReplaceState(i,i.state,null)}function Us(t,i){var l=i;if("ref"in i){l={};for(var o in i)o!=="ref"&&(l[o]=i[o])}if(t=t.defaultProps){l===i&&(l=p({},l));for(var f in t)l[f]===void 0&&(l[f]=t[f])}return l}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ag(t){lu(t)}function Ng(t){console.error(t)}function Mg(t){lu(t)}function au(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Og(t,i,l){try{var o=t.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ih(t,i,l){return l=Hi(l),l.tag=3,l.payload={element:null},l.callback=function(){au(t,i)},l}function Dg(t){return t=Hi(t),t.tag=3,t}function Lg(t,i,l,o){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var _=o.value;t.payload=function(){return f(_)},t.callback=function(){Og(i,l,o)}}var y=l.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Og(i,l,o),typeof f!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function eC(t,i,l,o,f){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=l.alternate,i!==null&&ql(i,l,f,!0),l=Dn.current,l!==null){switch(l.tag){case 13:return Wn===null?Rh():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=f,o===Df?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([o]):i.add(o),Nh(t,o,f)),!1;case 22:return l.flags|=65536,o===Df?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([o]):l.add(o)),Nh(t,o,f)),!1}throw Error(s(435,l.tag))}return Nh(t,o,f),Rh(),!1}if(Me)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==xf&&(t=Error(s(422),{cause:o}),Vl(An(t,l)))):(o!==xf&&(i=Error(s(423),{cause:o}),Vl(An(i,l))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=An(o,l),f=ih(t.stateNode,o,f),zf(t,f),at!==4&&(at=2)),!1;var _=Error(s(520),{cause:o});if(_=An(_,l),ha===null?ha=[_]:ha.push(_),at!==4&&(at=2),i===null)return!0;o=An(o,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=f&-f,l.lanes|=t,t=ih(l.stateNode,o,t),zf(l,t),!1;case 1:if(i=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Wi===null||!Wi.has(_))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Dg(f),Lg(f,t,l,o),zf(l,f),!1}l=l.return}while(l!==null);return!1}var kg=Error(s(461)),Rt=!1;function Lt(t,i,l,o){i.child=t===null?Tg(i,null,l,o):Ir(i,t.child,l,o)}function zg(t,i,l,o,f){l=l.render;var _=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return ks(i),o=Pf(t,i,l,y,_,f),E=Hf(),t!==null&&!Rt?(Yf(t,i,f),vi(t,i,f)):(Me&&E&&Cf(i),i.flags|=1,Lt(t,i,o,f),i.child)}function Ig(t,i,l,o,f){if(t===null){var _=l.type;return typeof _=="function"&&!Sf(_)&&_.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=_,Ug(t,i,_,o,f)):(t=Po(l.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(_=t.child,!fh(t,f)){var y=_.memoizedProps;if(l=l.compare,l=l!==null?l:Hl,l(y,o)&&t.ref===i.ref)return vi(t,i,f)}return i.flags|=1,t=fi(_,o),t.ref=i.ref,t.return=i,i.child=t}function Ug(t,i,l,o,f){if(t!==null){var _=t.memoizedProps;if(Hl(_,o)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=o=_,fh(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,vi(t,i,f)}return sh(t,i,l,o,f)}function jg(t,i,l){var o=i.pendingProps,f=o.children,_=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=_!==null?_.baseLanes|l:l,t!==null){for(f=i.child=t.child,_=0;f!==null;)_=_|f.lanes|f.childLanes,f=f.sibling;i.childLanes=_&~o}else i.childLanes=0,i.child=null;return Bg(t,i,o,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vo(i,_!==null?_.cachePool:null),_!==null?Up(i,_):Uf(),xg(i);else return i.lanes=i.childLanes=536870912,Bg(t,i,_!==null?_.baseLanes|l:l,l)}else _!==null?(Vo(i,_.cachePool),Up(i,_),Vi(),i.memoizedState=null):(t!==null&&Vo(i,null),Uf(),Vi());return Lt(t,i,f,l),i.child}function Bg(t,i,l,o){var f=Of();return f=f===null?null:{parent:Et._currentValue,pool:f},i.memoizedState={baseLanes:l,cachePool:f},t!==null&&Vo(i,null),Uf(),xg(i),t!==null&&ql(t,i,o,!0),null}function ou(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function sh(t,i,l,o,f){return ks(i),l=Pf(t,i,l,o,void 0,f),o=Hf(),t!==null&&!Rt?(Yf(t,i,f),vi(t,i,f)):(Me&&o&&Cf(i),i.flags|=1,Lt(t,i,l,f),i.child)}function Pg(t,i,l,o,f,_){return ks(i),i.updateQueue=null,l=Bp(i,o,l,f),jp(t),o=Hf(),t!==null&&!Rt?(Yf(t,i,_),vi(t,i,_)):(Me&&o&&Cf(i),i.flags|=1,Lt(t,i,l,_),i.child)}function Hg(t,i,l,o,f){if(ks(i),i.stateNode===null){var _=wr,y=l.contextType;typeof y=="object"&&y!==null&&(_=Pt(y)),_=new l(o,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=nh,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=o,_.state=i.memoizedState,_.refs={},Lf(i),y=l.contextType,_.context=typeof y=="object"&&y!==null?Pt(y):wr,_.state=i.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(th(i,l,y,o),_.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(y=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),y!==_.state&&nh.enqueueReplaceState(_,_.state,null),Jl(i,o,_,f),$l(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){_=i.stateNode;var E=i.memoizedProps,w=Us(l,E);_.props=w;var j=_.context,q=l.contextType;y=wr,typeof q=="object"&&q!==null&&(y=Pt(q));var Z=l.getDerivedStateFromProps;q=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E||j!==y)&&Rg(i,_,o,y),Pi=!1;var P=i.memoizedState;_.state=P,Jl(i,o,_,f),$l(),j=i.memoizedState,E||P!==j||Pi?(typeof Z=="function"&&(th(i,l,Z,o),j=i.memoizedState),(w=Pi||wg(i,l,w,o,P,j,y))?(q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),_.props=o,_.state=j,_.context=y,o=w):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{_=i.stateNode,kf(t,i),y=i.memoizedProps,q=Us(l,y),_.props=q,Z=i.pendingProps,P=_.context,j=l.contextType,w=wr,typeof j=="object"&&j!==null&&(w=Pt(j)),E=l.getDerivedStateFromProps,(j=typeof E=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(y!==Z||P!==w)&&Rg(i,_,o,w),Pi=!1,P=i.memoizedState,_.state=P,Jl(i,o,_,f),$l();var H=i.memoizedState;y!==Z||P!==H||Pi||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof E=="function"&&(th(i,l,E,o),H=i.memoizedState),(q=Pi||wg(i,l,q,o,P,H,w)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(j||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(o,H,w),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(o,H,w)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),_.props=o,_.state=H,_.context=w,o=q):(typeof _.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),o=!1)}return _=o,ou(t,i),o=(i.flags&128)!==0,_||o?(_=i.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,t!==null&&o?(i.child=Ir(i,t.child,null,f),i.child=Ir(i,null,l,f)):Lt(t,i,l,f),i.memoizedState=_.state,t=i.child):t=vi(t,i,f),t}function Yg(t,i,l,o){return Gl(),i.flags|=256,Lt(t,i,l,o),i.child}var rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lh(t){return{baseLanes:t,cachePool:Np()}}function ah(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=Ln),t}function Fg(t,i,l){var o=i.pendingProps,f=!1,_=(i.flags&128)!==0,y;if((y=_)||(y=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),y&&(f=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(Me){if(f?Gi(i):Vi(),Me){var E=lt,w;if(w=E){e:{for(w=E,E=Zn;w.nodeType!==8;){if(!E){E=null;break e}if(w=Yn(w.nextSibling),w===null){E=null;break e}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:Ns!==null?{id:hi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},w=hn(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,Gt=i,lt=null,w=!0):w=!1}w||Ds(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Gh(E)?i.lanes=32:i.lanes=536870912,null;gi(i)}return E=o.children,o=o.fallback,f?(Vi(),f=i.mode,E=uu({mode:"hidden",children:E},f),o=As(o,f,l,null),E.return=i,o.return=i,E.sibling=o,i.child=E,f=i.child,f.memoizedState=lh(l),f.childLanes=ah(t,y,l),i.memoizedState=rh,o):(Gi(i),oh(i,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(_)i.flags&256?(Gi(i),i.flags&=-257,i=uh(t,i,l)):i.memoizedState!==null?(Vi(),i.child=t.child,i.flags|=128,i=null):(Vi(),f=o.fallback,E=i.mode,o=uu({mode:"visible",children:o.children},E),f=As(f,E,l,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,Ir(i,t.child,null,l),o=i.child,o.memoizedState=lh(l),o.childLanes=ah(t,y,l),i.memoizedState=rh,i=f);else if(Gi(i),Gh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(s(419)),o.stack="",o.digest=y,Vl({value:o,source:null,stack:null}),i=uh(t,i,l)}else if(Rt||ql(t,i,l,!1),y=(l&t.childLanes)!==0,Rt||y){if(y=Ge,y!==null&&(o=l&-l,o=(o&42)!==0?1:Gc(o),o=(o&(y.suspendedLanes|l))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,xr(t,o),gn(y,t,o),kg;E.data==="$?"||Rh(),i=uh(t,i,l)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=w.treeContext,lt=Yn(E.nextSibling),Gt=i,Me=!0,Os=null,Zn=!1,t!==null&&(Mn[On++]=hi,Mn[On++]=di,Mn[On++]=Ns,hi=t.id,di=t.overflow,Ns=i),i=oh(i,o.children),i.flags|=4096);return i}return f?(Vi(),f=o.fallback,E=i.mode,w=t.child,j=w.sibling,o=fi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,j!==null?f=fi(j,f):(f=As(f,E,l,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,E=t.child.memoizedState,E===null?E=lh(l):(w=E.cachePool,w!==null?(j=Et._currentValue,w=w.parent!==j?{parent:j,pool:j}:w):w=Np(),E={baseLanes:E.baseLanes|l,cachePool:w}),f.memoizedState=E,f.childLanes=ah(t,y,l),i.memoizedState=rh,o):(Gi(i),l=t.child,t=l.sibling,l=fi(l,{mode:"visible",children:o.children}),l.return=i,l.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=l,i.memoizedState=null,l)}function oh(t,i){return i=uu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uu(t,i){return t=hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function uh(t,i,l){return Ir(i,t.child,null,l),t=oh(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gg(t,i,l){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Rf(t.return,i,l)}function ch(t,i,l,o,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=l,_.tailMode=f)}function Vg(t,i,l){var o=i.pendingProps,f=o.revealOrder,_=o.tail;if(Lt(t,i,o.children,l),o=Ct.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,l,i);else if(t.tag===19)Gg(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch($(Ct,o),f){case"forwards":for(l=i.child,f=null;l!==null;)t=l.alternate,t!==null&&ru(t)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),ch(i,!1,f,l,_);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&ru(t)===null){i.child=f;break}t=f.sibling,f.sibling=l,l=f,f=t}ch(i,!0,l,null,_);break;case"together":ch(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function vi(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),Zi|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(ql(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,l=fi(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=fi(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function fh(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function tC(t,i,l){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),Bi(i,Et,t.memoizedState.cache),Gl();break;case 27:case 5:pe(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Gi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Fg(t,i,l):(Gi(i),t=vi(t,i,l),t!==null?t.sibling:null);Gi(i);break;case 19:var f=(t.flags&128)!==0;if(o=(l&i.childLanes)!==0,o||(ql(t,i,l,!1),o=(l&i.childLanes)!==0),f){if(o)return Vg(t,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(Ct,Ct.current),o)break;return null;case 22:case 23:return i.lanes=0,jg(t,i,l);case 24:Bi(i,Et,t.memoizedState.cache)}return vi(t,i,l)}function qg(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!fh(t,l)&&(i.flags&128)===0)return Rt=!1,tC(t,i,l);Rt=(t.flags&131072)!==0}else Rt=!1,Me&&(i.flags&1048576)!==0&&Ep(i,Yo,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")Sf(o)?(t=Us(o,t),i.tag=1,i=Hg(null,i,o,t,l)):(i.tag=0,i=sh(null,i,o,t,l));else{if(o!=null){if(f=o.$$typeof,f===Y){i.tag=11,i=zg(null,i,o,t,l);break e}else if(f===Q){i.tag=14,i=Ig(null,i,o,t,l);break e}}throw i=fe(o)||o,Error(s(306,i,""))}}return i;case 0:return sh(t,i,i.type,i.pendingProps,l);case 1:return o=i.type,f=Us(o,i.pendingProps),Hg(t,i,o,f,l);case 3:e:{if(De(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var _=i.memoizedState;f=_.element,kf(t,i),Jl(i,o,null,l);var y=i.memoizedState;if(o=y.cache,Bi(i,Et,o),o!==_.cache&&Af(i,[Et],l,!0),$l(),o=y.element,_.isDehydrated)if(_={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=Yg(t,i,o,l);break e}else if(o!==f){f=An(Error(s(424)),i),Vl(f),i=Yg(t,i,o,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Yn(t.firstChild),Gt=i,Me=!0,Os=null,Zn=!0,l=Tg(i,null,o,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gl(),o===f){i=vi(t,i,l);break e}Lt(t,i,o,l)}i=i.child}return i;case 26:return ou(t,i),t===null?(l=Zv(i.type,null,i.pendingProps,null))?i.memoizedState=l:Me||(l=i.type,t=i.pendingProps,o=Cu(ie.current).createElement(l),o[Bt]=i,o[Kt]=t,zt(o,l,t),wt(o),i.stateNode=o):i.memoizedState=Zv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return pe(i),t===null&&Me&&(o=i.stateNode=Qv(i.type,i.pendingProps,ie.current),Gt=i,Zn=!0,f=lt,es(i.type)?(Vh=f,lt=Yn(o.firstChild)):lt=f),Lt(t,i,i.pendingProps.children,l),ou(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Me&&((f=o=lt)&&(o=NC(o,i.type,i.pendingProps,Zn),o!==null?(i.stateNode=o,Gt=i,lt=Yn(o.firstChild),Zn=!1,f=!0):f=!1),f||Ds(i)),pe(i),f=i.type,_=i.pendingProps,y=t!==null?t.memoizedProps:null,o=_.children,Hh(f,_)?o=null:y!==null&&Hh(f,y)&&(i.flags|=32),i.memoizedState!==null&&(f=Pf(t,i,QE,null,null,l),ba._currentValue=f),ou(t,i),Lt(t,i,o,l),i.child;case 6:return t===null&&Me&&((t=l=lt)&&(l=MC(l,i.pendingProps,Zn),l!==null?(i.stateNode=l,Gt=i,lt=null,t=!0):t=!1),t||Ds(i)),null;case 13:return Fg(t,i,l);case 4:return De(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ir(i,null,o,l):Lt(t,i,o,l),i.child;case 11:return zg(t,i,i.type,i.pendingProps,l);case 7:return Lt(t,i,i.pendingProps,l),i.child;case 8:return Lt(t,i,i.pendingProps.children,l),i.child;case 12:return Lt(t,i,i.pendingProps.children,l),i.child;case 10:return o=i.pendingProps,Bi(i,i.type,o.value),Lt(t,i,o.children,l),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,ks(i),f=Pt(f),o=o(f),i.flags|=1,Lt(t,i,o,l),i.child;case 14:return Ig(t,i,i.type,i.pendingProps,l);case 15:return Ug(t,i,i.type,i.pendingProps,l);case 19:return Vg(t,i,l);case 31:return o=i.pendingProps,l=i.mode,o={mode:o.mode,children:o.children},t===null?(l=uu(o,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=fi(t.child,o),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return jg(t,i,l);case 24:return ks(i),o=Pt(Et),t===null?(f=Of(),f===null&&(f=Ge,_=Nf(),f.pooledCache=_,_.refCount++,_!==null&&(f.pooledCacheLanes|=l),f=_),i.memoizedState={parent:o,cache:f},Lf(i),Bi(i,Et,f)):((t.lanes&l)!==0&&(kf(t,i),Jl(i,null,null,l),$l()),f=t.memoizedState,_=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Bi(i,Et,o)):(o=_.cache,Bi(i,Et,o),o!==f.cache&&Af(i,[Et],l,!0))),Lt(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function yi(t){t.flags|=4}function Qg(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t0(i)){if(i=Dn.current,i!==null&&((Re&4194048)===Re?Wn!==null:(Re&62914560)!==Re&&(Re&536870912)===0||i!==Wn))throw Zl=Df,Mp;t.flags|=8192}}function cu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?x_():536870912,t.lanes|=i,Pr|=i)}function la(t,i){if(!Me)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function et(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,o=0;if(i)for(var f=t.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=l,i}function nC(t,i,l){var o=i.pendingProps;switch(Tf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(i),null;case 1:return et(i),null;case 3:return l=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),_i(Et),Xt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Fl(i)?yi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xp())),et(i),null;case 26:return l=i.memoizedState,t===null?(yi(i),l!==null?(et(i),Qg(i,l)):(et(i),i.flags&=-16777217)):l?l!==t.memoizedState?(yi(i),et(i),Qg(i,l)):(et(i),i.flags&=-16777217):(t.memoizedProps!==o&&yi(i),et(i),i.flags&=-16777217),null;case 27:Le(i),l=ie.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return et(i),null}t=ee.current,Fl(i)?Cp(i):(t=Qv(f,o,l),i.stateNode=t,yi(i))}return et(i),null;case 5:if(Le(i),l=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return et(i),null}if(t=ee.current,Fl(i))Cp(i);else{switch(f=Cu(ie.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(l,{is:o.is}):f.createElement(l)}}t[Bt]=i,t[Kt]=o;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(zt(t,l,o),l){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&yi(i)}}return et(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&yi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=ie.current,Fl(i)){if(t=i.stateNode,l=i.memoizedProps,o=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Bt]=i,t=!!(t.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||Pv(t.nodeValue,l)),t||Ds(i)}else t=Cu(t).createTextNode(o),t[Bt]=i,i.stateNode=t}return et(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Fl(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=i}else Gl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;et(i),f=!1}else f=xp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(gi(i),i):(gi(i),null)}if(gi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=o!==null,t=t!==null&&t.memoizedState!==null,l){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var _=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(_=o.memoizedState.cachePool.pool),_!==f&&(o.flags|=2048)}return l!==t&&l&&(i.child.flags|=8192),cu(i,i.updateQueue),et(i),null;case 4:return Xt(),t===null&&Ih(i.stateNode.containerInfo),et(i),null;case 10:return _i(i.type),et(i),null;case 19:if(W(Ct),f=i.memoizedState,f===null)return et(i),null;if(o=(i.flags&128)!==0,_=f.rendering,_===null)if(o)la(f,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(_=ru(t),_!==null){for(i.flags|=128,la(f,!1),t=_.updateQueue,i.updateQueue=t,cu(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)bp(l,t),l=l.sibling;return $(Ct,Ct.current&1|2),i.child}t=t.sibling}f.tail!==null&&_t()>du&&(i.flags|=128,o=!0,la(f,!1),i.lanes=4194304)}else{if(!o)if(t=ru(_),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,cu(i,t),la(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Me)return et(i),null}else 2*_t()-f.renderingStartTime>du&&l!==536870912&&(i.flags|=128,o=!0,la(f,!1),i.lanes=4194304);f.isBackwards?(_.sibling=i.child,i.child=_):(t=f.last,t!==null?t.sibling=_:i.child=_,f.last=_)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=_t(),i.sibling=null,t=Ct.current,$(Ct,o?t&1|2:t&1),i):(et(i),null);case 22:case 23:return gi(i),jf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(l&536870912)!==0&&(i.flags&128)===0&&(et(i),i.subtreeFlags&6&&(i.flags|=8192)):et(i),l=i.updateQueue,l!==null&&cu(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048),t!==null&&W(zs),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),_i(Et),et(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function iC(t,i){switch(Tf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return _i(Et),Xt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Le(i),null;case 13:if(gi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(Ct),null;case 4:return Xt(),null;case 10:return _i(i.type),null;case 22:case 23:return gi(i),jf(),t!==null&&W(zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return _i(Et),null;case 25:return null;default:return null}}function Xg(t,i){switch(Tf(i),i.tag){case 3:_i(Et),Xt();break;case 26:case 27:case 5:Le(i);break;case 4:Xt();break;case 13:gi(i);break;case 19:W(Ct);break;case 10:_i(i.type);break;case 22:case 23:gi(i),jf(),t!==null&&W(zs);break;case 24:_i(Et)}}function aa(t,i){try{var l=i.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&t)===t){o=void 0;var _=l.create,y=l.inst;o=_(),y.destroy=o}l=l.next}while(l!==f)}}catch(E){Pe(i,i.return,E)}}function qi(t,i,l){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var _=f.next;o=_;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,f=i;var w=l,j=E;try{j()}catch(q){Pe(f,w,q)}}}o=o.next}while(o!==_)}}catch(q){Pe(i,i.return,q)}}function Kg(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{Ip(i,l)}catch(o){Pe(t,t.return,o)}}}function Zg(t,i,l){l.props=Us(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(o){Pe(t,i,o)}}function oa(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof l=="function"?t.refCleanup=l(o):l.current=o}}catch(f){Pe(t,i,f)}}function $n(t,i){var l=t.ref,o=t.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(f){Pe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Pe(t,i,f)}else l.current=null}function Wg(t){var i=t.type,l=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break e;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(f){Pe(t,t.return,f)}}function hh(t,i,l){try{var o=t.stateNode;TC(o,t.type,l,i),o[Kt]=i}catch(f){Pe(t,t.return,f)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function dh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mh(t,i,l){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Eu));else if(o!==4&&(o===27&&es(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(mh(t,i,l),t=t.sibling;t!==null;)mh(t,i,l),t=t.sibling}function fu(t,i,l){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(o!==4&&(o===27&&es(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(fu(t,i,l),t=t.sibling;t!==null;)fu(t,i,l),t=t.sibling}function Jg(t){var i=t.stateNode,l=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);zt(i,o,l),i[Bt]=t,i[Kt]=l}catch(_){Pe(t,t.return,_)}}var Si=!1,dt=!1,_h=!1,ev=typeof WeakSet=="function"?WeakSet:Set,At=null;function sC(t,i){if(t=t.containerInfo,Bh=Nu,t=fp(t),df(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var f=o.anchorOffset,_=o.focusNode;o=o.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var y=0,E=-1,w=-1,j=0,q=0,Z=t,P=null;t:for(;;){for(var H;Z!==l||f!==0&&Z.nodeType!==3||(E=y+f),Z!==_||o!==0&&Z.nodeType!==3||(w=y+o),Z.nodeType===3&&(y+=Z.nodeValue.length),(H=Z.firstChild)!==null;)P=Z,Z=H;for(;;){if(Z===t)break t;if(P===l&&++j===f&&(E=y),P===_&&++q===o&&(w=y),(H=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=H}l=E===-1||w===-1?null:{start:E,end:w}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ph={focusedElem:t,selectionRange:l},Nu=!1,At=i;At!==null;)if(i=At,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,At=t;else for(;At!==null;){switch(i=At,_=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&_!==null){t=void 0,l=i,f=_.memoizedProps,_=_.memoizedState,o=l.stateNode;try{var _e=Us(l.type,f,l.elementType===l.type);t=o.getSnapshotBeforeUpdate(_e,_),o.__reactInternalSnapshotBeforeUpdate=t}catch(he){Pe(l,l.return,he)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)Fh(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,At=t;break}At=i.return}}function tv(t,i,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(t,l),o&4&&aa(5,l);break;case 1:if(Qi(t,l),o&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(y){Pe(l,l.return,y)}else{var f=Us(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Pe(l,l.return,y)}}o&64&&Kg(l),o&512&&oa(l,l.return);break;case 3:if(Qi(t,l),o&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Ip(t,i)}catch(y){Pe(l,l.return,y)}}break;case 27:i===null&&o&4&&Jg(l);case 26:case 5:Qi(t,l),i===null&&o&4&&Wg(l),o&512&&oa(l,l.return);break;case 12:Qi(t,l);break;case 13:Qi(t,l),o&4&&sv(t,l),o&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=dC.bind(null,l),OC(t,l))));break;case 22:if(o=l.memoizedState!==null||Si,!o){i=i!==null&&i.memoizedState!==null||dt,f=Si;var _=dt;Si=o,(dt=i)&&!_?Xi(t,l,(l.subtreeFlags&8772)!==0):Qi(t,l),Si=f,dt=_}break;case 30:break;default:Qi(t,l)}}function nv(t){var i=t.alternate;i!==null&&(t.alternate=null,nv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Qc(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var We=null,$t=!1;function bi(t,i,l){for(l=l.child;l!==null;)iv(t,i,l),l=l.sibling}function iv(t,i,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Nl,l)}catch{}switch(l.tag){case 26:dt||$n(l,i),bi(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:dt||$n(l,i);var o=We,f=$t;es(l.type)&&(We=l.stateNode,$t=!1),bi(t,i,l),ga(l.stateNode),We=o,$t=f;break;case 5:dt||$n(l,i);case 6:if(o=We,f=$t,We=null,bi(t,i,l),We=o,$t=f,We!==null)if($t)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(l.stateNode)}catch(_){Pe(l,i,_)}else try{We.removeChild(l.stateNode)}catch(_){Pe(l,i,_)}break;case 18:We!==null&&($t?(t=We,Vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),xa(t)):Vv(We,l.stateNode));break;case 4:o=We,f=$t,We=l.stateNode.containerInfo,$t=!0,bi(t,i,l),We=o,$t=f;break;case 0:case 11:case 14:case 15:dt||qi(2,l,i),dt||qi(4,l,i),bi(t,i,l);break;case 1:dt||($n(l,i),o=l.stateNode,typeof o.componentWillUnmount=="function"&&Zg(l,i,o)),bi(t,i,l);break;case 21:bi(t,i,l);break;case 22:dt=(o=dt)||l.memoizedState!==null,bi(t,i,l),dt=o;break;default:bi(t,i,l)}}function sv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xa(t)}catch(l){Pe(i,i.return,l)}}function rC(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ev),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ev),i;default:throw Error(s(435,t.tag))}}function ph(t,i){var l=rC(t);i.forEach(function(o){var f=mC.bind(null,t,o);l.has(o)||(l.add(o),o.then(f,f))})}function dn(t,i){var l=i.deletions;if(l!==null)for(var o=0;o<l.length;o++){var f=l[o],_=t,y=i,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(es(E.type)){We=E.stateNode,$t=!1;break e}break;case 5:We=E.stateNode,$t=!1;break e;case 3:case 4:We=E.stateNode.containerInfo,$t=!0;break e}E=E.return}if(We===null)throw Error(s(160));iv(_,y,f),We=null,$t=!1,_=f.alternate,_!==null&&(_.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rv(i,t),i=i.sibling}var Hn=null;function rv(t,i){var l=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),o&4&&(qi(3,t,t.return),aa(3,t),qi(5,t,t.return));break;case 1:dn(i,t),mn(t),o&512&&(dt||l===null||$n(l,l.return)),o&64&&Si&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var f=Hn;if(dn(i,t),mn(t),o&512&&(dt||l===null||$n(l,l.return)),o&4){var _=l!==null?l.memoizedState:null;if(o=t.memoizedState,l===null)if(o===null)if(t.stateNode===null){e:{o=t.type,l=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":_=f.getElementsByTagName("title")[0],(!_||_[Dl]||_[Bt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=f.createElement(o),f.head.insertBefore(_,f.querySelector("head > title"))),zt(_,o,l),_[Bt]=t,wt(_),o=_;break e;case"link":var y=Jv("link","href",f).get(o+(l.href||""));if(y){for(var E=0;E<y.length;E++)if(_=y[E],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){y.splice(E,1);break t}}_=f.createElement(o),zt(_,o,l),f.head.appendChild(_);break;case"meta":if(y=Jv("meta","content",f).get(o+(l.content||""))){for(E=0;E<y.length;E++)if(_=y[E],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){y.splice(E,1);break t}}_=f.createElement(o),zt(_,o,l),f.head.appendChild(_);break;default:throw Error(s(468,o))}_[Bt]=t,wt(_),o=_}t.stateNode=o}else e0(f,t.type,t.stateNode);else t.stateNode=$v(f,o,t.memoizedProps);else _!==o?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,o===null?e0(f,t.type,t.stateNode):$v(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&hh(t,t.memoizedProps,l.memoizedProps)}break;case 27:dn(i,t),mn(t),o&512&&(dt||l===null||$n(l,l.return)),l!==null&&o&4&&hh(t,t.memoizedProps,l.memoizedProps);break;case 5:if(dn(i,t),mn(t),o&512&&(dt||l===null||$n(l,l.return)),t.flags&32){f=t.stateNode;try{vr(f,"")}catch(H){Pe(t,t.return,H)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,hh(t,f,l!==null?l.memoizedProps:f)),o&1024&&(_h=!0);break;case 6:if(dn(i,t),mn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,l=t.stateNode;try{l.nodeValue=o}catch(H){Pe(t,t.return,H)}}break;case 3:if(wu=null,f=Hn,Hn=Tu(i.containerInfo),dn(i,t),Hn=f,mn(t),o&4&&l!==null&&l.memoizedState.isDehydrated)try{xa(i.containerInfo)}catch(H){Pe(t,t.return,H)}_h&&(_h=!1,lv(t));break;case 4:o=Hn,Hn=Tu(t.stateNode.containerInfo),dn(i,t),mn(t),Hn=o;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Eh=_t()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ph(t,o)));break;case 22:f=t.memoizedState!==null;var w=l!==null&&l.memoizedState!==null,j=Si,q=dt;if(Si=j||f,dt=q||w,dn(i,t),dt=q,Si=j,mn(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||w||Si||dt||js(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){w=l=i;try{if(_=w.stateNode,f)y=_.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var Z=w.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(H){Pe(w,w.return,H)}}}else if(i.tag===6){if(l===null){w=i;try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(H){Pe(w,w.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,ph(t,l))));break;case 19:dn(i,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ph(t,o)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var l,o=t.return;o!==null;){if($g(o)){l=o;break}o=o.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,_=dh(t);fu(t,_,f);break;case 5:var y=l.stateNode;l.flags&32&&(vr(y,""),l.flags&=-33);var E=dh(t);fu(t,E,y);break;case 3:case 4:var w=l.stateNode.containerInfo,j=dh(t);mh(t,j,w);break;default:throw Error(s(161))}}catch(q){Pe(t,t.return,q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function lv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)tv(t,i.alternate,i),i=i.sibling}function js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qi(4,i,i.return),js(i);break;case 1:$n(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Zg(i,i.return,l),js(i);break;case 27:ga(i.stateNode);case 26:case 5:$n(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}t=t.sibling}}function Xi(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,_=i,y=_.flags;switch(_.tag){case 0:case 11:case 15:Xi(f,_,l),aa(4,_);break;case 1:if(Xi(f,_,l),o=_,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Pe(o,o.return,j)}if(o=_,f=o.updateQueue,f!==null){var E=o.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)zp(w[f],E)}catch(j){Pe(o,o.return,j)}}l&&y&64&&Kg(_),oa(_,_.return);break;case 27:Jg(_);case 26:case 5:Xi(f,_,l),l&&o===null&&y&4&&Wg(_),oa(_,_.return);break;case 12:Xi(f,_,l);break;case 13:Xi(f,_,l),l&&y&4&&sv(f,_);break;case 22:_.memoizedState===null&&Xi(f,_,l),oa(_,_.return);break;case 30:break;default:Xi(f,_,l)}i=i.sibling}}function gh(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Ql(l))}function vh(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ql(t))}function Jn(t,i,l,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)av(t,i,l,o),i=i.sibling}function av(t,i,l,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,l,o),f&2048&&aa(9,i);break;case 1:Jn(t,i,l,o);break;case 3:Jn(t,i,l,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ql(t)));break;case 12:if(f&2048){Jn(t,i,l,o),t=i.stateNode;try{var _=i.memoizedProps,y=_.id,E=_.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Pe(i,i.return,w)}}else Jn(t,i,l,o);break;case 13:Jn(t,i,l,o);break;case 23:break;case 22:_=i.stateNode,y=i.alternate,i.memoizedState!==null?_._visibility&2?Jn(t,i,l,o):ua(t,i):_._visibility&2?Jn(t,i,l,o):(_._visibility|=2,Ur(t,i,l,o,(i.subtreeFlags&10256)!==0)),f&2048&&gh(y,i);break;case 24:Jn(t,i,l,o),f&2048&&vh(i.alternate,i);break;default:Jn(t,i,l,o)}}function Ur(t,i,l,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var _=t,y=i,E=l,w=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ur(_,y,E,w,f),aa(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&2?Ur(_,y,E,w,f):ua(_,y):(q._visibility|=2,Ur(_,y,E,w,f)),f&&j&2048&&gh(y.alternate,y);break;case 24:Ur(_,y,E,w,f),f&&j&2048&&vh(y.alternate,y);break;default:Ur(_,y,E,w,f)}i=i.sibling}}function ua(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,o=i,f=o.flags;switch(o.tag){case 22:ua(l,o),f&2048&&gh(o.alternate,o);break;case 24:ua(l,o),f&2048&&vh(o.alternate,o);break;default:ua(l,o)}i=i.sibling}}var ca=8192;function jr(t){if(t.subtreeFlags&ca)for(t=t.child;t!==null;)ov(t),t=t.sibling}function ov(t){switch(t.tag){case 26:jr(t),t.flags&ca&&t.memoizedState!==null&&GC(Hn,t.memoizedState,t.memoizedProps);break;case 5:jr(t);break;case 3:case 4:var i=Hn;Hn=Tu(t.stateNode.containerInfo),jr(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ca,ca=16777216,jr(t),ca=i):jr(t));break;default:jr(t)}}function uv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fa(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];At=o,fv(o,t)}uv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cv(t),t=t.sibling}function cv(t){switch(t.tag){case 0:case 11:case 15:fa(t),t.flags&2048&&qi(9,t,t.return);break;case 3:fa(t);break;case 12:fa(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,hu(t)):fa(t);break;default:fa(t)}}function hu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];At=o,fv(o,t)}uv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qi(8,i,i.return),hu(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,hu(i));break;default:hu(i)}t=t.sibling}}function fv(t,i){for(;At!==null;){var l=At;switch(l.tag){case 0:case 11:case 15:qi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ql(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,At=o;else e:for(l=t;At!==null;){o=At;var f=o.sibling,_=o.return;if(nv(o),o===l){At=null;break e}if(f!==null){f.return=_,At=f;break e}At=_}}}var lC={getCacheForType:function(t){var i=Pt(Et),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l}},aC=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ge=null,Ee=null,Re=0,ze=0,_n=null,Ki=!1,Br=!1,yh=!1,Ei=0,at=0,Zi=0,Bs=0,Sh=0,Ln=0,Pr=0,ha=null,Jt=null,bh=!1,Eh=0,du=1/0,mu=null,Wi=null,kt=0,$i=null,Hr=null,Yr=0,Ch=0,Th=null,hv=null,da=0,xh=null;function pn(){if((ke&2)!==0&&Re!==0)return Re&-Re;if(U.T!==null){var t=Nr;return t!==0?t:Dh()}return A_()}function dv(){Ln===0&&(Ln=(Re&536870912)===0||Me?T_():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Ln}function gn(t,i,l){(t===Ge&&(ze===2||ze===9)||t.cancelPendingCommit!==null)&&(Fr(t,0),Ji(t,Re,Ln,!1)),Ol(t,l),((ke&2)===0||t!==Ge)&&(t===Ge&&((ke&2)===0&&(Bs|=l),at===4&&Ji(t,Re,Ln,!1)),ei(t))}function mv(t,i,l){if((ke&6)!==0)throw Error(s(327));var o=!l&&(i&124)===0&&(i&t.expiredLanes)===0||Ml(t,i),f=o?cC(t,i):Ah(t,i,!0),_=o;do{if(f===0){Br&&!o&&Ji(t,i,0,!1);break}else{if(l=t.current.alternate,_&&!oC(l)){f=Ah(t,i,!1),_=!1;continue}if(f===2){if(_=i,t.errorRecoveryDisabledLanes&_)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var E=t;f=ha;var w=E.current.memoizedState.isDehydrated;if(w&&(Fr(E,y).flags|=256),y=Ah(E,y,!1),y!==2){if(yh&&!w){E.errorRecoveryDisabledLanes|=_,Bs|=_,f=4;break e}_=Jt,Jt=f,_!==null&&(Jt===null?Jt=_:Jt.push.apply(Jt,_))}f=y}if(_=!1,f!==2)continue}}if(f===1){Fr(t,0),Ji(t,i,0,!0);break}e:{switch(o=t,_=f,_){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ji(o,i,Ln,!Ki);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Eh+300-_t(),10<f)){if(Ji(o,i,Ln,!Ki),xo(o,0,!0)!==0)break e;o.timeoutHandle=Fv(_v.bind(null,o,l,Jt,mu,bh,i,Ln,Bs,Pr,Ki,_,2,-0,0),f);break e}_v(o,l,Jt,mu,bh,i,Ln,Bs,Pr,Ki,_,0,-0,0)}}break}while(!0);ei(t)}function _v(t,i,l,o,f,_,y,E,w,j,q,Z,P,H){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Sa={stylesheets:null,count:0,unsuspend:FC},ov(i),Z=VC(),Z!==null)){t.cancelPendingCommit=Z(Ev.bind(null,t,i,_,l,o,f,y,E,w,q,1,P,H)),Ji(t,_,y,!j);return}Ev(t,i,_,l,o,f,y,E,w)}function oC(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var f=l[o],_=f.getSnapshot;f=f.value;try{if(!fn(_(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(t,i,l,o){i&=~Sh,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var _=31-cn(f),y=1<<_;o[_]=-1,f&=~y}l!==0&&w_(t,l,i)}function _u(){return(ke&6)===0?(ma(0),!1):!0}function wh(){if(Ee!==null){if(ze===0)var t=Ee.return;else t=Ee,mi=Ls=null,Ff(t),zr=null,sa=0,t=Ee;for(;t!==null;)Xg(t.alternate,t),t=t.return;Ee=null}}function Fr(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,wC(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),wh(),Ge=t,Ee=l=fi(t.current,null),Re=i,ze=0,_n=null,Ki=!1,Br=Ml(t,i),yh=!1,Pr=Ln=Sh=Bs=Zi=at=0,Jt=ha=null,bh=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-cn(o),_=1<<f;i|=t[f],o&=~_}return Ei=i,Uo(),l}function pv(t,i){ve=null,U.H=nu,i===Kl||i===qo?(i=Lp(),ze=3):i===Mp?(i=Lp(),ze=4):ze=i===kg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Ee===null&&(at=1,au(t,An(i,t.current)))}function gv(){var t=U.H;return U.H=nu,t===null?nu:t}function vv(){var t=U.A;return U.A=lC,t}function Rh(){at=4,Ki||(Re&4194048)!==Re&&Dn.current!==null||(Br=!0),(Zi&134217727)===0&&(Bs&134217727)===0||Ge===null||Ji(Ge,Re,Ln,!1)}function Ah(t,i,l){var o=ke;ke|=2;var f=gv(),_=vv();(Ge!==t||Re!==i)&&(mu=null,Fr(t,i)),i=!1;var y=at;e:do try{if(ze!==0&&Ee!==null){var E=Ee,w=_n;switch(ze){case 8:wh(),y=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var j=ze;if(ze=0,_n=null,Gr(t,E,w,j),l&&Br){y=0;break e}break;default:j=ze,ze=0,_n=null,Gr(t,E,w,j)}}uC(),y=at;break}catch(q){pv(t,q)}while(!0);return i&&t.shellSuspendCounter++,mi=Ls=null,ke=o,U.H=f,U.A=_,Ee===null&&(Ge=null,Re=0,Uo()),y}function uC(){for(;Ee!==null;)yv(Ee)}function cC(t,i){var l=ke;ke|=2;var o=gv(),f=vv();Ge!==t||Re!==i?(mu=null,du=_t()+500,Fr(t,i)):Br=Ml(t,i);e:do try{if(ze!==0&&Ee!==null){i=Ee;var _=_n;t:switch(ze){case 1:ze=0,_n=null,Gr(t,i,_,1);break;case 2:case 9:if(Op(_)){ze=0,_n=null,Sv(i);break}i=function(){ze!==2&&ze!==9||Ge!==t||(ze=7),ei(t)},_.then(i,i);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Op(_)?(ze=0,_n=null,Sv(i)):(ze=0,_n=null,Gr(t,i,_,7));break;case 5:var y=null;switch(Ee.tag){case 26:y=Ee.memoizedState;case 5:case 27:var E=Ee;if(!y||t0(y)){ze=0,_n=null;var w=E.sibling;if(w!==null)Ee=w;else{var j=E.return;j!==null?(Ee=j,pu(j)):Ee=null}break t}}ze=0,_n=null,Gr(t,i,_,5);break;case 6:ze=0,_n=null,Gr(t,i,_,6);break;case 8:wh(),at=6;break e;default:throw Error(s(462))}}fC();break}catch(q){pv(t,q)}while(!0);return mi=Ls=null,U.H=o,U.A=f,ke=l,Ee!==null?0:(Ge=null,Re=0,Uo(),at)}function fC(){for(;Ee!==null&&!an();)yv(Ee)}function yv(t){var i=qg(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,i===null?pu(t):Ee=i}function Sv(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=Pg(l,i,i.pendingProps,i.type,void 0,Re);break;case 11:i=Pg(l,i,i.pendingProps,i.type.render,i.ref,Re);break;case 5:Ff(i);default:Xg(l,i),i=Ee=bp(i,Ei),i=qg(l,i,Ei)}t.memoizedProps=t.pendingProps,i===null?pu(t):Ee=i}function Gr(t,i,l,o){mi=Ls=null,Ff(i),zr=null,sa=0;var f=i.return;try{if(eC(t,f,i,l,Re)){at=1,au(t,An(l,t.current)),Ee=null;return}}catch(_){if(f!==null)throw Ee=f,_;at=1,au(t,An(l,t.current)),Ee=null;return}i.flags&32768?(Me||o===1?t=!0:Br||(Re&536870912)!==0?t=!1:(Ki=t=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),bv(i,t)):pu(i)}function pu(t){var i=t;do{if((i.flags&32768)!==0){bv(i,Ki);return}t=i.return;var l=nC(i.alternate,i,Ei);if(l!==null){Ee=l;return}if(i=i.sibling,i!==null){Ee=i;return}Ee=i=t}while(i!==null);at===0&&(at=5)}function bv(t,i){do{var l=iC(t.alternate,t);if(l!==null){l.flags&=32767,Ee=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){Ee=t;return}Ee=t=l}while(t!==null);at=6,Ee=null}function Ev(t,i,l,o,f,_,y,E,w){t.cancelPendingCommit=null;do gu();while(kt!==0);if((ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(_=i.lanes|i.childLanes,_|=vf,Fb(t,l,_,y,E,w),t===Ge&&(Ee=Ge=null,Re=0),Hr=i,$i=t,Yr=l,Ch=_,Th=f,hv=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_C(zi,function(){return Rv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,f=V.p,V.p=2,y=ke,ke|=4;try{sC(t,i,l)}finally{ke=y,V.p=f,U.T=o}}kt=1,Cv(),Tv(),xv()}}function Cv(){if(kt===1){kt=0;var t=$i,i=Hr,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var o=V.p;V.p=2;var f=ke;ke|=4;try{rv(i,t);var _=Ph,y=fp(t.containerInfo),E=_.focusedElem,w=_.selectionRange;if(y!==E&&E&&E.ownerDocument&&cp(E.ownerDocument.documentElement,E)){if(w!==null&&df(E)){var j=w.start,q=w.end;if(q===void 0&&(q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(q,E.value.length);else{var Z=E.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var H=P.getSelection(),_e=E.textContent.length,he=Math.min(w.start,_e),je=w.end===void 0?he:Math.min(w.end,_e);!H.extend&&he>je&&(y=je,je=he,he=y);var k=up(E,he),M=up(E,je);if(k&&M&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var I=Z.createRange();I.setStart(k.node,k.offset),H.removeAllRanges(),he>je?(H.addRange(I),H.extend(M.node,M.offset)):(I.setEnd(M.node,M.offset),H.addRange(I))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Nu=!!Bh,Ph=Bh=null}finally{ke=f,V.p=o,U.T=l}}t.current=i,kt=2}}function Tv(){if(kt===2){kt=0;var t=$i,i=Hr,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var o=V.p;V.p=2;var f=ke;ke|=4;try{tv(t,i.alternate,i)}finally{ke=f,V.p=o,U.T=l}}kt=3}}function xv(){if(kt===4||kt===3){kt=0,on();var t=$i,i=Hr,l=Yr,o=hv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Hr=$i=null,wv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Wi=null),Vc(l),i=i.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Nl,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=U.T,f=V.p,V.p=2,U.T=null;try{for(var _=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];_(E.value,{componentStack:E.stack})}}finally{U.T=i,V.p=f}}(Yr&3)!==0&&gu(),ei(t),f=t.pendingLanes,(l&4194090)!==0&&(f&42)!==0?t===xh?da++:(da=0,xh=t):da=0,ma(0)}}function wv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ql(i)))}function gu(t){return Cv(),Tv(),xv(),Rv()}function Rv(){if(kt!==5)return!1;var t=$i,i=Ch;Ch=0;var l=Vc(Yr),o=U.T,f=V.p;try{V.p=32>l?32:l,U.T=null,l=Th,Th=null;var _=$i,y=Yr;if(kt=0,Hr=$i=null,Yr=0,(ke&6)!==0)throw Error(s(331));var E=ke;if(ke|=4,cv(_.current),av(_,_.current,y,l),ke=E,ma(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Nl,_)}catch{}return!0}finally{V.p=f,U.T=o,wv(t,i)}}function Av(t,i,l){i=An(l,i),i=ih(t.stateNode,i,2),t=Yi(t,i,2),t!==null&&(Ol(t,2),ei(t))}function Pe(t,i,l){if(t.tag===3)Av(t,t,l);else for(;i!==null;){if(i.tag===3){Av(i,t,l);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Wi===null||!Wi.has(o))){t=An(l,t),l=Dg(2),o=Yi(i,l,2),o!==null&&(Lg(l,o,i,t),Ol(o,2),ei(o));break}}i=i.return}}function Nh(t,i,l){var o=t.pingCache;if(o===null){o=t.pingCache=new aC;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(l)||(yh=!0,f.add(l),t=hC.bind(null,t,i,l),i.then(t,t))}function hC(t,i,l){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ge===t&&(Re&l)===l&&(at===4||at===3&&(Re&62914560)===Re&&300>_t()-Eh?(ke&2)===0&&Fr(t,0):Sh|=l,Pr===Re&&(Pr=0)),ei(t)}function Nv(t,i){i===0&&(i=x_()),t=xr(t,i),t!==null&&(Ol(t,i),ei(t))}function dC(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),Nv(t,l)}function mC(t,i){var l=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(l=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Nv(t,l)}function _C(t,i){return rt(t,i)}var vu=null,Vr=null,Mh=!1,yu=!1,Oh=!1,Ps=0;function ei(t){t!==Vr&&t.next===null&&(Vr===null?vu=Vr=t:Vr=Vr.next=t),yu=!0,Mh||(Mh=!0,gC())}function ma(t,i){if(!Oh&&yu){Oh=!0;do for(var l=!1,o=vu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var _=0;else{var y=o.suspendedLanes,E=o.pingedLanes;_=(1<<31-cn(42|t)+1)-1,_&=f&~(y&~E),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Lv(o,_))}else _=Re,_=xo(o,o===Ge?_:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(_&3)===0||Ml(o,_)||(l=!0,Lv(o,_));o=o.next}while(l);Oh=!1}}function pC(){Mv()}function Mv(){yu=Mh=!1;var t=0;Ps!==0&&(xC()&&(t=Ps),Ps=0);for(var i=_t(),l=null,o=vu;o!==null;){var f=o.next,_=Ov(o,i);_===0?(o.next=null,l===null?vu=f:l.next=f,f===null&&(Vr=l)):(l=o,(t!==0||(_&3)!==0)&&(yu=!0)),o=f}ma(t)}function Ov(t,i){for(var l=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,_=t.pendingLanes&-62914561;0<_;){var y=31-cn(_),E=1<<y,w=f[y];w===-1?((E&l)===0||(E&o)!==0)&&(f[y]=Yb(E,i)):w<=i&&(t.expiredLanes|=E),_&=~E}if(i=Ge,l=Re,l=xo(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,l===0||t===i&&(ze===2||ze===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&xn(o),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Ml(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(o!==null&&xn(o),Vc(l)){case 2:case 8:l=oi;break;case 32:l=zi;break;case 268435456:l=Eo;break;default:l=zi}return o=Dv.bind(null,t),l=rt(l,o),t.callbackPriority=i,t.callbackNode=l,i}return o!==null&&o!==null&&xn(o),t.callbackPriority=2,t.callbackNode=null,2}function Dv(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(gu()&&t.callbackNode!==l)return null;var o=Re;return o=xo(t,t===Ge?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(mv(t,o,i),Ov(t,_t()),t.callbackNode!=null&&t.callbackNode===l?Dv.bind(null,t):null)}function Lv(t,i){if(gu())return null;mv(t,i,!0)}function gC(){RC(function(){(ke&6)!==0?rt(ft,pC):Mv()})}function Dh(){return Ps===0&&(Ps=T_()),Ps}function kv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mo(""+t)}function zv(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function vC(t,i,l,o,f){if(i==="submit"&&l&&l.stateNode===f){var _=kv((f[Kt]||null).action),y=o.submitter;y&&(i=(i=y[Kt]||null)?kv(i.formAction):y.getAttribute("formAction"),i!==null&&(_=i,y=null));var E=new ko("action","action",null,o,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var w=y?zv(f,y):new FormData(f);$f(l,{pending:!0,data:w,method:f.method,action:_},null,w)}}else typeof _=="function"&&(E.preventDefault(),w=y?zv(f,y):new FormData(f),$f(l,{pending:!0,data:w,method:f.method,action:_},_,w))},currentTarget:f}]})}}for(var Lh=0;Lh<gf.length;Lh++){var kh=gf[Lh],yC=kh.toLowerCase(),SC=kh[0].toUpperCase()+kh.slice(1);Pn(yC,"on"+SC)}Pn(mp,"onAnimationEnd"),Pn(_p,"onAnimationIteration"),Pn(pp,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(UE,"onTransitionRun"),Pn(jE,"onTransitionStart"),Pn(BE,"onTransitionCancel"),Pn(gp,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_a));function Iv(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var o=t[l],f=o.event;o=o.listeners;e:{var _=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],w=E.instance,j=E.currentTarget;if(E=E.listener,w!==_&&f.isPropagationStopped())break e;_=E,f.currentTarget=j;try{_(f)}catch(q){lu(q)}f.currentTarget=null,_=w}else for(y=0;y<o.length;y++){if(E=o[y],w=E.instance,j=E.currentTarget,E=E.listener,w!==_&&f.isPropagationStopped())break e;_=E,f.currentTarget=j;try{_(f)}catch(q){lu(q)}f.currentTarget=null,_=w}}}}function Ce(t,i){var l=i[qc];l===void 0&&(l=i[qc]=new Set);var o=t+"__bubble";l.has(o)||(Uv(i,t,2,!1),l.add(o))}function zh(t,i,l){var o=0;i&&(o|=4),Uv(l,t,o,i)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Ih(t){if(!t[Su]){t[Su]=!0,M_.forEach(function(l){l!=="selectionchange"&&(bC.has(l)||zh(l,!1,t),zh(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Su]||(i[Su]=!0,zh("selectionchange",!1,i))}}function Uv(t,i,l,o){switch(a0(i)){case 2:var f=XC;break;case 8:f=KC;break;default:f=Zh}l=f.bind(null,i,l,t),f=void 0,!sf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,l,{capture:!0,passive:f}):t.addEventListener(i,l,!0):f!==void 0?t.addEventListener(i,l,{passive:f}):t.addEventListener(i,l,!1)}function Uh(t,i,l,o,f){var _=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===f)break;if(y===4)for(y=o.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;E!==null;){if(y=hr(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){o=_=y;continue e}E=E.parentNode}}o=o.return}G_(function(){var j=_,q=tf(l),Z=[];e:{var P=vp.get(t);if(P!==void 0){var H=ko,_e=t;switch(t){case"keypress":if(Do(l)===0)break e;case"keydown":case"keyup":H=_E;break;case"focusin":_e="focus",H=of;break;case"focusout":_e="blur",H=of;break;case"beforeblur":case"afterblur":H=of;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Q_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=iE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=vE;break;case mp:case _p:case pp:H=lE;break;case gp:H=SE;break;case"scroll":case"scrollend":H=tE;break;case"wheel":H=EE;break;case"copy":case"cut":case"paste":H=oE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=K_;break;case"toggle":case"beforetoggle":H=TE}var he=(i&4)!==0,je=!he&&(t==="scroll"||t==="scrollend"),k=he?P!==null?P+"Capture":null:P;he=[];for(var M=j,I;M!==null;){var X=M;if(I=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||I===null||k===null||(X=kl(M,k),X!=null&&he.push(pa(M,X,I))),je)break;M=M.return}0<he.length&&(P=new H(P,_e,null,l,q),Z.push({event:P,listeners:he}))}}if((i&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&l!==ef&&(_e=l.relatedTarget||l.fromElement)&&(hr(_e)||_e[fr]))break e;if((H||P)&&(P=q.window===q?q:(P=q.ownerDocument)?P.defaultView||P.parentWindow:window,H?(_e=l.relatedTarget||l.toElement,H=j,_e=_e?hr(_e):null,_e!==null&&(je=u(_e),he=_e.tag,_e!==je||he!==5&&he!==27&&he!==6)&&(_e=null)):(H=null,_e=j),H!==_e)){if(he=Q_,X="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(he=K_,X="onPointerLeave",k="onPointerEnter",M="pointer"),je=H==null?P:Ll(H),I=_e==null?P:Ll(_e),P=new he(X,M+"leave",H,l,q),P.target=je,P.relatedTarget=I,X=null,hr(q)===j&&(he=new he(k,M+"enter",_e,l,q),he.target=I,he.relatedTarget=je,X=he),je=X,H&&_e)t:{for(he=H,k=_e,M=0,I=he;I;I=qr(I))M++;for(I=0,X=k;X;X=qr(X))I++;for(;0<M-I;)he=qr(he),M--;for(;0<I-M;)k=qr(k),I--;for(;M--;){if(he===k||k!==null&&he===k.alternate)break t;he=qr(he),k=qr(k)}he=null}else he=null;H!==null&&jv(Z,P,H,he,!1),_e!==null&&je!==null&&jv(Z,je,_e,he,!0)}}e:{if(P=j?Ll(j):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var se=ip;else if(tp(P))if(sp)se=kE;else{se=DE;var ye=OE}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?j&&Jc(j.elementType)&&(se=ip):se=LE;if(se&&(se=se(t,j))){np(Z,se,l,q);break e}ye&&ye(t,P,j),t==="focusout"&&j&&P.type==="number"&&j.memoizedProps.value!=null&&$c(P,"number",P.value)}switch(ye=j?Ll(j):window,t){case"focusin":(tp(ye)||ye.contentEditable==="true")&&(Er=ye,mf=j,Yl=null);break;case"focusout":Yl=mf=Er=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,hp(Z,l,q);break;case"selectionchange":if(IE)break;case"keydown":case"keyup":hp(Z,l,q)}var ue;if(cf)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else br?J_(t,l)&&(de="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(de="onCompositionStart");de&&(Z_&&l.locale!=="ko"&&(br||de!=="onCompositionStart"?de==="onCompositionEnd"&&br&&(ue=V_()):(ji=q,rf="value"in ji?ji.value:ji.textContent,br=!0)),ye=bu(j,de),0<ye.length&&(de=new X_(de,t,null,l,q),Z.push({event:de,listeners:ye}),ue?de.data=ue:(ue=ep(l),ue!==null&&(de.data=ue)))),(ue=wE?RE(t,l):AE(t,l))&&(de=bu(j,"onBeforeInput"),0<de.length&&(ye=new X_("onBeforeInput","beforeinput",null,l,q),Z.push({event:ye,listeners:de}),ye.data=ue)),vC(Z,t,j,l,q)}Iv(Z,i)})}function pa(t,i,l){return{instance:t,listener:i,currentTarget:l}}function bu(t,i){for(var l=i+"Capture",o=[];t!==null;){var f=t,_=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||_===null||(f=kl(t,l),f!=null&&o.unshift(pa(t,f,_)),f=kl(t,i),f!=null&&o.push(pa(t,f,_))),t.tag===3)return o;t=t.return}return[]}function qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jv(t,i,l,o,f){for(var _=i._reactName,y=[];l!==null&&l!==o;){var E=l,w=E.alternate,j=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||j===null||(w=j,f?(j=kl(l,_),j!=null&&y.unshift(pa(l,j,w))):f||(j=kl(l,_),j!=null&&y.push(pa(l,j,w)))),l=l.return}y.length!==0&&t.push({event:i,listeners:y})}var EC=/\r\n?/g,CC=/\u0000|\uFFFD/g;function Bv(t){return(typeof t=="string"?t:""+t).replace(EC,`
`).replace(CC,"")}function Pv(t,i){return i=Bv(i),Bv(t)===i}function Eu(){}function Ue(t,i,l,o,f,_){switch(l){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||vr(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&vr(t,""+o);break;case"className":Ro(t,"class",o);break;case"tabIndex":Ro(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ro(t,l,o);break;case"style":Y_(t,o,_);break;case"data":if(i!=="object"){Ro(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(l);break}o=Mo(""+o),t.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(i!=="input"&&Ue(t,i,"name",f.name,f,null),Ue(t,i,"formEncType",f.formEncType,f,null),Ue(t,i,"formMethod",f.formMethod,f,null),Ue(t,i,"formTarget",f.formTarget,f,null)):(Ue(t,i,"encType",f.encType,f,null),Ue(t,i,"method",f.method,f,null),Ue(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(l);break}o=Mo(""+o),t.setAttribute(l,o);break;case"onClick":o!=null&&(t.onclick=Eu);break;case"onScroll":o!=null&&Ce("scroll",t);break;case"onScrollEnd":o!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}l=Mo(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(l,""+o):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":o===!0?t.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(l,o):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(l,o):t.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(l):t.setAttribute(l,o);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),wo(t,"popover",o);break;case"xlinkActuate":ui(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ui(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ui(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ui(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ui(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ui(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ui(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ui(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ui(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wo(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Jb.get(l)||l,wo(t,l,o))}}function jh(t,i,l,o,f,_){switch(l){case"style":Y_(t,o,_);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"children":typeof o=="string"?vr(t,o):(typeof o=="number"||typeof o=="bigint")&&vr(t,""+o);break;case"onScroll":o!=null&&Ce("scroll",t);break;case"onScrollEnd":o!=null&&Ce("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Eu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!O_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),_=t[Kt]||null,_=_!=null?_[l]:null,typeof _=="function"&&t.removeEventListener(i,_,f),typeof o=="function")){typeof _!="function"&&_!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,o,f);break e}l in t?t[l]=o:o===!0?t.setAttribute(l,""):wo(t,l,o)}}}function zt(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var o=!1,f=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var y=l[_];if(y!=null)switch(_){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ue(t,i,_,y,l,null)}}f&&Ue(t,i,"srcSet",l.srcSet,l,null),o&&Ue(t,i,"src",l.src,l,null);return;case"input":Ce("invalid",t);var E=_=y=f=null,w=null,j=null;for(o in l)if(l.hasOwnProperty(o)){var q=l[o];if(q!=null)switch(o){case"name":f=q;break;case"type":y=q;break;case"checked":w=q;break;case"defaultChecked":j=q;break;case"value":_=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Ue(t,i,o,q,l,null)}}j_(t,_,E,w,j,y,f,!1),Ao(t);return;case"select":Ce("invalid",t),o=y=_=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":_=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Ue(t,i,f,E,l,null)}i=_,l=y,t.multiple=!!o,i!=null?gr(t,!!o,i,!1):l!=null&&gr(t,!!o,l,!0);return;case"textarea":Ce("invalid",t),_=f=o=null;for(y in l)if(l.hasOwnProperty(y)&&(E=l[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":f=E;break;case"children":_=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ue(t,i,y,E,l,null)}P_(t,o,f,_),Ao(t);return;case"option":for(w in l)if(l.hasOwnProperty(w)&&(o=l[w],o!=null))switch(w){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ue(t,i,w,o,l,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(o=0;o<_a.length;o++)Ce(_a[o],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in l)if(l.hasOwnProperty(j)&&(o=l[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ue(t,i,j,o,l,null)}return;default:if(Jc(i)){for(q in l)l.hasOwnProperty(q)&&(o=l[q],o!==void 0&&jh(t,i,q,o,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(o=l[E],o!=null&&Ue(t,i,E,o,l,null))}function TC(t,i,l,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,_=null,y=null,E=null,w=null,j=null,q=null;for(H in l){var Z=l[H];if(l.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=Z;default:o.hasOwnProperty(H)||Ue(t,i,H,null,o,Z)}}for(var P in o){var H=o[P];if(Z=l[P],o.hasOwnProperty(P)&&(H!=null||Z!=null))switch(P){case"type":_=H;break;case"name":f=H;break;case"checked":j=H;break;case"defaultChecked":q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Z&&Ue(t,i,P,H,o,Z)}}Wc(t,y,E,w,j,q,_,f);return;case"select":H=y=E=P=null;for(_ in l)if(w=l[_],l.hasOwnProperty(_)&&w!=null)switch(_){case"value":break;case"multiple":H=w;default:o.hasOwnProperty(_)||Ue(t,i,_,null,o,w)}for(f in o)if(_=o[f],w=l[f],o.hasOwnProperty(f)&&(_!=null||w!=null))switch(f){case"value":P=_;break;case"defaultValue":E=_;break;case"multiple":y=_;default:_!==w&&Ue(t,i,f,_,o,w)}i=E,l=y,o=H,P!=null?gr(t,!!l,P,!1):!!o!=!!l&&(i!=null?gr(t,!!l,i,!0):gr(t,!!l,l?[]:"",!1));return;case"textarea":H=P=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ue(t,i,E,null,o,f)}for(y in o)if(f=o[y],_=l[y],o.hasOwnProperty(y)&&(f!=null||_!=null))switch(y){case"value":P=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==_&&Ue(t,i,y,f,o,_)}B_(t,P,H);return;case"option":for(var _e in l)if(P=l[_e],l.hasOwnProperty(_e)&&P!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Ue(t,i,_e,null,o,P)}for(w in o)if(P=o[w],H=l[w],o.hasOwnProperty(w)&&P!==H&&(P!=null||H!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ue(t,i,w,P,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)P=l[he],l.hasOwnProperty(he)&&P!=null&&!o.hasOwnProperty(he)&&Ue(t,i,he,null,o,P);for(j in o)if(P=o[j],H=l[j],o.hasOwnProperty(j)&&P!==H&&(P!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,i));break;default:Ue(t,i,j,P,o,H)}return;default:if(Jc(i)){for(var je in l)P=l[je],l.hasOwnProperty(je)&&P!==void 0&&!o.hasOwnProperty(je)&&jh(t,i,je,void 0,o,P);for(q in o)P=o[q],H=l[q],!o.hasOwnProperty(q)||P===H||P===void 0&&H===void 0||jh(t,i,q,P,o,H);return}}for(var k in l)P=l[k],l.hasOwnProperty(k)&&P!=null&&!o.hasOwnProperty(k)&&Ue(t,i,k,null,o,P);for(Z in o)P=o[Z],H=l[Z],!o.hasOwnProperty(Z)||P===H||P==null&&H==null||Ue(t,i,Z,P,o,H)}var Bh=null,Ph=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function Hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hh(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yh=null;function xC(){var t=window.event;return t&&t.type==="popstate"?t===Yh?!1:(Yh=t,!0):(Yh=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,wC=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,RC=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(AC)}:Fv;function AC(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function Vv(t,i){var l=i,o=0,f=0;do{var _=l.nextSibling;if(t.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<o&&8>o){l=o;var y=t.ownerDocument;if(l&1&&ga(y.documentElement),l&2&&ga(y.body),l&4)for(l=y.head,ga(l),y=l.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[Dl]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}if(f===0){t.removeChild(_),xa(i);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:o=l.charCodeAt(0)-48;else o=0;l=_}while(l);xa(i)}function Fh(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fh(l),Qc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function NC(t,i,l,o){for(;t.nodeType===1;){var f=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Dl])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(_=t.getAttribute("rel"),_==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(_!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(_=t.getAttribute("src"),(_!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&_&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var _=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===_)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function MC(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Yn(t.nextSibling),t===null))return null;return t}function Gh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function OC(t,i){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")i();else{var o=function(){i(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Vh=null;function qv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}function Qv(t,i,l){switch(i=Cu(l),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ga(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Qc(t)}var kn=new Map,Xv=new Set;function Tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=V.d;V.d={f:DC,r:LC,D:kC,C:zC,L:IC,m:UC,X:BC,S:jC,M:PC};function DC(){var t=Ci.f(),i=_u();return t||i}function LC(t){var i=dr(t);i!==null&&i.tag===5&&i.type==="form"?mg(i):Ci.r(t)}var Qr=typeof document>"u"?null:document;function Kv(t,i,l){var o=Qr;if(o&&typeof i=="string"&&i){var f=Rn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Xv.has(f)||(Xv.add(f),t={rel:t,crossOrigin:l,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),zt(i,"link",t),wt(i),o.head.appendChild(i)))}}function kC(t){Ci.D(t),Kv("dns-prefetch",t,null)}function zC(t,i){Ci.C(t,i),Kv("preconnect",t,i)}function IC(t,i,l){Ci.L(t,i,l);var o=Qr;if(o&&t&&i){var f='link[rel="preload"][as="'+Rn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Rn(l.imageSizes)+'"]')):f+='[href="'+Rn(t)+'"]';var _=f;switch(i){case"style":_=Xr(t);break;case"script":_=Kr(t)}kn.has(_)||(t=p({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),kn.set(_,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(va(_))||i==="script"&&o.querySelector(ya(_))||(i=o.createElement("link"),zt(i,"link",t),wt(i),o.head.appendChild(i)))}}function UC(t,i){Ci.m(t,i);var l=Qr;if(l&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(t)+'"]',_=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Kr(t)}if(!kn.has(_)&&(t=p({rel:"modulepreload",href:t},i),kn.set(_,t),l.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ya(_)))return}o=l.createElement("link"),zt(o,"link",t),wt(o),l.head.appendChild(o)}}}function jC(t,i,l){Ci.S(t,i,l);var o=Qr;if(o&&t){var f=mr(o).hoistableStyles,_=Xr(t);i=i||"default";var y=f.get(_);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(va(_)))E.loading=5;else{t=p({rel:"stylesheet",href:t,"data-precedence":i},l),(l=kn.get(_))&&qh(t,l);var w=y=o.createElement("link");wt(w),zt(w,"link",t),w._p=new Promise(function(j,q){w.onload=j,w.onerror=q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xu(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},f.set(_,y)}}}function BC(t,i){Ci.X(t,i);var l=Qr;if(l&&t){var o=mr(l).hoistableScripts,f=Kr(t),_=o.get(f);_||(_=l.querySelector(ya(f)),_||(t=p({src:t,async:!0},i),(i=kn.get(f))&&Qh(t,i),_=l.createElement("script"),wt(_),zt(_,"link",t),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},o.set(f,_))}}function PC(t,i){Ci.M(t,i);var l=Qr;if(l&&t){var o=mr(l).hoistableScripts,f=Kr(t),_=o.get(f);_||(_=l.querySelector(ya(f)),_||(t=p({src:t,async:!0,type:"module"},i),(i=kn.get(f))&&Qh(t,i),_=l.createElement("script"),wt(_),zt(_,"link",t),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},o.set(f,_))}}function Zv(t,i,l,o){var f=(f=ie.current)?Tu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Xr(l.href),l=mr(f).hoistableStyles,o=l.get(i),o||(o={type:"style",instance:null,count:0,state:null},l.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Xr(l.href);var _=mr(f).hoistableStyles,y=_.get(t);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(t,y),(_=f.querySelector(va(t)))&&!_._p&&(y.instance=_,y.state.loading=5),kn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},kn.set(t,l),_||HC(f,t,l,y.state))),i&&o===null)throw Error(s(528,""));return y}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Kr(l),l=mr(f).hoistableScripts,o=l.get(i),o||(o={type:"script",instance:null,count:0,state:null},l.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xr(t){return'href="'+Rn(t)+'"'}function va(t){return'link[rel="stylesheet"]['+t+"]"}function Wv(t){return p({},t,{"data-precedence":t.precedence,precedence:null})}function HC(t,i,l,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),zt(i,"link",l),wt(i),t.head.appendChild(i))}function Kr(t){return'[src="'+Rn(t)+'"]'}function ya(t){return"script[async]"+t}function $v(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+Rn(l.href)+'"]');if(o)return i.instance=o,wt(o),o;var f=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),zt(o,"style",f),xu(o,l.precedence,t),i.instance=o;case"stylesheet":f=Xr(l.href);var _=t.querySelector(va(f));if(_)return i.state.loading|=4,i.instance=_,wt(_),_;o=Wv(l),(f=kn.get(f))&&qh(o,f),_=(t.ownerDocument||t).createElement("link"),wt(_);var y=_;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),zt(_,"link",o),i.state.loading|=4,xu(_,l.precedence,t),i.instance=_;case"script":return _=Kr(l.src),(f=t.querySelector(ya(_)))?(i.instance=f,wt(f),f):(o=l,(f=kn.get(_))&&(o=p({},l),Qh(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),zt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,xu(o,l.precedence,t));return i.instance}function xu(t,i,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,_=f,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)_=E;else if(_!==f)break}_?_.parentNode.insertBefore(t,_.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function qh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Qh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wu=null;function Jv(t,i,l){if(wu===null){var o=new Map,f=wu=new Map;f.set(l,o)}else f=wu,o=f.get(l),o||(o=new Map,f.set(l,o));if(o.has(t))return o;for(o.set(t,null),l=l.getElementsByTagName(t),f=0;f<l.length;f++){var _=l[f];if(!(_[Dl]||_[Bt]||t==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var y=_.getAttribute(i)||"";y=t+y;var E=o.get(y);E?E.push(_):o.set(y,[_])}}return o}function e0(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function YC(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function t0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sa=null;function FC(){}function GC(t,i,l){if(Sa===null)throw Error(s(475));var o=Sa;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Xr(l.href),_=t.querySelector(va(f));if(_){t=_._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Ru.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=_,wt(_);return}_=t.ownerDocument||t,l=Wv(l),(f=kn.get(f))&&qh(l,f),_=_.createElement("link"),wt(_);var y=_;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),zt(_,"link",l),i.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Ru.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function VC(){if(Sa===null)throw Error(s(475));var t=Sa;return t.stylesheets&&t.count===0&&Xh(t,t.stylesheets),0<t.count?function(i){var l=setTimeout(function(){if(t.stylesheets&&Xh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l)}}:null}function Ru(){if(this.count--,this.count===0){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function Xh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,i.forEach(qC,t),Au=null,Ru.call(t))}function qC(t,i){if(!(i.state.loading&4)){var l=Au.get(t);if(l)var o=l.get(null);else{l=new Map,Au.set(t,l);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<f.length;_++){var y=f[_];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(l.set(y.dataset.precedence,y),o=y)}o&&l.set(null,o)}f=i.instance,y=f.getAttribute("data-precedence"),_=l.get(y)||o,_===o&&l.set(null,f),l.set(y,f),this.count++,o=Ru.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),_?_.parentNode.insertBefore(f,_.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var ba={$$typeof:N,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function QC(t,i,l,o,f,_,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.hiddenUpdates=Fc(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=_,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function n0(t,i,l,o,f,_,y,E,w,j,q,Z){return t=new QC(t,i,l,y,E,w,j,Z),i=1,_===!0&&(i|=24),_=hn(3,null,null,i),t.current=_,_.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,_.memoizedState={element:o,isDehydrated:l,cache:i},Lf(_),t}function i0(t){return t?(t=wr,t):wr}function s0(t,i,l,o,f,_){f=i0(f),o.context===null?o.context=f:o.pendingContext=f,o=Hi(i),o.payload={element:l},_=_===void 0?null:_,_!==null&&(o.callback=_),l=Yi(t,o,i),l!==null&&(gn(l,t,i),Wl(l,t,i))}function r0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Kh(t,i){r0(t,i),(t=t.alternate)&&r0(t,i)}function l0(t){if(t.tag===13){var i=xr(t,67108864);i!==null&&gn(i,t,67108864),Kh(t,67108864)}}var Nu=!0;function XC(t,i,l,o){var f=U.T;U.T=null;var _=V.p;try{V.p=2,Zh(t,i,l,o)}finally{V.p=_,U.T=f}}function KC(t,i,l,o){var f=U.T;U.T=null;var _=V.p;try{V.p=8,Zh(t,i,l,o)}finally{V.p=_,U.T=f}}function Zh(t,i,l,o){if(Nu){var f=Wh(o);if(f===null)Uh(t,i,o,Mu,l),o0(t,o);else if(WC(f,t,i,l,o))o.stopPropagation();else if(o0(t,o),i&4&&-1<ZC.indexOf(t)){for(;f!==null;){var _=dr(f);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var y=Cs(_.pendingLanes);if(y!==0){var E=_;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-cn(y);E.entanglements[1]|=w,y&=~w}ei(_),(ke&6)===0&&(du=_t()+500,ma(0))}}break;case 13:E=xr(_,2),E!==null&&gn(E,_,2),_u(),Kh(_,2)}if(_=Wh(o),_===null&&Uh(t,i,o,Mu,l),_===f)break;f=_}f!==null&&o.stopPropagation()}else Uh(t,i,o,null,l)}}function Wh(t){return t=tf(t),$h(t)}var Mu=null;function $h(t){if(Mu=null,t=hr(t),t!==null){var i=u(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=c(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mu=t,null}function a0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case ft:return 2;case oi:return 8;case zi:case Es:return 32;case Eo:return 268435456;default:return 32}default:return 32}}var Jh=!1,ts=null,ns=null,is=null,Ea=new Map,Ca=new Map,ss=[],ZC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(t,i){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ea.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(i.pointerId)}}function Ta(t,i,l,o,f,_){return t===null||t.nativeEvent!==_?(t={blockedOn:i,domEventName:l,eventSystemFlags:o,nativeEvent:_,targetContainers:[f]},i!==null&&(i=dr(i),i!==null&&l0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function WC(t,i,l,o,f){switch(i){case"focusin":return ts=Ta(ts,t,i,l,o,f),!0;case"dragenter":return ns=Ta(ns,t,i,l,o,f),!0;case"mouseover":return is=Ta(is,t,i,l,o,f),!0;case"pointerover":var _=f.pointerId;return Ea.set(_,Ta(Ea.get(_)||null,t,i,l,o,f)),!0;case"gotpointercapture":return _=f.pointerId,Ca.set(_,Ta(Ca.get(_)||null,t,i,l,o,f)),!0}return!1}function u0(t){var i=hr(t.target);if(i!==null){var l=u(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){t.blockedOn=i,Gb(t.priority,function(){if(l.tag===13){var o=pn();o=Gc(o);var f=xr(l,o);f!==null&&gn(f,l,o),Kh(l,o)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=Wh(t.nativeEvent);if(l===null){l=t.nativeEvent;var o=new l.constructor(l.type,l);ef=o,l.target.dispatchEvent(o),ef=null}else return i=dr(l),i!==null&&l0(i),t.blockedOn=l,!1;i.shift()}return!0}function c0(t,i,l){Ou(t)&&l.delete(i)}function $C(){Jh=!1,ts!==null&&Ou(ts)&&(ts=null),ns!==null&&Ou(ns)&&(ns=null),is!==null&&Ou(is)&&(is=null),Ea.forEach(c0),Ca.forEach(c0)}function Du(t,i){t.blockedOn===i&&(t.blockedOn=null,Jh||(Jh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$C)))}var Lu=null;function f0(t){Lu!==t&&(Lu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var i=0;i<t.length;i+=3){var l=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if($h(o||l)===null)continue;break}var _=dr(l);_!==null&&(t.splice(i,3),i-=3,$f(_,{pending:!0,data:f,method:l.method,action:o},o,f))}}))}function xa(t){function i(w){return Du(w,t)}ts!==null&&Du(ts,t),ns!==null&&Du(ns,t),is!==null&&Du(is,t),Ea.forEach(i),Ca.forEach(i);for(var l=0;l<ss.length;l++){var o=ss[l];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ss.length&&(l=ss[0],l.blockedOn===null);)u0(l),l.blockedOn===null&&ss.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var f=l[o],_=l[o+1],y=f[Kt]||null;if(typeof _=="function")y||f0(l);else if(y){var E=null;if(_&&_.hasAttribute("formAction")){if(f=_,y=_[Kt]||null)E=y.formAction;else if($h(f)!==null)continue}else E=y.action;typeof E=="function"?l[o+1]=E:(l.splice(o,3),o-=3),f0(l)}}}function ed(t){this._internalRoot=t}ku.prototype.render=ed.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,o=pn();s0(l,o,t,i,null,null)},ku.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;s0(t.current,2,null,t,null,null),_u(),i[fr]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var i=A_();t={blockedOn:null,target:t,priority:i};for(var l=0;l<ss.length&&i!==0&&i<ss[l].priority;l++);ss.splice(l,0,t),l===0&&u0(t)}};var h0=e.version;if(h0!=="19.1.1")throw Error(s(527,h0,"19.1.1"));V.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=h(i),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var JC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Nl=zu.inject(JC),un=zu}catch{}}return Ra.createRoot=function(t,i){if(!a(t))throw Error(s(299));var l=!1,o="",f=Ag,_=Ng,y=Mg,E=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=n0(t,1,!1,null,null,l,o,f,_,y,E,null),t[fr]=i.current,Ih(t),new ed(i)},Ra.hydrateRoot=function(t,i,l){if(!a(t))throw Error(s(299));var o=!1,f="",_=Ag,y=Ng,E=Mg,w=null,j=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(w=l.unstable_transitionCallbacks),l.formState!==void 0&&(j=l.formState)),i=n0(t,1,!0,i,l??null,o,f,_,y,E,w,j),i.context=i0(null),l=i.current,o=pn(),o=Gc(o),f=Hi(o),f.callback=null,Yi(l,f,o),l=o,i.current.lanes=l,Ol(i,l),ei(i),t[fr]=i.current,Ih(t),new ku(i)},Ra.version="19.1.1",Ra}var E0;function cT(){if(E0)return id.exports;E0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),id.exports=uT(),id.exports}var fT=cT();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C0="popstate";function hT(r={}){function e(s,a){let{pathname:u,search:c,hash:d}=s.location;return Nd("",{pathname:u,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Va(a)}return mT(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dT(){return Math.random().toString(36).substring(2,10)}function T0(r,e){return{usr:r.state,key:r.key,idx:e}}function Nd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||s||dT()}}function Va({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function mT(r,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,c=a.history,d="POP",h=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let T=p(),A=T==null?null:T-m;m=T,h&&h({action:d,location:S.location,delta:A})}function v(T,A){d="PUSH";let D=Nd(S.location,T,A);m=p()+1;let N=T0(D,m),Y=S.createHref(D);try{c.pushState(N,"",Y)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(Y)}u&&h&&h({action:d,location:S.location,delta:1})}function b(T,A){d="REPLACE";let D=Nd(S.location,T,A);m=p();let N=T0(D,m),Y=S.createHref(D);c.replaceState(N,"",Y),u&&h&&h({action:d,location:S.location,delta:0})}function C(T){return _T(T)}let S={get action(){return d},get location(){return r(a,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(C0,g),h=T,()=>{a.removeEventListener(C0,g),h=null}},createHref(T){return e(a,T)},createURL:C,encodeLocation(T){let A=C(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:b,go(T){return c.go(T)}};return S}function _T(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Va(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function jy(r,e,n="/"){return pT(r,e,n,!1)}function pT(r,e,n,s){let a=typeof e=="string"?bl(e):e,u=Mi(a.pathname||"/",n);if(u==null)return null;let c=By(r);gT(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=AT(u);d=wT(c[h],m,s)}return d}function By(r,e=[],n=[],s=""){let a=(u,c,d)=>{let h={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};h.relativePath.startsWith("/")&&(Je(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let m=Ai([s,h.relativePath]),p=n.concat(h);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),By(u.children,e,p,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:TT(m,u.index),routesMeta:p})};return r.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))a(u,c);else for(let d of Py(u.path))a(u,c,d)}),e}function Py(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let c=Py(s.join("/")),d=[];return d.push(...c.map(h=>h===""?u:[u,h].join("/"))),a&&d.push(...c),d.map(h=>r.startsWith("/")&&h===""?"/":h)}function gT(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:xT(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vT=/^:[\w-]+$/,yT=3,ST=2,bT=1,ET=10,CT=-2,x0=r=>r==="*";function TT(r,e){let n=r.split("/"),s=n.length;return n.some(x0)&&(s+=CT),e&&(s+=ST),n.filter(a=>!x0(a)).reduce((a,u)=>a+(vT.test(u)?yT:u===""?bT:ET),s)}function xT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function wT(r,e,n=!1){let{routesMeta:s}=r,a={},u="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],m=d===s.length-1,p=u==="/"?e:e.slice(u.length)||"/",g=Xu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),v=h.route;if(!g&&m&&n&&!s[s.length-1].route.index&&(g=Xu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Ai([u,g.pathname]),pathnameBase:DT(Ai([u,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(u=Ai([u,g.pathnameBase]))}return c}function Xu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=RT(r.path,r.caseSensitive,r.end),a=e.match(n);if(!a)return null;let u=a[0],c=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((m,{paramName:p,isOptional:g},v)=>{if(p==="*"){let C=d[v]||"";c=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const b=d[v];return g&&!b?m[p]=void 0:m[p]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:r}}function RT(r,e=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function AT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Mi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function NT(r,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof r=="string"?bl(r):r;return{pathname:n?n.startsWith("/")?n:MT(n,e):e,search:LT(s),hash:kT(a)}}function MT(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ad(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OT(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _m(r){let e=OT(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function pm(r,e,n,s=!1){let a;typeof r=="string"?a=bl(r):(a={...r},Je(!a.pathname||!a.pathname.includes("?"),ad("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),ad("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),ad("#","search","hash",a)));let u=r===""||a.pathname==="",c=u?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}d=g>=0?e[g]:"/"}let h=NT(a,d),m=c&&c!=="/"&&c.endsWith("/"),p=(u||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var Ai=r=>r.join("/").replace(/\/\/+/g,"/"),DT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),LT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Hy=["POST","PUT","PATCH","DELETE"];new Set(Hy);var IT=["GET",...Hy];new Set(IT);var El=O.createContext(null);El.displayName="DataRouter";var Cc=O.createContext(null);Cc.displayName="DataRouterState";O.createContext(!1);var Yy=O.createContext({isTransitioning:!1});Yy.displayName="ViewTransition";var UT=O.createContext(new Map);UT.displayName="Fetchers";var jT=O.createContext(null);jT.displayName="Await";var Xn=O.createContext(null);Xn.displayName="Navigation";var co=O.createContext(null);co.displayName="Location";var ri=O.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var gm=O.createContext(null);gm.displayName="RouteError";function BT(r,{relative:e}={}){Je(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Xn),{hash:a,pathname:u,search:c}=fo(r,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Ai([n,u])),s.createHref({pathname:d,search:c,hash:a})}function Cl(){return O.useContext(co)!=null}function li(){return Je(Cl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(co).location}var Fy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gy(r){O.useContext(Xn).static||O.useLayoutEffect(r)}function rr(){let{isDataRoute:r}=O.useContext(ri);return r?$T():PT()}function PT(){Je(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(El),{basename:e,navigator:n}=O.useContext(Xn),{matches:s}=O.useContext(ri),{pathname:a}=li(),u=JSON.stringify(_m(s)),c=O.useRef(!1);return Gy(()=>{c.current=!0}),O.useCallback((h,m={})=>{if(Qn(c.current,Fy),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=pm(h,JSON.parse(u),a,m.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ai([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,u,a,r])}O.createContext(null);function fo(r,{relative:e}={}){let{matches:n}=O.useContext(ri),{pathname:s}=li(),a=JSON.stringify(_m(n));return O.useMemo(()=>pm(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function HT(r,e){return Vy(r,e)}function Vy(r,e,n,s){Je(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Xn),{matches:u}=O.useContext(ri),c=u[u.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let A=p&&p.path||"";qy(h,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=li(),v;if(e){let A=typeof e=="string"?bl(e):e;Je(m==="/"||A.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=g;let b=v.pathname||"/",C=b;if(m!=="/"){let A=m.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=jy(r,{pathname:C});Qn(p||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Qn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=qT(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:Ai([m,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:Ai([m,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),u,n,s);return e&&T?O.createElement(co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function YT(){let r=WT(),e=zT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,c)}var FT=O.createElement(YT,null),GT=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?O.createElement(ri.Provider,{value:this.props.routeContext},O.createElement(gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VT({routeContext:r,match:e,children:n}){let s=O.useContext(El);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ri.Provider,{value:r},n)}function qT(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let a=r,u=n?.errors;if(u!=null){let h=a.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);Je(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:g}=n,v=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||v){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let g,v=!1,b=null,C=null;n&&(g=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||FT,c&&(d<0&&p===0?(qy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):d===p&&(v=!0,C=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),T=()=>{let A;return g?A=b:v?A=C:m.route.Component?A=O.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=h,O.createElement(VT,{match:m,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?O.createElement(GT,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function vm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(r){let e=O.useContext(El);return Je(e,vm(r)),e}function XT(r){let e=O.useContext(Cc);return Je(e,vm(r)),e}function KT(r){let e=O.useContext(ri);return Je(e,vm(r)),e}function ym(r){let e=KT(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ZT(){return ym("useRouteId")}function WT(){let r=O.useContext(gm),e=XT("useRouteError"),n=ym("useRouteError");return r!==void 0?r:e.errors?.[n]}function $T(){let{router:r}=QT("useNavigate"),e=ym("useNavigate"),n=O.useRef(!1);return Gy(()=>{n.current=!0}),O.useCallback(async(a,u={})=>{Qn(n.current,Fy),n.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...u}))},[r,e])}var w0={};function qy(r,e,n){!e&&!w0[r]&&(w0[r]=!0,Qn(!1,n))}O.memo(JT);function JT({routes:r,future:e,state:n}){return Vy(r,void 0,n,e)}function Qy({to:r,replace:e,state:n,relative:s}){Je(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Xn);Qn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(ri),{pathname:c}=li(),d=rr(),h=pm(r,_m(u),c,s==="path"),m=JSON.stringify(h);return O.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:s})},[d,m,s,e,n]),null}function Ti(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ex({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Je(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:a,static:u,future:{}}),[c,a,u]);typeof n=="string"&&(n=bl(n));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:v="default"}=n,b=O.useMemo(()=>{let C=Mi(h,c);return C==null?null:{location:{pathname:C,search:m,hash:p,state:g,key:v},navigationType:s}},[c,h,m,p,g,v,s]);return Qn(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:O.createElement(Xn.Provider,{value:d},O.createElement(co.Provider,{children:e,value:b}))}function tx({children:r,location:e}){return HT(Md(r),e)}function Md(r,e=[]){let n=[];return O.Children.forEach(r,(s,a)=>{if(!O.isValidElement(s))return;let u=[...e,a];if(s.type===O.Fragment){n.push.apply(n,Md(s.props.children,u));return}Je(s.type===Ti,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Md(s.props.children,u)),n.push(c)}),n}var Hu="get",Yu="application/x-www-form-urlencoded";function Tc(r){return r!=null&&typeof r.tagName=="string"}function nx(r){return Tc(r)&&r.tagName.toLowerCase()==="button"}function ix(r){return Tc(r)&&r.tagName.toLowerCase()==="form"}function sx(r){return Tc(r)&&r.tagName.toLowerCase()==="input"}function rx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lx(r,e){return r.button===0&&(!e||e==="_self")&&!rx(r)}var Iu=null;function ax(){if(Iu===null)try{new FormData(document.createElement("form"),0),Iu=!1}catch{Iu=!0}return Iu}var ox=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(r){return r!=null&&!ox.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yu}"`),null):r}function ux(r,e){let n,s,a,u,c;if(ix(r)){let d=r.getAttribute("action");s=d?Mi(d,e):null,n=r.getAttribute("method")||Hu,a=od(r.getAttribute("enctype"))||Yu,u=new FormData(r)}else if(nx(r)||sx(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||d.getAttribute("action");if(s=h?Mi(h,e):null,n=r.getAttribute("formmethod")||d.getAttribute("method")||Hu,a=od(r.getAttribute("formenctype"))||od(d.getAttribute("enctype"))||Yu,u=new FormData(d,r),!ax()){let{name:m,type:p,value:g}=r;if(p==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,g)}}else{if(Tc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hu,s=null,a=Yu,c=r}return u&&a==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cx(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Mi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function fx(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dx(r,e,n){let s=await Promise.all(r.map(async a=>{let u=e.routes[a.route.id];if(u){let c=await fx(u,n);return c.links?c.links():[]}return[]}));return gx(s.flat(1).filter(hx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function R0(r,e,n,s,a,u){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return u==="assets"?e.filter((h,m)=>c(h,m)||d(h,m)):u==="data"?e.filter((h,m)=>{let p=s.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function mx(r,e,{includeHydrateFallback:n}={}){return _x(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function _x(r){return[...new Set(r)]}function px(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function gx(r,e){let n=new Set;return new Set(e),r.reduce((s,a)=>{let u=JSON.stringify(px(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function Xy(){let r=O.useContext(El);return Sm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vx(){let r=O.useContext(Cc);return Sm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bm=O.createContext(void 0);bm.displayName="FrameworkContext";function Ky(){let r=O.useContext(bm);return Sm(r,"You must render this element inside a <HydratedRouter> element"),r}function yx(r,e){let n=O.useContext(bm),[s,a]=O.useState(!1),[u,c]=O.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:g}=e,v=O.useRef(null);O.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let S=A=>{A.forEach(D=>{c(D.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[r]),O.useEffect(()=>{if(s){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[s]);let b=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?r!=="intent"?[u,v,{}]:[u,v,{onFocus:Aa(d,b),onBlur:Aa(h,C),onMouseEnter:Aa(m,b),onMouseLeave:Aa(p,C),onTouchStart:Aa(g,b)}]:[!1,v,{}]}function Aa(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Sx({page:r,...e}){let{router:n}=Xy(),s=O.useMemo(()=>jy(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?O.createElement(Ex,{page:r,matches:s,...e}):null}function bx(r){let{manifest:e,routeModules:n}=Ky(),[s,a]=O.useState([]);return O.useEffect(()=>{let u=!1;return dx(r,e,n).then(c=>{u||a(c)}),()=>{u=!0}},[r,e,n]),s}function Ex({page:r,matches:e,...n}){let s=li(),{manifest:a,routeModules:u}=Ky(),{basename:c}=Xy(),{loaderData:d,matches:h}=vx(),m=O.useMemo(()=>R0(r,e,h,a,s,"data"),[r,e,h,a,s]),p=O.useMemo(()=>R0(r,e,h,a,s,"assets"),[r,e,h,a,s]),g=O.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,S=!1;if(e.forEach(A=>{let D=a.routes[A.route.id];!D||!D.hasLoader||(!m.some(N=>N.route.id===A.route.id)&&A.route.id in d&&u[A.route.id]?.shouldRevalidate||D.hasClientLoader?S=!0:C.add(A.route.id))}),C.size===0)return[];let T=cx(r,c,"data");return S&&C.size>0&&T.searchParams.set("_routes",e.filter(A=>C.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[c,d,s,a,m,e,r,u]),v=O.useMemo(()=>mx(p,a),[p,a]),b=bx(p);return O.createElement(O.Fragment,null,g.map(C=>O.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),v.map(C=>O.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),b.map(({key:C,link:S})=>O.createElement("link",{key:C,...S})))}function Cx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Zy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zy&&(window.__reactRouterVersion="7.7.1")}catch{}function Tx({basename:r,children:e,window:n}){let s=O.useRef();s.current==null&&(s.current=hT({window:n,v5Compat:!0}));let a=s.current,[u,c]=O.useState({action:a.action,location:a.location}),d=O.useCallback(h=>{O.startTransition(()=>c(h))},[c]);return O.useLayoutEffect(()=>a.listen(d),[a,d]),O.createElement(ex,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:a})}var Wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$y=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:c,state:d,target:h,to:m,preventScrollReset:p,viewTransition:g,...v},b){let{basename:C}=O.useContext(Xn),S=typeof m=="string"&&Wy.test(m),T,A=!1;if(typeof m=="string"&&S&&(T=m,Zy))try{let F=new URL(window.location.href),te=m.startsWith("//")?new URL(F.protocol+m):new URL(m),ne=Mi(te.pathname,C);te.origin===F.origin&&ne!=null?m=ne+te.search+te.hash:A=!0}catch{Qn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=BT(m,{relative:a}),[N,Y,z]=yx(s,v),K=Ax(m,{replace:c,state:d,target:h,preventScrollReset:p,relative:a,viewTransition:g});function Q(F){e&&e(F),F.defaultPrevented||K(F)}let G=O.createElement("a",{...v,...z,href:T||D,onClick:A||u?e:Q,ref:Cx(b,Y),target:h,"data-discover":!S&&n==="render"?"true":void 0});return N&&!S?O.createElement(O.Fragment,null,G,O.createElement(Sx,{page:D})):G});$y.displayName="Link";var xx=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:c,viewTransition:d,children:h,...m},p){let g=fo(c,{relative:m.relative}),v=li(),b=O.useContext(Cc),{navigator:C,basename:S}=O.useContext(Xn),T=b!=null&&Lx(g)&&d===!0,A=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,D=v.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),N=N?N.toLowerCase():null,A=A.toLowerCase()),N&&S&&(N=Mi(N,S)||N);const Y=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let z=D===A||!a&&D.startsWith(A)&&D.charAt(Y)==="/",K=N!=null&&(N===A||!a&&N.startsWith(A)&&N.charAt(A.length)==="/"),Q={isActive:z,isPending:K,isTransitioning:T},G=z?e:void 0,F;typeof s=="function"?F=s(Q):F=[s,z?"active":null,K?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let te=typeof u=="function"?u(Q):u;return O.createElement($y,{...m,"aria-current":G,className:F,ref:p,style:te,to:c,viewTransition:d},typeof h=="function"?h(Q):h)});xx.displayName="NavLink";var wx=O.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:c=Hu,action:d,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:g,...v},b)=>{let C=Ox(),S=Dx(d,{relative:m}),T=c.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&Wy.test(d),D=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let Y=N.nativeEvent.submitter,z=Y?.getAttribute("formmethod")||c;C(Y||N.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:a,state:u,relative:m,preventScrollReset:p,viewTransition:g})};return O.createElement("form",{ref:b,method:T,action:S,onSubmit:s?h:D,...v,"data-discover":!A&&r==="render"?"true":void 0})});wx.displayName="Form";function Rx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jy(r){let e=O.useContext(El);return Je(e,Rx(r)),e}function Ax(r,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:c}={}){let d=rr(),h=li(),m=fo(r,{relative:u});return O.useCallback(p=>{if(lx(p,e)){p.preventDefault();let g=n!==void 0?n:Va(h)===Va(m);d(r,{replace:g,state:s,preventScrollReset:a,relative:u,viewTransition:c})}},[h,d,m,n,s,e,r,a,u,c])}var Nx=0,Mx=()=>`__${String(++Nx)}__`;function Ox(){let{router:r}=Jy("useSubmit"),{basename:e}=O.useContext(Xn),n=ZT();return O.useCallback(async(s,a={})=>{let{action:u,method:c,encType:d,formData:h,body:m}=ux(s,e);if(a.navigate===!1){let p=a.fetcherKey||Mx();await r.fetch(p,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,n])}function Dx(r,{relative:e}={}){let{basename:n}=O.useContext(Xn),s=O.useContext(ri);Je(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...fo(r||".",{relative:e})},c=li();if(r==null){u.search=c.search;let d=new URLSearchParams(u.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();u.search=p?`?${p}`:""}}return(!r||r===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ai([n,u.pathname])),Va(u)}function Lx(r,{relative:e}={}){let n=O.useContext(Yy);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jy("useViewTransitionState"),a=fo(r,{relative:e});if(!n.isTransitioning)return!1;let u=Mi(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Mi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xu(a.pathname,c)!=null||Xu(a.pathname,u)!=null}const e1=O.createContext(null),kx=({children:r})=>{const[e,n]=O.useState(()=>{const u=sessionStorage.getItem("tkd_user");return u?JSON.parse(u):null}),s=u=>{n(u),sessionStorage.setItem("tkd_user",JSON.stringify(u))},a=()=>{n(null),sessionStorage.removeItem("tkd_user")};return x.jsx(e1.Provider,{value:{user:e,login:s,logout:a},children:r})},Em=()=>O.useContext(e1),Uu=({children:r})=>{const{user:e}=Em(),n=li();return e?r:x.jsx(Qy,{to:"/court-setup",state:{from:n},replace:!0})};function xi(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function t1(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var bn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ul={duration:.5,overwrite:!1,delay:0},Cm,Ut,$e,In=1e8,Ye=1/In,Od=Math.PI*2,zx=Od/4,Ix=0,n1=Math.sqrt,Ux=Math.cos,jx=Math.sin,Dt=function(e){return typeof e=="string"},ct=function(e){return typeof e=="function"},Oi=function(e){return typeof e=="number"},Tm=function(e){return typeof e>"u"},si=function(e){return typeof e=="object"},tn=function(e){return e!==!1},xm=function(){return typeof window<"u"},ju=function(e){return ct(e)||Dt(e)},i1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ft=Array.isArray,Dd=/(?:-?\.?\d|\.)+/gi,s1=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$r=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ud=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,r1=/[+-]=-?[.\d]+/,l1=/[^,'"\[\]\s]+/gi,Bx=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,nt,ti,Ld,wm,En={},Ku={},a1,o1=function(e){return(Ku=cl(e,En))&&ln},Rm=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},qa=function(e,n){return!n&&console.warn(e)},u1=function(e,n){return e&&(En[e]=n)&&Ku&&(Ku[e]=n)||En},Qa=function(){return 0},Px={suppressEvents:!0,isStart:!0,kill:!1},Fu={suppressEvents:!0,kill:!1},Hx={suppressEvents:!0},Am={},cs=[],kd={},c1,vn={},cd={},A0=30,Gu=[],Nm="",Mm=function(e){var n=e[0],s,a;if(si(n)||ct(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(a=Gu.length;a--&&!Gu[a].targetTest(n););s=Gu[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new k1(e[a],s)))||e.splice(a,1);return e},Ks=function(e){return e._gsap||Mm(Un(e))[0]._gsap},f1=function(e,n,s){return(s=e[n])&&ct(s)?e[n]():Tm(s)&&e.getAttribute&&e.getAttribute(n)||s},nn=function(e,n){return(e=e.split(",")).forEach(n)||e},mt=function(e){return Math.round(e*1e5)/1e5||0},yt=function(e){return Math.round(e*1e7)/1e7||0},nl=function(e,n){var s=n.charAt(0),a=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+a:s==="-"?e-a:s==="*"?e*a:e/a},Yx=function(e,n){for(var s=n.length,a=0;e.indexOf(n[a])<0&&++a<s;);return a<s},Zu=function(){var e=cs.length,n=cs.slice(0),s,a;for(kd={},cs.length=0,s=0;s<e;s++)a=n[s],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},Om=function(e){return!!(e._initted||e._startAt||e.add)},h1=function(e,n,s,a){cs.length&&!Ut&&Zu(),e.render(n,s,!!(Ut&&n<0&&Om(e))),cs.length&&!Ut&&Zu()},d1=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(l1).length<2?n:Dt(e)?e.trim():e},m1=function(e){return e},Cn=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},Fx=function(e){return function(n,s){for(var a in s)a in n||a==="duration"&&e||a==="ease"||(n[a]=s[a])}},cl=function(e,n){for(var s in n)e[s]=n[s];return e},N0=function r(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=si(n[s])?r(e[s]||(e[s]={}),n[s]):n[s]);return e},Wu=function(e,n){var s={},a;for(a in e)a in n||(s[a]=e[a]);return s},Ia=function(e){var n=e.parent||nt,s=e.keyframes?Fx(Ft(e.keyframes)):Cn;if(tn(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},Gx=function(e,n){for(var s=e.length,a=s===n.length;a&&s--&&e[s]===n[s];);return s<0},_1=function(e,n,s,a,u){var c=e[a],d;if(u)for(d=n[u];c&&c[u]>d;)c=c._prev;return c?(n._next=c._next,c._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[a]=n,n._prev=c,n.parent=n._dp=e,n},xc=function(e,n,s,a){s===void 0&&(s="_first"),a===void 0&&(a="_last");var u=n._prev,c=n._next;u?u._next=c:e[s]===n&&(e[s]=c),c?c._prev=u:e[a]===n&&(e[a]=u),n._next=n._prev=n.parent=null},ps=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Zs=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},Vx=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},zd=function(e,n,s,a){return e._startAt&&(Ut?e._startAt.revert(Fu):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,a))},qx=function r(e){return!e||e._ts&&r(e.parent)},M0=function(e){return e._repeat?fl(e._tTime,e=e.duration()+e._rDelay)*e:0},fl=function(e,n){var s=Math.floor(e=yt(e/n));return e&&s===e?s-1:s},$u=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},wc=function(e){return e._end=yt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ye)||0))},Rc=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=yt(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),wc(e),s._dirty||Zs(s,e)),e},p1=function(e,n){var s;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(s=$u(e.rawTime(),n),(!n._dur||ho(0,n.totalDuration(),s)-n._tTime>Ye)&&n.render(s,!0)),Zs(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-Ye}},ni=function(e,n,s,a){return n.parent&&ps(n),n._start=yt((Oi(s)?s:s||e!==nt?zn(e,s,n):e._time)+n._delay),n._end=yt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),_1(e,n,"_first","_last",e._sort?"_start":0),Id(n)||(e._recent=n),a||p1(e,n),e._ts<0&&Rc(e,e._tTime),e},g1=function(e,n){return(En.ScrollTrigger||Rm("scrollTrigger",n))&&En.ScrollTrigger.create(n,e)},v1=function(e,n,s,a,u){if(Lm(e,n,u),!e._initted)return 1;if(!s&&e._pt&&!Ut&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&c1!==yn.frame)return cs.push(e),e._lazy=[u,a],1},Qx=function r(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||r(n))},Id=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},Xx=function(e,n,s,a){var u=e.ratio,c=n<0||!n&&(!e._start&&Qx(e)&&!(!e._initted&&Id(e))||(e._ts<0||e._dp._ts<0)&&!Id(e))?0:1,d=e._rDelay,h=0,m,p,g;if(d&&e._repeat&&(h=ho(0,e._tDur,n),p=fl(h,d),e._yoyo&&p&1&&(c=1-c),p!==fl(e._tTime,d)&&(u=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==u||Ut||a||e._zTime===Ye||!n&&e._zTime){if(!e._initted&&v1(e,n,a,s,h))return;for(g=e._zTime,e._zTime=n||(s?Ye:0),s||(s=n&&!g),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=h,m=e._pt;m;)m.r(c,m.d),m=m._next;n<0&&zd(e,n,s,!0),e._onUpdate&&!s&&Sn(e,"onUpdate"),h&&e._repeat&&!s&&e.parent&&Sn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===c&&(c&&ps(e,1),!s&&!Ut&&(Sn(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Kx=function(e,n,s){var a;if(s>n)for(a=e._first;a&&a._start<=s;){if(a.data==="isPause"&&a._start>n)return a;a=a._next}else for(a=e._last;a&&a._start>=s;){if(a.data==="isPause"&&a._start<n)return a;a=a._prev}},hl=function(e,n,s,a){var u=e._repeat,c=yt(n)||0,d=e._tTime/e._tDur;return d&&!a&&(e._time*=c/e._dur),e._dur=c,e._tDur=u?u<0?1e10:yt(c*(u+1)+e._rDelay*u):c,d>0&&!a&&Rc(e,e._tTime=e._tDur*d),e.parent&&wc(e),s||Zs(e.parent,e),e},O0=function(e){return e instanceof Vt?Zs(e):hl(e,e._dur)},Zx={_start:0,endTime:Qa,totalDuration:Qa},zn=function r(e,n,s){var a=e.labels,u=e._recent||Zx,c=e.duration()>=In?u.endTime(!1):e._dur,d,h,m;return Dt(n)&&(isNaN(n)||n in a)?(h=n.charAt(0),m=n.substr(-1)==="%",d=n.indexOf("="),h==="<"||h===">"?(d>=0&&(n=n.replace(/=/,"")),(h==="<"?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(m?(d<0?u:s).totalDuration()/100:1)):d<0?(n in a||(a[n]=c),a[n]):(h=parseFloat(n.charAt(d-1)+n.substr(d+1)),m&&s&&(h=h/100*(Ft(s)?s[0]:s).totalDuration()),d>1?r(e,n.substr(0,d-1),s)+h:c+h)):n==null?c:+n},Ua=function(e,n,s){var a=Oi(n[1]),u=(a?2:1)+(e<2?0:1),c=n[u],d,h;if(a&&(c.duration=n[1]),c.parent=s,e){for(d=c,h=s;h&&!("immediateRender"in d);)d=h.vars.defaults||{},h=tn(h.vars.inherit)&&h.parent;c.immediateRender=tn(d.immediateRender),e<2?c.runBackwards=1:c.startAt=n[u-1]}return new vt(n[0],c,n[u+1])},bs=function(e,n){return e||e===0?n(e):n},ho=function(e,n,s){return s<e?e:s>n?n:s},Yt=function(e,n){return!Dt(e)||!(n=Bx.exec(e))?"":n[1]},Wx=function(e,n,s){return bs(s,function(a){return ho(e,n,a)})},Ud=[].slice,y1=function(e,n){return e&&si(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&si(e[0]))&&!e.nodeType&&e!==ti},$x=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(a){var u;return Dt(a)&&!n||y1(a,1)?(u=s).push.apply(u,Un(a)):s.push(a)})||s},Un=function(e,n,s){return $e&&!n&&$e.selector?$e.selector(e):Dt(e)&&!s&&(Ld||!dl())?Ud.call((n||wm).querySelectorAll(e),0):Ft(e)?$x(e,s):y1(e)?Ud.call(e,0):e?[e]:[]},jd=function(e){return e=Un(e)[0]||qa("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return Un(n,s.querySelectorAll?s:s===e?qa("Invalid scope")||wm.createElement("div"):e)}},S1=function(e){return e.sort(function(){return .5-Math.random()})},b1=function(e){if(ct(e))return e;var n=si(e)?e:{each:e},s=Ws(n.ease),a=n.from||0,u=parseFloat(n.base)||0,c={},d=a>0&&a<1,h=isNaN(a)||d,m=n.axis,p=a,g=a;return Dt(a)?p=g={center:.5,edges:.5,end:1}[a]||0:!d&&h&&(p=a[0],g=a[1]),function(v,b,C){var S=(C||n).length,T=c[S],A,D,N,Y,z,K,Q,G,F;if(!T){if(F=n.grid==="auto"?0:(n.grid||[1,In])[1],!F){for(Q=-In;Q<(Q=C[F++].getBoundingClientRect().left)&&F<S;);F<S&&F--}for(T=c[S]=[],A=h?Math.min(F,S)*p-.5:a%F,D=F===In?0:h?S*g/F-.5:a/F|0,Q=0,G=In,K=0;K<S;K++)N=K%F-A,Y=D-(K/F|0),T[K]=z=m?Math.abs(m==="y"?Y:N):n1(N*N+Y*Y),z>Q&&(Q=z),z<G&&(G=z);a==="random"&&S1(T),T.max=Q-G,T.min=G,T.v=S=(parseFloat(n.amount)||parseFloat(n.each)*(F>S?S-1:m?m==="y"?S/F:F:Math.max(F,S/F))||0)*(a==="edges"?-1:1),T.b=S<0?u-S:u,T.u=Yt(n.amount||n.each)||0,s=s&&S<0?O1(s):s}return S=(T[v]-T.min)/T.max||0,yt(T.b+(s?s(S):S)*T.v)+T.u}},Bd=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var a=yt(Math.round(parseFloat(s)/e)*e*n);return(a-a%1)/n+(Oi(s)?0:Yt(s))}},E1=function(e,n){var s=Ft(e),a,u;return!s&&si(e)&&(a=s=e.radius||In,e.values?(e=Un(e.values),(u=!Oi(e[0]))&&(a*=a)):e=Bd(e.increment)),bs(n,s?ct(e)?function(c){return u=e(c),Math.abs(u-c)<=a?u:c}:function(c){for(var d=parseFloat(u?c.x:c),h=parseFloat(u?c.y:0),m=In,p=0,g=e.length,v,b;g--;)u?(v=e[g].x-d,b=e[g].y-h,v=v*v+b*b):v=Math.abs(e[g]-d),v<m&&(m=v,p=g);return p=!a||m<=a?e[p]:c,u||p===c||Oi(c)?p:p+Yt(c)}:Bd(e))},C1=function(e,n,s,a){return bs(Ft(e)?!n:s===!0?!!(s=0):!a,function(){return Ft(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(a=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*a)/a})},Jx=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(a){return n.reduce(function(u,c){return c(u)},a)}},ew=function(e,n){return function(s){return e(parseFloat(s))+(n||Yt(s))}},tw=function(e,n,s){return x1(e,n,0,1,s)},T1=function(e,n,s){return bs(s,function(a){return e[~~n(a)]})},nw=function r(e,n,s){var a=n-e;return Ft(e)?T1(e,r(0,e.length),n):bs(s,function(u){return(a+(u-e)%a)%a+e})},iw=function r(e,n,s){var a=n-e,u=a*2;return Ft(e)?T1(e,r(0,e.length-1),n):bs(s,function(c){return c=(u+(c-e)%u)%u||0,e+(c>a?u-c:c)})},Xa=function(e){for(var n=0,s="",a,u,c,d;~(a=e.indexOf("random(",n));)c=e.indexOf(")",a),d=e.charAt(a+7)==="[",u=e.substr(a+7,c-a-7).match(d?l1:Dd),s+=e.substr(n,a-n)+C1(d?u:+u[0],d?0:+u[1],+u[2]||1e-5),n=c+1;return s+e.substr(n,e.length-n)},x1=function(e,n,s,a,u){var c=n-e,d=a-s;return bs(u,function(h){return s+((h-e)/c*d||0)})},sw=function r(e,n,s,a){var u=isNaN(e+n)?0:function(b){return(1-b)*e+b*n};if(!u){var c=Dt(e),d={},h,m,p,g,v;if(s===!0&&(a=1)&&(s=null),c)e={p:e},n={p:n};else if(Ft(e)&&!Ft(n)){for(p=[],g=e.length,v=g-2,m=1;m<g;m++)p.push(r(e[m-1],e[m]));g--,u=function(C){C*=g;var S=Math.min(v,~~C);return p[S](C-S)},s=n}else a||(e=cl(Ft(e)?[]:{},e));if(!p){for(h in n)Dm.call(d,e,h,"get",n[h]);u=function(C){return Im(C,d)||(c?e.p:e)}}}return bs(s,u)},D0=function(e,n,s){var a=e.labels,u=In,c,d,h;for(c in a)d=a[c]-n,d<0==!!s&&d&&u>(d=Math.abs(d))&&(h=c,u=d);return h},Sn=function(e,n,s){var a=e.vars,u=a[n],c=$e,d=e._ctx,h,m,p;if(u)return h=a[n+"Params"],m=a.callbackScope||e,s&&cs.length&&Zu(),d&&($e=d),p=h?u.apply(m,h):u.call(m),$e=c,p},ka=function(e){return ps(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ut),e.progress()<1&&Sn(e,"onInterrupt"),e},Jr,w1=[],R1=function(e){if(e)if(e=!e.name&&e.default||e,xm()||e.headless){var n=e.name,s=ct(e),a=n&&!s&&e.init?function(){this._props=[]}:e,u={init:Qa,render:Im,add:Dm,kill:Sw,modifier:yw,rawVars:0},c={targetTest:0,get:0,getSetter:zm,aliases:{},register:0};if(dl(),e!==a){if(vn[n])return;Cn(a,Cn(Wu(e,u),c)),cl(a.prototype,cl(u,Wu(e,c))),vn[a.prop=n]=a,e.targetTest&&(Gu.push(a),Am[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}u1(n,a),e.register&&e.register(ln,a,sn)}else w1.push(e)},He=255,za={aqua:[0,He,He],lime:[0,He,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,He],navy:[0,0,128],white:[He,He,He],olive:[128,128,0],yellow:[He,He,0],orange:[He,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[He,0,0],pink:[He,192,203],cyan:[0,He,He],transparent:[He,He,He,0]},fd=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*He+.5|0},A1=function(e,n,s){var a=e?Oi(e)?[e>>16,e>>8&He,e&He]:0:za.black,u,c,d,h,m,p,g,v,b,C;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),za[e])a=za[e];else if(e.charAt(0)==="#"){if(e.length<6&&(u=e.charAt(1),c=e.charAt(2),d=e.charAt(3),e="#"+u+u+c+c+d+d+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&He,a&He,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&He,e&He]}else if(e.substr(0,3)==="hsl"){if(a=C=e.match(Dd),!n)h=+a[0]%360/360,m=+a[1]/100,p=+a[2]/100,c=p<=.5?p*(m+1):p+m-p*m,u=p*2-c,a.length>3&&(a[3]*=1),a[0]=fd(h+1/3,u,c),a[1]=fd(h,u,c),a[2]=fd(h-1/3,u,c);else if(~e.indexOf("="))return a=e.match(s1),s&&a.length<4&&(a[3]=1),a}else a=e.match(Dd)||za.transparent;a=a.map(Number)}return n&&!C&&(u=a[0]/He,c=a[1]/He,d=a[2]/He,g=Math.max(u,c,d),v=Math.min(u,c,d),p=(g+v)/2,g===v?h=m=0:(b=g-v,m=p>.5?b/(2-g-v):b/(g+v),h=g===u?(c-d)/b+(c<d?6:0):g===c?(d-u)/b+2:(u-c)/b+4,h*=60),a[0]=~~(h+.5),a[1]=~~(m*100+.5),a[2]=~~(p*100+.5)),s&&a.length<4&&(a[3]=1),a},N1=function(e){var n=[],s=[],a=-1;return e.split(fs).forEach(function(u){var c=u.match($r)||[];n.push.apply(n,c),s.push(a+=c.length+1)}),n.c=s,n},L0=function(e,n,s){var a="",u=(e+a).match(fs),c=n?"hsla(":"rgba(",d=0,h,m,p,g;if(!u)return e;if(u=u.map(function(v){return(v=A1(v,n,1))&&c+(n?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),s&&(p=N1(e),h=s.c,h.join(a)!==p.c.join(a)))for(m=e.replace(fs,"1").split($r),g=m.length-1;d<g;d++)a+=m[d]+(~h.indexOf(d)?u.shift()||c+"0,0,0,0)":(p.length?p:u.length?u:s).shift());if(!m)for(m=e.split(fs),g=m.length-1;d<g;d++)a+=m[d]+u[d];return a+m[g]},fs=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in za)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),rw=/hsl[a]?\(/,M1=function(e){var n=e.join(" "),s;if(fs.lastIndex=0,fs.test(n))return s=rw.test(n),e[1]=L0(e[1],s),e[0]=L0(e[0],s,N1(e[1])),!0},Ka,yn=function(){var r=Date.now,e=500,n=33,s=r(),a=s,u=1e3/240,c=u,d=[],h,m,p,g,v,b,C=function S(T){var A=r()-a,D=T===!0,N,Y,z,K;if((A>e||A<0)&&(s+=A-n),a+=A,z=a-s,N=z-c,(N>0||D)&&(K=++g.frame,v=z-g.time*1e3,g.time=z=z/1e3,c+=N+(N>=u?4:u-N),Y=1),D||(h=m(S)),Y)for(b=0;b<d.length;b++)d[b](z,v,K,T)};return g={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(T){return v/(1e3/(T||60))},wake:function(){a1&&(!Ld&&xm()&&(ti=Ld=window,wm=ti.document||{},En.gsap=ln,(ti.gsapVersions||(ti.gsapVersions=[])).push(ln.version),o1(Ku||ti.GreenSockGlobals||!ti.gsap&&ti||{}),w1.forEach(R1)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&g.sleep(),m=p||function(T){return setTimeout(T,c-g.time*1e3+1|0)},Ka=1,C(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(h),Ka=0,m=Qa},lagSmoothing:function(T,A){e=T||1/0,n=Math.min(A||33,e)},fps:function(T){u=1e3/(T||240),c=g.time*1e3+u},add:function(T,A,D){var N=A?function(Y,z,K,Q){T(Y,z,K,Q),g.remove(N)}:T;return g.remove(T),d[D?"unshift":"push"](N),dl(),N},remove:function(T,A){~(A=d.indexOf(T))&&d.splice(A,1)&&b>=A&&b--},_listeners:d},g}(),dl=function(){return!Ka&&yn.wake()},we={},lw=/^[\d.\-M][\d.\-,\s]/,aw=/["']/g,ow=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),a=s[0],u=1,c=s.length,d,h,m;u<c;u++)h=s[u],d=u!==c-1?h.lastIndexOf(","):h.length,m=h.substr(0,d),n[a]=isNaN(m)?m.replace(aw,"").trim():+m,a=h.substr(d+1).trim();return n},uw=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),a=e.indexOf("(",n);return e.substring(n,~a&&a<s?e.indexOf(")",s+1):s)},cw=function(e){var n=(e+"").split("("),s=we[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[ow(n[1])]:uw(e).split(",").map(d1)):we._CE&&lw.test(e)?we._CE("",e):s},O1=function(e){return function(n){return 1-e(1-n)}},D1=function r(e,n){for(var s=e._first,a;s;)s instanceof Vt?r(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?r(s.timeline,n):(a=s._ease,s._ease=s._yEase,s._yEase=a,s._yoyo=n)),s=s._next},Ws=function(e,n){return e&&(ct(e)?e:we[e]||cw(e))||n},lr=function(e,n,s,a){s===void 0&&(s=function(h){return 1-n(1-h)}),a===void 0&&(a=function(h){return h<.5?n(h*2)/2:1-n((1-h)*2)/2});var u={easeIn:n,easeOut:s,easeInOut:a},c;return nn(e,function(d){we[d]=En[d]=u,we[c=d.toLowerCase()]=s;for(var h in u)we[c+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=we[d+"."+h]=u[h]}),u},L1=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},hd=function r(e,n,s){var a=n>=1?n:1,u=(s||(e?.3:.45))/(n<1?n:1),c=u/Od*(Math.asin(1/a)||0),d=function(p){return p===1?1:a*Math.pow(2,-10*p)*jx((p-c)*u)+1},h=e==="out"?d:e==="in"?function(m){return 1-d(1-m)}:L1(d);return u=Od/u,h.config=function(m,p){return r(e,m,p)},h},dd=function r(e,n){n===void 0&&(n=1.70158);var s=function(c){return c?--c*c*((n+1)*c+n)+1:0},a=e==="out"?s:e==="in"?function(u){return 1-s(1-u)}:L1(s);return a.config=function(u){return r(e,u)},a};nn("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var n=e<5?e+1:e;lr(r+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});we.Linear.easeNone=we.none=we.Linear.easeIn;lr("Elastic",hd("in"),hd("out"),hd());(function(r,e){var n=1/e,s=2*n,a=2.5*n,u=function(d){return d<n?r*d*d:d<s?r*Math.pow(d-1.5/e,2)+.75:d<a?r*(d-=2.25/e)*d+.9375:r*Math.pow(d-2.625/e,2)+.984375};lr("Bounce",function(c){return 1-u(1-c)},u)})(7.5625,2.75);lr("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});lr("Circ",function(r){return-(n1(1-r*r)-1)});lr("Sine",function(r){return r===1?1:-Ux(r*zx)+1});lr("Back",dd("in"),dd("out"),dd());we.SteppedEase=we.steps=En.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,a=e+(n?0:1),u=n?1:0,c=1-Ye;return function(d){return((a*ho(0,c,d)|0)+u)*s}}};ul.ease=we["quad.out"];nn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return Nm+=r+","+r+"Params,"});var k1=function(e,n){this.id=Ix++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:f1,this.set=n?n.getSetter:zm},Za=function(){function r(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,hl(this,+n.duration,1,1),this.data=n.data,$e&&(this._ctx=$e,$e.data.push(this)),Ka||yn.wake()}var e=r.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,hl(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,a){if(dl(),!arguments.length)return this._tTime;var u=this._dp;if(u&&u.smoothChildTiming&&this._ts){for(Rc(this,s),!u._dp||u.parent||p1(u,this);u&&u.parent;)u.parent._time!==u._start+(u._ts>=0?u._tTime/u._ts:(u.totalDuration()-u._tTime)/-u._ts)&&u.totalTime(u._tTime,!0),u=u.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&ni(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Ye||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),h1(this,s,a)),this},e.time=function(s,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+M0(this))%(this._dur+this._rDelay)||(s?this._dur:0),a):this._time},e.totalProgress=function(s,a){return arguments.length?this.totalTime(this.totalDuration()*s,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(s,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+M0(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,a){var u=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*u,a):this._repeat?fl(this._tTime,u)+1:1},e.timeScale=function(s,a){if(!arguments.length)return this._rts===-Ye?0:this._rts;if(this._rts===s)return this;var u=this.parent&&this._ts?$u(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-Ye?0:this._rts,this.totalTime(ho(-Math.abs(this._delay),this.totalDuration(),u),a!==!1),wc(this),Vx(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(dl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ye&&(this._tTime-=Ye)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&ni(a,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(tn(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var a=this.parent||this._dp;return a?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?$u(a.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=Hx);var a=Ut;return Ut=s,Om(this)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),Ut=a,this},e.globalTime=function(s){for(var a=this,u=arguments.length?s:a.rawTime();a;)u=a._start+u/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(s):u},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,O0(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var a=this._time;return this._rDelay=s,O0(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,a){return this.totalTime(zn(this,s),tn(a))},e.restart=function(s,a){return this.play().totalTime(s?-this._delay:0,tn(a)),this._dur||(this._zTime=-Ye),this},e.play=function(s,a){return s!=null&&this.seek(s,a),this.reversed(!1).paused(!1)},e.reverse=function(s,a){return s!=null&&this.seek(s||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(s,a){return s!=null&&this.seek(s,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-Ye:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ye,this},e.isActive=function(){var s=this.parent||this._dp,a=this._start,u;return!!(!s||this._ts&&this._initted&&s.isActive()&&(u=s.rawTime(!0))>=a&&u<this.endTime(!0)-Ye)},e.eventCallback=function(s,a,u){var c=this.vars;return arguments.length>1?(a?(c[s]=a,u&&(c[s+"Params"]=u),s==="onUpdate"&&(this._onUpdate=a)):delete c[s],this):c[s]},e.then=function(s){var a=this;return new Promise(function(u){var c=ct(s)?s:m1,d=function(){var m=a.then;a.then=null,ct(c)&&(c=c(a))&&(c.then||c===a)&&(a.then=m),u(c),a.then=m};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?d():a._prom=d})},e.kill=function(){ka(this)},r}();Cn(Za.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ye,_prom:0,_ps:!1,_rts:1});var Vt=function(r){t1(e,r);function e(s,a){var u;return s===void 0&&(s={}),u=r.call(this,s)||this,u.labels={},u.smoothChildTiming=!!s.smoothChildTiming,u.autoRemoveChildren=!!s.autoRemoveChildren,u._sort=tn(s.sortChildren),nt&&ni(s.parent||nt,xi(u),a),s.reversed&&u.reverse(),s.paused&&u.paused(!0),s.scrollTrigger&&g1(xi(u),s.scrollTrigger),u}var n=e.prototype;return n.to=function(a,u,c){return Ua(0,arguments,this),this},n.from=function(a,u,c){return Ua(1,arguments,this),this},n.fromTo=function(a,u,c,d){return Ua(2,arguments,this),this},n.set=function(a,u,c){return u.duration=0,u.parent=this,Ia(u).repeatDelay||(u.repeat=0),u.immediateRender=!!u.immediateRender,new vt(a,u,zn(this,c),1),this},n.call=function(a,u,c){return ni(this,vt.delayedCall(0,a,u),c)},n.staggerTo=function(a,u,c,d,h,m,p){return c.duration=u,c.stagger=c.stagger||d,c.onComplete=m,c.onCompleteParams=p,c.parent=this,new vt(a,c,zn(this,h)),this},n.staggerFrom=function(a,u,c,d,h,m,p){return c.runBackwards=1,Ia(c).immediateRender=tn(c.immediateRender),this.staggerTo(a,u,c,d,h,m,p)},n.staggerFromTo=function(a,u,c,d,h,m,p,g){return d.startAt=c,Ia(d).immediateRender=tn(d.immediateRender),this.staggerTo(a,u,d,h,m,p,g)},n.render=function(a,u,c){var d=this._time,h=this._dirty?this.totalDuration():this._tDur,m=this._dur,p=a<=0?0:yt(a),g=this._zTime<0!=a<0&&(this._initted||!m),v,b,C,S,T,A,D,N,Y,z,K,Q;if(this!==nt&&p>h&&a>=0&&(p=h),p!==this._tTime||c||g){if(d!==this._time&&m&&(p+=this._time-d,a+=this._time-d),v=p,Y=this._start,N=this._ts,A=!N,g&&(m||(d=this._zTime),(a||!u)&&(this._zTime=a)),this._repeat){if(K=this._yoyo,T=m+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(T*100+a,u,c);if(v=yt(p%T),p===h?(S=this._repeat,v=m):(z=yt(p/T),S=~~z,S&&S===z&&(v=m,S--),v>m&&(v=m)),z=fl(this._tTime,T),!d&&this._tTime&&z!==S&&this._tTime-z*T-this._dur<=0&&(z=S),K&&S&1&&(v=m-v,Q=1),S!==z&&!this._lock){var G=K&&z&1,F=G===(K&&S&1);if(S<z&&(G=!G),d=G?0:p%m?m:p,this._lock=1,this.render(d||(Q?0:yt(S*T)),u,!m)._lock=0,this._tTime=p,!u&&this.parent&&Sn(this,"onRepeat"),this.vars.repeatRefresh&&!Q&&(this.invalidate()._lock=1),d&&d!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,h=this._tDur,F&&(this._lock=2,d=G?m:-1e-4,this.render(d,!0),this.vars.repeatRefresh&&!Q&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;D1(this,Q)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(D=Kx(this,yt(d),yt(v)),D&&(p-=v-(v=D._start))),this._tTime=p,this._time=v,this._act=!N,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,d=0),!d&&p&&!u&&!z&&(Sn(this,"onStart"),this._tTime!==p))return this;if(v>=d&&a>=0)for(b=this._first;b;){if(C=b._next,(b._act||v>=b._start)&&b._ts&&D!==b){if(b.parent!==this)return this.render(a,u,c);if(b.render(b._ts>0?(v-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(v-b._start)*b._ts,u,c),v!==this._time||!this._ts&&!A){D=0,C&&(p+=this._zTime=-Ye);break}}b=C}else{b=this._last;for(var te=a<0?a:v;b;){if(C=b._prev,(b._act||te<=b._end)&&b._ts&&D!==b){if(b.parent!==this)return this.render(a,u,c);if(b.render(b._ts>0?(te-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(te-b._start)*b._ts,u,c||Ut&&Om(b)),v!==this._time||!this._ts&&!A){D=0,C&&(p+=this._zTime=te?-Ye:Ye);break}}b=C}}if(D&&!u&&(this.pause(),D.render(v>=d?0:-Ye)._zTime=v>=d?1:-1,this._ts))return this._start=Y,wc(this),this.render(a,u,c);this._onUpdate&&!u&&Sn(this,"onUpdate",!0),(p===h&&this._tTime>=this.totalDuration()||!p&&d)&&(Y===this._start||Math.abs(N)!==Math.abs(this._ts))&&(this._lock||((a||!m)&&(p===h&&this._ts>0||!p&&this._ts<0)&&ps(this,1),!u&&!(a<0&&!d)&&(p||d||!h)&&(Sn(this,p===h&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<h&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(a,u){var c=this;if(Oi(u)||(u=zn(this,u,a)),!(a instanceof Za)){if(Ft(a))return a.forEach(function(d){return c.add(d,u)}),this;if(Dt(a))return this.addLabel(a,u);if(ct(a))a=vt.delayedCall(0,a);else return this}return this!==a?ni(this,a,u):this},n.getChildren=function(a,u,c,d){a===void 0&&(a=!0),u===void 0&&(u=!0),c===void 0&&(c=!0),d===void 0&&(d=-In);for(var h=[],m=this._first;m;)m._start>=d&&(m instanceof vt?u&&h.push(m):(c&&h.push(m),a&&h.push.apply(h,m.getChildren(!0,u,c)))),m=m._next;return h},n.getById=function(a){for(var u=this.getChildren(1,1,1),c=u.length;c--;)if(u[c].vars.id===a)return u[c]},n.remove=function(a){return Dt(a)?this.removeLabel(a):ct(a)?this.killTweensOf(a):(a.parent===this&&xc(this,a),a===this._recent&&(this._recent=this._last),Zs(this))},n.totalTime=function(a,u){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=yt(yn.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),r.prototype.totalTime.call(this,a,u),this._forcing=0,this):this._tTime},n.addLabel=function(a,u){return this.labels[a]=zn(this,u),this},n.removeLabel=function(a){return delete this.labels[a],this},n.addPause=function(a,u,c){var d=vt.delayedCall(0,u||Qa,c);return d.data="isPause",this._hasPause=1,ni(this,d,zn(this,a))},n.removePause=function(a){var u=this._first;for(a=zn(this,a);u;)u._start===a&&u.data==="isPause"&&ps(u),u=u._next},n.killTweensOf=function(a,u,c){for(var d=this.getTweensOf(a,c),h=d.length;h--;)ls!==d[h]&&d[h].kill(a,u);return this},n.getTweensOf=function(a,u){for(var c=[],d=Un(a),h=this._first,m=Oi(u),p;h;)h instanceof vt?Yx(h._targets,d)&&(m?(!ls||h._initted&&h._ts)&&h.globalTime(0)<=u&&h.globalTime(h.totalDuration())>u:!u||h.isActive())&&c.push(h):(p=h.getTweensOf(d,u)).length&&c.push.apply(c,p),h=h._next;return c},n.tweenTo=function(a,u){u=u||{};var c=this,d=zn(c,a),h=u,m=h.startAt,p=h.onStart,g=h.onStartParams,v=h.immediateRender,b,C=vt.to(c,Cn({ease:u.ease||"none",lazy:!1,immediateRender:!1,time:d,overwrite:"auto",duration:u.duration||Math.abs((d-(m&&"time"in m?m.time:c._time))/c.timeScale())||Ye,onStart:function(){if(c.pause(),!b){var T=u.duration||Math.abs((d-(m&&"time"in m?m.time:c._time))/c.timeScale());C._dur!==T&&hl(C,T,0,1).render(C._time,!0,!0),b=1}p&&p.apply(C,g||[])}},u));return v?C.render(0):C},n.tweenFromTo=function(a,u,c){return this.tweenTo(u,Cn({startAt:{time:zn(this,a)}},c))},n.recent=function(){return this._recent},n.nextLabel=function(a){return a===void 0&&(a=this._time),D0(this,zn(this,a))},n.previousLabel=function(a){return a===void 0&&(a=this._time),D0(this,zn(this,a),1)},n.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Ye)},n.shiftChildren=function(a,u,c){c===void 0&&(c=0);for(var d=this._first,h=this.labels,m;d;)d._start>=c&&(d._start+=a,d._end+=a),d=d._next;if(u)for(m in h)h[m]>=c&&(h[m]+=a);return Zs(this)},n.invalidate=function(a){var u=this._first;for(this._lock=0;u;)u.invalidate(a),u=u._next;return r.prototype.invalidate.call(this,a)},n.clear=function(a){a===void 0&&(a=!0);for(var u=this._first,c;u;)c=u._next,this.remove(u),u=c;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Zs(this)},n.totalDuration=function(a){var u=0,c=this,d=c._last,h=In,m,p,g;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-a:a));if(c._dirty){for(g=c.parent;d;)m=d._prev,d._dirty&&d.totalDuration(),p=d._start,p>h&&c._sort&&d._ts&&!c._lock?(c._lock=1,ni(c,d,p-d._delay,1)._lock=0):h=p,p<0&&d._ts&&(u-=p,(!g&&!c._dp||g&&g.smoothChildTiming)&&(c._start+=p/c._ts,c._time-=p,c._tTime-=p),c.shiftChildren(-p,!1,-1/0),h=0),d._end>u&&d._ts&&(u=d._end),d=m;hl(c,c===nt&&c._time>u?c._time:u,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(a){if(nt._ts&&(h1(nt,$u(a,nt)),c1=yn.frame),yn.frame>=A0){A0+=bn.autoSleep||120;var u=nt._first;if((!u||!u._ts)&&bn.autoSleep&&yn._listeners.length<2){for(;u&&!u._ts;)u=u._next;u||yn.sleep()}}},e}(Za);Cn(Vt.prototype,{_lock:0,_hasPause:0,_forcing:0});var fw=function(e,n,s,a,u,c,d){var h=new sn(this._pt,e,n,0,1,P1,null,u),m=0,p=0,g,v,b,C,S,T,A,D;for(h.b=s,h.e=a,s+="",a+="",(A=~a.indexOf("random("))&&(a=Xa(a)),c&&(D=[s,a],c(D,e,n),s=D[0],a=D[1]),v=s.match(ud)||[];g=ud.exec(a);)C=g[0],S=a.substring(m,g.index),b?b=(b+1)%5:S.substr(-5)==="rgba("&&(b=1),C!==v[p++]&&(T=parseFloat(v[p-1])||0,h._pt={_next:h._pt,p:S||p===1?S:",",s:T,c:C.charAt(1)==="="?nl(T,C)-T:parseFloat(C)-T,m:b&&b<4?Math.round:0},m=ud.lastIndex);return h.c=m<a.length?a.substring(m,a.length):"",h.fp=d,(r1.test(a)||A)&&(h.e=0),this._pt=h,h},Dm=function(e,n,s,a,u,c,d,h,m,p){ct(a)&&(a=a(u||0,e,c));var g=e[n],v=s!=="get"?s:ct(g)?m?e[n.indexOf("set")||!ct(e["get"+n.substr(3)])?n:"get"+n.substr(3)](m):e[n]():g,b=ct(g)?m?pw:j1:km,C;if(Dt(a)&&(~a.indexOf("random(")&&(a=Xa(a)),a.charAt(1)==="="&&(C=nl(v,a)+(Yt(v)||0),(C||C===0)&&(a=C))),!p||v!==a||Pd)return!isNaN(v*a)&&a!==""?(C=new sn(this._pt,e,n,+v||0,a-(v||0),typeof g=="boolean"?vw:B1,0,b),m&&(C.fp=m),d&&C.modifier(d,this,e),this._pt=C):(!g&&!(n in e)&&Rm(n,a),fw.call(this,e,n,v,a,b,h||bn.stringFilter,m))},hw=function(e,n,s,a,u){if(ct(e)&&(e=ja(e,u,n,s,a)),!si(e)||e.style&&e.nodeType||Ft(e)||i1(e))return Dt(e)?ja(e,u,n,s,a):e;var c={},d;for(d in e)c[d]=ja(e[d],u,n,s,a);return c},z1=function(e,n,s,a,u,c){var d,h,m,p;if(vn[e]&&(d=new vn[e]).init(u,d.rawVars?n[e]:hw(n[e],a,u,c,s),s,a,c)!==!1&&(s._pt=h=new sn(s._pt,u,e,0,1,d.render,d,0,d.priority),s!==Jr))for(m=s._ptLookup[s._targets.indexOf(u)],p=d._props.length;p--;)m[d._props[p]]=h;return d},ls,Pd,Lm=function r(e,n,s){var a=e.vars,u=a.ease,c=a.startAt,d=a.immediateRender,h=a.lazy,m=a.onUpdate,p=a.runBackwards,g=a.yoyoEase,v=a.keyframes,b=a.autoRevert,C=e._dur,S=e._startAt,T=e._targets,A=e.parent,D=A&&A.data==="nested"?A.vars.targets:T,N=e._overwrite==="auto"&&!Cm,Y=e.timeline,z,K,Q,G,F,te,ne,oe,ce,fe,le,U,V;if(Y&&(!v||!u)&&(u="none"),e._ease=Ws(u,ul.ease),e._yEase=g?O1(Ws(g===!0?u:g,ul.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!Y&&!!a.runBackwards,!Y||v&&!a.stagger){if(oe=T[0]?Ks(T[0]).harness:0,U=oe&&a[oe.prop],z=Wu(a,Am),S&&(S._zTime<0&&S.progress(1),n<0&&p&&d&&!b?S.render(-1,!0):S.revert(p&&C?Fu:Px),S._lazy=0),c){if(ps(e._startAt=vt.set(T,Cn({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!S&&tn(h),startAt:null,delay:0,onUpdate:m&&function(){return Sn(e,"onUpdate")},stagger:0},c))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Ut||!d&&!b)&&e._startAt.revert(Fu),d&&C&&n<=0&&s<=0){n&&(e._zTime=n);return}}else if(p&&C&&!S){if(n&&(d=!1),Q=Cn({overwrite:!1,data:"isFromStart",lazy:d&&!S&&tn(h),immediateRender:d,stagger:0,parent:A},z),U&&(Q[oe.prop]=U),ps(e._startAt=vt.set(T,Q)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Ut?e._startAt.revert(Fu):e._startAt.render(-1,!0)),e._zTime=n,!d)r(e._startAt,Ye,Ye);else if(!n)return}for(e._pt=e._ptCache=0,h=C&&tn(h)||h&&!C,K=0;K<T.length;K++){if(F=T[K],ne=F._gsap||Mm(T)[K]._gsap,e._ptLookup[K]=fe={},kd[ne.id]&&cs.length&&Zu(),le=D===T?K:D.indexOf(F),oe&&(ce=new oe).init(F,U||z,e,le,D)!==!1&&(e._pt=G=new sn(e._pt,F,ce.name,0,1,ce.render,ce,0,ce.priority),ce._props.forEach(function(B){fe[B]=G}),ce.priority&&(te=1)),!oe||U)for(Q in z)vn[Q]&&(ce=z1(Q,z,e,le,F,D))?ce.priority&&(te=1):fe[Q]=G=Dm.call(e,F,Q,"get",z[Q],le,D,0,a.stringFilter);e._op&&e._op[K]&&e.kill(F,e._op[K]),N&&e._pt&&(ls=e,nt.killTweensOf(F,fe,e.globalTime(n)),V=!e.parent,ls=0),e._pt&&h&&(kd[ne.id]=1)}te&&H1(e),e._onInit&&e._onInit(e)}e._onUpdate=m,e._initted=(!e._op||e._pt)&&!V,v&&n<=0&&Y.render(In,!0,!0)},dw=function(e,n,s,a,u,c,d,h){var m=(e._pt&&e._ptCache||(e._ptCache={}))[n],p,g,v,b;if(!m)for(m=e._ptCache[n]=[],v=e._ptLookup,b=e._targets.length;b--;){if(p=v[b][n],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==n&&p.fp!==n;)p=p._next;if(!p)return Pd=1,e.vars[n]="+=0",Lm(e,d),Pd=0,h?qa(n+" not eligible for reset"):1;m.push(p)}for(b=m.length;b--;)g=m[b],p=g._pt||g,p.s=(a||a===0)&&!u?a:p.s+(a||0)+c*p.c,p.c=s-p.s,g.e&&(g.e=mt(s)+Yt(g.e)),g.b&&(g.b=p.s+Yt(g.b))},mw=function(e,n){var s=e[0]?Ks(e[0]).harness:0,a=s&&s.aliases,u,c,d,h;if(!a)return n;u=cl({},n);for(c in a)if(c in u)for(h=a[c].split(","),d=h.length;d--;)u[h[d]]=u[c];return u},_w=function(e,n,s,a){var u=n.ease||a||"power1.inOut",c,d;if(Ft(n))d=s[e]||(s[e]=[]),n.forEach(function(h,m){return d.push({t:m/(n.length-1)*100,v:h,e:u})});else for(c in n)d=s[c]||(s[c]=[]),c==="ease"||d.push({t:parseFloat(e),v:n[c],e:u})},ja=function(e,n,s,a,u){return ct(e)?e.call(n,s,a,u):Dt(e)&&~e.indexOf("random(")?Xa(e):e},I1=Nm+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",U1={};nn(I1+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return U1[r]=1});var vt=function(r){t1(e,r);function e(s,a,u,c){var d;typeof a=="number"&&(u.duration=a,a=u,u=null),d=r.call(this,c?a:Ia(a))||this;var h=d.vars,m=h.duration,p=h.delay,g=h.immediateRender,v=h.stagger,b=h.overwrite,C=h.keyframes,S=h.defaults,T=h.scrollTrigger,A=h.yoyoEase,D=a.parent||nt,N=(Ft(s)||i1(s)?Oi(s[0]):"length"in a)?[s]:Un(s),Y,z,K,Q,G,F,te,ne;if(d._targets=N.length?Mm(N):qa("GSAP target "+s+" not found. https://gsap.com",!bn.nullTargetWarn)||[],d._ptLookup=[],d._overwrite=b,C||v||ju(m)||ju(p)){if(a=d.vars,Y=d.timeline=new Vt({data:"nested",defaults:S||{},targets:D&&D.data==="nested"?D.vars.targets:N}),Y.kill(),Y.parent=Y._dp=xi(d),Y._start=0,v||ju(m)||ju(p)){if(Q=N.length,te=v&&b1(v),si(v))for(G in v)~I1.indexOf(G)&&(ne||(ne={}),ne[G]=v[G]);for(z=0;z<Q;z++)K=Wu(a,U1),K.stagger=0,A&&(K.yoyoEase=A),ne&&cl(K,ne),F=N[z],K.duration=+ja(m,xi(d),z,F,N),K.delay=(+ja(p,xi(d),z,F,N)||0)-d._delay,!v&&Q===1&&K.delay&&(d._delay=p=K.delay,d._start+=p,K.delay=0),Y.to(F,K,te?te(z,F,N):0),Y._ease=we.none;Y.duration()?m=p=0:d.timeline=0}else if(C){Ia(Cn(Y.vars.defaults,{ease:"none"})),Y._ease=Ws(C.ease||a.ease||"none");var oe=0,ce,fe,le;if(Ft(C))C.forEach(function(U){return Y.to(N,U,">")}),Y.duration();else{K={};for(G in C)G==="ease"||G==="easeEach"||_w(G,C[G],K,C.easeEach);for(G in K)for(ce=K[G].sort(function(U,V){return U.t-V.t}),oe=0,z=0;z<ce.length;z++)fe=ce[z],le={ease:fe.e,duration:(fe.t-(z?ce[z-1].t:0))/100*m},le[G]=fe.v,Y.to(N,le,oe),oe+=le.duration;Y.duration()<m&&Y.to({},{duration:m-Y.duration()})}}m||d.duration(m=Y.duration())}else d.timeline=0;return b===!0&&!Cm&&(ls=xi(d),nt.killTweensOf(N),ls=0),ni(D,xi(d),u),a.reversed&&d.reverse(),a.paused&&d.paused(!0),(g||!m&&!C&&d._start===yt(D._time)&&tn(g)&&qx(xi(d))&&D.data!=="nested")&&(d._tTime=-Ye,d.render(Math.max(0,-p)||0)),T&&g1(xi(d),T),d}var n=e.prototype;return n.render=function(a,u,c){var d=this._time,h=this._tDur,m=this._dur,p=a<0,g=a>h-Ye&&!p?h:a<Ye?0:a,v,b,C,S,T,A,D,N,Y;if(!m)Xx(this,a,u,c);else if(g!==this._tTime||!a||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(v=g,N=this.timeline,this._repeat){if(S=m+this._rDelay,this._repeat<-1&&p)return this.totalTime(S*100+a,u,c);if(v=yt(g%S),g===h?(C=this._repeat,v=m):(T=yt(g/S),C=~~T,C&&C===T?(v=m,C--):v>m&&(v=m)),A=this._yoyo&&C&1,A&&(Y=this._yEase,v=m-v),T=fl(this._tTime,S),v===d&&!c&&this._initted&&C===T)return this._tTime=g,this;C!==T&&(N&&this._yEase&&D1(N,A),this.vars.repeatRefresh&&!A&&!this._lock&&v!==S&&this._initted&&(this._lock=c=1,this.render(yt(S*C),!0).invalidate()._lock=0))}if(!this._initted){if(v1(this,p?a:v,c,u,g))return this._tTime=0,this;if(d!==this._time&&!(c&&this.vars.repeatRefresh&&C!==T))return this;if(m!==this._dur)return this.render(a,u,c)}if(this._tTime=g,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=D=(Y||this._ease)(v/m),this._from&&(this.ratio=D=1-D),!d&&g&&!u&&!T&&(Sn(this,"onStart"),this._tTime!==g))return this;for(b=this._pt;b;)b.r(D,b.d),b=b._next;N&&N.render(a<0?a:N._dur*N._ease(v/this._dur),u,c)||this._startAt&&(this._zTime=a),this._onUpdate&&!u&&(p&&zd(this,a,u,c),Sn(this,"onUpdate")),this._repeat&&C!==T&&this.vars.onRepeat&&!u&&this.parent&&Sn(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(p&&!this._onUpdate&&zd(this,a,!0,!0),(a||!m)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&ps(this,1),!u&&!(p&&!d)&&(g||d||A)&&(Sn(this,g===h?"onComplete":"onReverseComplete",!0),this._prom&&!(g<h&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),r.prototype.invalidate.call(this,a)},n.resetTo=function(a,u,c,d,h){Ka||yn.wake(),this._ts||this.play();var m=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||Lm(this,m),p=this._ease(m/this._dur),dw(this,a,u,c,d,p,m,h)?this.resetTo(a,u,c,d,1):(Rc(this,0),this.parent||_1(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(a,u){if(u===void 0&&(u="all"),!a&&(!u||u==="all"))return this._lazy=this._pt=0,this.parent?ka(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ut),this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(a,u,ls&&ls.vars.overwrite!==!0)._first||ka(this),this.parent&&c!==this.timeline.totalDuration()&&hl(this,this._dur*this.timeline._tDur/c,0,1),this}var d=this._targets,h=a?Un(a):d,m=this._ptLookup,p=this._pt,g,v,b,C,S,T,A;if((!u||u==="all")&&Gx(d,h))return u==="all"&&(this._pt=0),ka(this);for(g=this._op=this._op||[],u!=="all"&&(Dt(u)&&(S={},nn(u,function(D){return S[D]=1}),u=S),u=mw(d,u)),A=d.length;A--;)if(~h.indexOf(d[A])){v=m[A],u==="all"?(g[A]=u,C=v,b={}):(b=g[A]=g[A]||{},C=u);for(S in C)T=v&&v[S],T&&((!("kill"in T.d)||T.d.kill(S)===!0)&&xc(this,T,"_pt"),delete v[S]),b!=="all"&&(b[S]=1)}return this._initted&&!this._pt&&p&&ka(this),this},e.to=function(a,u){return new e(a,u,arguments[2])},e.from=function(a,u){return Ua(1,arguments)},e.delayedCall=function(a,u,c,d){return new e(u,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:u,onReverseComplete:u,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:d})},e.fromTo=function(a,u,c){return Ua(2,arguments)},e.set=function(a,u){return u.duration=0,u.repeatDelay||(u.repeat=0),new e(a,u)},e.killTweensOf=function(a,u,c){return nt.killTweensOf(a,u,c)},e}(Za);Cn(vt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});nn("staggerTo,staggerFrom,staggerFromTo",function(r){vt[r]=function(){var e=new Vt,n=Ud.call(arguments,0);return n.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,n)}});var km=function(e,n,s){return e[n]=s},j1=function(e,n,s){return e[n](s)},pw=function(e,n,s,a){return e[n](a.fp,s)},gw=function(e,n,s){return e.setAttribute(n,s)},zm=function(e,n){return ct(e[n])?j1:Tm(e[n])&&e.setAttribute?gw:km},B1=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},vw=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},P1=function(e,n){var s=n._pt,a="";if(!e&&n.b)a=n.b;else if(e===1&&n.e)a=n.e;else{for(;s;)a=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+a,s=s._next;a+=n.c}n.set(n.t,n.p,a,n)},Im=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},yw=function(e,n,s,a){for(var u=this._pt,c;u;)c=u._next,u.p===a&&u.modifier(e,n,s),u=c},Sw=function(e){for(var n=this._pt,s,a;n;)a=n._next,n.p===e&&!n.op||n.op===e?xc(this,n,"_pt"):n.dep||(s=1),n=a;return!s},bw=function(e,n,s,a){a.mSet(e,n,a.m.call(a.tween,s,a.mt),a)},H1=function(e){for(var n=e._pt,s,a,u,c;n;){for(s=n._next,a=u;a&&a.pr>n.pr;)a=a._next;(n._prev=a?a._prev:c)?n._prev._next=n:u=n,(n._next=a)?a._prev=n:c=n,n=s}e._pt=u},sn=function(){function r(n,s,a,u,c,d,h,m,p){this.t=s,this.s=u,this.c=c,this.p=a,this.r=d||B1,this.d=h||this,this.set=m||km,this.pr=p||0,this._next=n,n&&(n._prev=this)}var e=r.prototype;return e.modifier=function(s,a,u){this.mSet=this.mSet||this.set,this.set=bw,this.m=s,this.mt=u,this.tween=a},r}();nn(Nm+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return Am[r]=1});En.TweenMax=En.TweenLite=vt;En.TimelineLite=En.TimelineMax=Vt;nt=new Vt({sortChildren:!1,defaults:ul,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});bn.stringFilter=M1;var $s=[],Vu={},Ew=[],k0=0,Cw=0,md=function(e){return(Vu[e]||Ew).map(function(n){return n()})},Hd=function(){var e=Date.now(),n=[];e-k0>2&&(md("matchMediaInit"),$s.forEach(function(s){var a=s.queries,u=s.conditions,c,d,h,m;for(d in a)c=ti.matchMedia(a[d]).matches,c&&(h=1),c!==u[d]&&(u[d]=c,m=1);m&&(s.revert(),h&&n.push(s))}),md("matchMediaRevert"),n.forEach(function(s){return s.onMatch(s,function(a){return s.add(null,a)})}),k0=e,md("matchMedia"))},Y1=function(){function r(n,s){this.selector=s&&jd(s),this.data=[],this._r=[],this.isReverted=!1,this.id=Cw++,n&&this.add(n)}var e=r.prototype;return e.add=function(s,a,u){ct(s)&&(u=a,a=s,s=ct);var c=this,d=function(){var m=$e,p=c.selector,g;return m&&m!==c&&m.data.push(c),u&&(c.selector=jd(u)),$e=c,g=a.apply(c,arguments),ct(g)&&c._r.push(g),$e=m,c.selector=p,c.isReverted=!1,g};return c.last=d,s===ct?d(c,function(h){return c.add(null,h)}):s?c[s]=d:d},e.ignore=function(s){var a=$e;$e=null,s(this),$e=a},e.getTweens=function(){var s=[];return this.data.forEach(function(a){return a instanceof r?s.push.apply(s,a.getTweens()):a instanceof vt&&!(a.parent&&a.parent.data==="nested")&&s.push(a)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,a){var u=this;if(s?function(){for(var d=u.getTweens(),h=u.data.length,m;h--;)m=u.data[h],m.data==="isFlip"&&(m.revert(),m.getChildren(!0,!0,!1).forEach(function(p){return d.splice(d.indexOf(p),1)}));for(d.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,g){return g.g-p.g||-1/0}).forEach(function(p){return p.t.revert(s)}),h=u.data.length;h--;)m=u.data[h],m instanceof Vt?m.data!=="nested"&&(m.scrollTrigger&&m.scrollTrigger.revert(),m.kill()):!(m instanceof vt)&&m.revert&&m.revert(s);u._r.forEach(function(p){return p(s,u)}),u.isReverted=!0}():this.data.forEach(function(d){return d.kill&&d.kill()}),this.clear(),a)for(var c=$s.length;c--;)$s[c].id===this.id&&$s.splice(c,1)},e.revert=function(s){this.kill(s||{})},r}(),Tw=function(){function r(n){this.contexts=[],this.scope=n,$e&&$e.data.push(this)}var e=r.prototype;return e.add=function(s,a,u){si(s)||(s={matches:s});var c=new Y1(0,u||this.scope),d=c.conditions={},h,m,p;$e&&!c.selector&&(c.selector=$e.selector),this.contexts.push(c),a=c.add("onMatch",a),c.queries=s;for(m in s)m==="all"?p=1:(h=ti.matchMedia(s[m]),h&&($s.indexOf(c)<0&&$s.push(c),(d[m]=h.matches)&&(p=1),h.addListener?h.addListener(Hd):h.addEventListener("change",Hd)));return p&&a(c,function(g){return c.add(null,g)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(a){return a.kill(s,!0)})},r}(),Ju={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(a){return R1(a)})},timeline:function(e){return new Vt(e)},getTweensOf:function(e,n){return nt.getTweensOf(e,n)},getProperty:function(e,n,s,a){Dt(e)&&(e=Un(e)[0]);var u=Ks(e||{}).get,c=s?m1:d1;return s==="native"&&(s=""),e&&(n?c((vn[n]&&vn[n].get||u)(e,n,s,a)):function(d,h,m){return c((vn[d]&&vn[d].get||u)(e,d,h,m))})},quickSetter:function(e,n,s){if(e=Un(e),e.length>1){var a=e.map(function(p){return ln.quickSetter(p,n,s)}),u=a.length;return function(p){for(var g=u;g--;)a[g](p)}}e=e[0]||{};var c=vn[n],d=Ks(e),h=d.harness&&(d.harness.aliases||{})[n]||n,m=c?function(p){var g=new c;Jr._pt=0,g.init(e,s?p+s:p,Jr,0,[e]),g.render(1,g),Jr._pt&&Im(1,Jr)}:d.set(e,h);return c?m:function(p){return m(e,h,s?p+s:p,d,1)}},quickTo:function(e,n,s){var a,u=ln.to(e,Cn((a={},a[n]="+=0.1",a.paused=!0,a.stagger=0,a),s||{})),c=function(h,m,p){return u.resetTo(n,h,m,p)};return c.tween=u,c},isTweening:function(e){return nt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ws(e.ease,ul.ease)),N0(ul,e||{})},config:function(e){return N0(bn,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,a=e.plugins,u=e.defaults,c=e.extendTimeline;(a||"").split(",").forEach(function(d){return d&&!vn[d]&&!En[d]&&qa(n+" effect requires "+d+" plugin.")}),cd[n]=function(d,h,m){return s(Un(d),Cn(h||{},u),m)},c&&(Vt.prototype[n]=function(d,h,m){return this.add(cd[n](d,si(h)?h:(m=h)&&{},this),m)})},registerEase:function(e,n){we[e]=Ws(n)},parseEase:function(e,n){return arguments.length?Ws(e,n):we},getById:function(e){return nt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new Vt(e),a,u;for(s.smoothChildTiming=tn(e.smoothChildTiming),nt.remove(s),s._dp=0,s._time=s._tTime=nt._time,a=nt._first;a;)u=a._next,(n||!(!a._dur&&a instanceof vt&&a.vars.onComplete===a._targets[0]))&&ni(s,a,a._start-a._delay),a=u;return ni(nt,s,0),s},context:function(e,n){return e?new Y1(e,n):$e},matchMedia:function(e){return new Tw(e)},matchMediaRefresh:function(){return $s.forEach(function(e){var n=e.conditions,s,a;for(a in n)n[a]&&(n[a]=!1,s=1);s&&e.revert()})||Hd()},addEventListener:function(e,n){var s=Vu[e]||(Vu[e]=[]);~s.indexOf(n)||s.push(n)},removeEventListener:function(e,n){var s=Vu[e],a=s&&s.indexOf(n);a>=0&&s.splice(a,1)},utils:{wrap:nw,wrapYoyo:iw,distribute:b1,random:C1,snap:E1,normalize:tw,getUnit:Yt,clamp:Wx,splitColor:A1,toArray:Un,selector:jd,mapRange:x1,pipe:Jx,unitize:ew,interpolate:sw,shuffle:S1},install:o1,effects:cd,ticker:yn,updateRoot:Vt.updateRoot,plugins:vn,globalTimeline:nt,core:{PropTween:sn,globals:u1,Tween:vt,Timeline:Vt,Animation:Za,getCache:Ks,_removeLinkedListItem:xc,reverting:function(){return Ut},context:function(e){return e&&$e&&($e.data.push(e),e._ctx=$e),$e},suppressOverwrites:function(e){return Cm=e}}};nn("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return Ju[r]=vt[r]});yn.add(Vt.updateRoot);Jr=Ju.to({},{duration:0});var xw=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},ww=function(e,n){var s=e._targets,a,u,c;for(a in n)for(u=s.length;u--;)c=e._ptLookup[u][a],c&&(c=c.d)&&(c._pt&&(c=xw(c,a)),c&&c.modifier&&c.modifier(n[a],e,s[u],a))},_d=function(e,n){return{name:e,headless:1,rawVars:1,init:function(a,u,c){c._onInit=function(d){var h,m;if(Dt(u)&&(h={},nn(u,function(p){return h[p]=1}),u=h),n){h={};for(m in u)h[m]=n(u[m]);u=h}ww(d,u)}}}},ln=Ju.registerPlugin({name:"attr",init:function(e,n,s,a,u){var c,d,h;this.tween=s;for(c in n)h=e.getAttribute(c)||"",d=this.add(e,"setAttribute",(h||0)+"",n[c],a,u,0,0,c),d.op=c,d.b=h,this._props.push(c)},render:function(e,n){for(var s=n._pt;s;)Ut?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",headless:1,init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s],0,0,0,0,0,1)}},_d("roundProps",Bd),_d("modifiers"),_d("snap",E1))||Ju;vt.version=Vt.version=ln.version="3.13.0";a1=1;xm()&&dl();we.Power0;we.Power1;we.Power2;we.Power3;we.Power4;we.Linear;we.Quad;we.Cubic;we.Quart;we.Quint;we.Strong;we.Elastic;we.Back;we.SteppedEase;we.Bounce;we.Sine;we.Expo;we.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var z0,as,il,Um,qs,I0,jm,Rw=function(){return typeof window<"u"},Di={},Fs=180/Math.PI,sl=Math.PI/180,Zr=Math.atan2,U0=1e8,Bm=/([A-Z])/g,Aw=/(left|right|width|margin|padding|x)/i,Nw=/[\s,\(]\S/,ii={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Yd=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Mw=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Ow=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Dw=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},F1=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},G1=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Lw=function(e,n,s){return e.style[n]=s},kw=function(e,n,s){return e.style.setProperty(n,s)},zw=function(e,n,s){return e._gsap[n]=s},Iw=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},Uw=function(e,n,s,a,u){var c=e._gsap;c.scaleX=c.scaleY=s,c.renderTransform(u,c)},jw=function(e,n,s,a,u){var c=e._gsap;c[n]=s,c.renderTransform(u,c)},it="transform",rn=it+"Origin",Bw=function r(e,n){var s=this,a=this.target,u=a.style,c=a._gsap;if(e in Di&&u){if(this.tfm=this.tfm||{},e!=="transform")e=ii[e]||e,~e.indexOf(",")?e.split(",").forEach(function(d){return s.tfm[d]=wi(a,d)}):this.tfm[e]=c.x?c[e]:wi(a,e),e===rn&&(this.tfm.zOrigin=c.zOrigin);else return ii.transform.split(",").forEach(function(d){return r.call(s,d,n)});if(this.props.indexOf(it)>=0)return;c.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(rn,n,"")),e=it}(u||n)&&this.props.push(e,n,u[e])},V1=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Pw=function(){var e=this.props,n=this.target,s=n.style,a=n._gsap,u,c;for(u=0;u<e.length;u+=3)e[u+1]?e[u+1]===2?n[e[u]](e[u+2]):n[e[u]]=e[u+2]:e[u+2]?s[e[u]]=e[u+2]:s.removeProperty(e[u].substr(0,2)==="--"?e[u]:e[u].replace(Bm,"-$1").toLowerCase());if(this.tfm){for(c in this.tfm)a[c]=this.tfm[c];a.svg&&(a.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),u=jm(),(!u||!u.isStart)&&!s[it]&&(V1(s),a.zOrigin&&s[rn]&&(s[rn]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},q1=function(e,n){var s={target:e,props:[],revert:Pw,save:Bw};return e._gsap||ln.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(a){return s.save(a)}),s},Q1,Fd=function(e,n){var s=as.createElementNS?as.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):as.createElement(e);return s&&s.style?s:as.createElement(e)},jn=function r(e,n,s){var a=getComputedStyle(e);return a[n]||a.getPropertyValue(n.replace(Bm,"-$1").toLowerCase())||a.getPropertyValue(n)||!s&&r(e,ml(n)||n,1)||""},j0="O,Moz,ms,Ms,Webkit".split(","),ml=function(e,n,s){var a=n||qs,u=a.style,c=5;if(e in u&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(j0[c]+e in u););return c<0?null:(c===3?"ms":c>=0?j0[c]:"")+e},Gd=function(){Rw()&&window.document&&(z0=window,as=z0.document,il=as.documentElement,qs=Fd("div")||{style:{}},Fd("div"),it=ml(it),rn=it+"Origin",qs.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Q1=!!ml("perspective"),jm=ln.core.reverting,Um=1)},B0=function(e){var n=e.ownerSVGElement,s=Fd("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),u;a.style.display="block",s.appendChild(a),il.appendChild(s);try{u=a.getBBox()}catch{}return s.removeChild(a),il.removeChild(s),u},P0=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},X1=function(e){var n,s;try{n=e.getBBox()}catch{n=B0(e),s=1}return n&&(n.width||n.height)||s||(n=B0(e)),n&&!n.width&&!n.x&&!n.y?{x:+P0(e,["x","cx","x1"])||0,y:+P0(e,["y","cy","y1"])||0,width:0,height:0}:n},K1=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&X1(e))},Js=function(e,n){if(n){var s=e.style,a;n in Di&&n!==rn&&(n=it),s.removeProperty?(a=n.substr(0,2),(a==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(a==="--"?n:n.replace(Bm,"-$1").toLowerCase())):s.removeAttribute(n)}},os=function(e,n,s,a,u,c){var d=new sn(e._pt,n,s,0,1,c?G1:F1);return e._pt=d,d.b=a,d.e=u,e._props.push(s),d},H0={deg:1,rad:1,turn:1},Hw={grid:1,flex:1},gs=function r(e,n,s,a){var u=parseFloat(s)||0,c=(s+"").trim().substr((u+"").length)||"px",d=qs.style,h=Aw.test(n),m=e.tagName.toLowerCase()==="svg",p=(m?"client":"offset")+(h?"Width":"Height"),g=100,v=a==="px",b=a==="%",C,S,T,A;if(a===c||!u||H0[a]||H0[c])return u;if(c!=="px"&&!v&&(u=r(e,n,s,"px")),A=e.getCTM&&K1(e),(b||c==="%")&&(Di[n]||~n.indexOf("adius")))return C=A?e.getBBox()[h?"width":"height"]:e[p],mt(b?u/C*g:u/100*C);if(d[h?"width":"height"]=g+(v?c:a),S=a!=="rem"&&~n.indexOf("adius")||a==="em"&&e.appendChild&&!m?e:e.parentNode,A&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===as||!S.appendChild)&&(S=as.body),T=S._gsap,T&&b&&T.width&&h&&T.time===yn.time&&!T.uncache)return mt(u/T.width*g);if(b&&(n==="height"||n==="width")){var D=e.style[n];e.style[n]=g+a,C=e[p],D?e.style[n]=D:Js(e,n)}else(b||c==="%")&&!Hw[jn(S,"display")]&&(d.position=jn(e,"position")),S===e&&(d.position="static"),S.appendChild(qs),C=qs[p],S.removeChild(qs),d.position="absolute";return h&&b&&(T=Ks(S),T.time=yn.time,T.width=S[p]),mt(v?C*u/g:C&&u?g/C*u:0)},wi=function(e,n,s,a){var u;return Um||Gd(),n in ii&&n!=="transform"&&(n=ii[n],~n.indexOf(",")&&(n=n.split(",")[0])),Di[n]&&n!=="transform"?(u=$a(e,a),u=n!=="transformOrigin"?u[n]:u.svg?u.origin:tc(jn(e,rn))+" "+u.zOrigin+"px"):(u=e.style[n],(!u||u==="auto"||a||~(u+"").indexOf("calc("))&&(u=ec[n]&&ec[n](e,n,s)||jn(e,n)||f1(e,n)||(n==="opacity"?1:0))),s&&!~(u+"").trim().indexOf(" ")?gs(e,n,u,s)+s:u},Yw=function(e,n,s,a){if(!s||s==="none"){var u=ml(n,e,1),c=u&&jn(e,u,1);c&&c!==s?(n=u,s=c):n==="borderColor"&&(s=jn(e,"borderTopColor"))}var d=new sn(this._pt,e.style,n,0,1,P1),h=0,m=0,p,g,v,b,C,S,T,A,D,N,Y,z;if(d.b=s,d.e=a,s+="",a+="",a.substring(0,6)==="var(--"&&(a=jn(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(S=e.style[n],e.style[n]=a,a=jn(e,n)||a,S?e.style[n]=S:Js(e,n)),p=[s,a],M1(p),s=p[0],a=p[1],v=s.match($r)||[],z=a.match($r)||[],z.length){for(;g=$r.exec(a);)T=g[0],D=a.substring(h,g.index),C?C=(C+1)%5:(D.substr(-5)==="rgba("||D.substr(-5)==="hsla(")&&(C=1),T!==(S=v[m++]||"")&&(b=parseFloat(S)||0,Y=S.substr((b+"").length),T.charAt(1)==="="&&(T=nl(b,T)+Y),A=parseFloat(T),N=T.substr((A+"").length),h=$r.lastIndex-N.length,N||(N=N||bn.units[n]||Y,h===a.length&&(a+=N,d.e+=N)),Y!==N&&(b=gs(e,n,S,N)||0),d._pt={_next:d._pt,p:D||m===1?D:",",s:b,c:A-b,m:C&&C<4||n==="zIndex"?Math.round:0});d.c=h<a.length?a.substring(h,a.length):""}else d.r=n==="display"&&a==="none"?G1:F1;return r1.test(a)&&(d.e=0),this._pt=d,d},Y0={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Fw=function(e){var n=e.split(" "),s=n[0],a=n[1]||"50%";return(s==="top"||s==="bottom"||a==="left"||a==="right")&&(e=s,s=a,a=e),n[0]=Y0[s]||s,n[1]=Y0[a]||a,n.join(" ")},Gw=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,a=s.style,u=n.u,c=s._gsap,d,h,m;if(u==="all"||u===!0)a.cssText="",h=1;else for(u=u.split(","),m=u.length;--m>-1;)d=u[m],Di[d]&&(h=1,d=d==="transformOrigin"?rn:it),Js(s,d);h&&(Js(s,it),c&&(c.svg&&s.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",$a(s,1),c.uncache=1,V1(a)))}},ec={clearProps:function(e,n,s,a,u){if(u.data!=="isFromStart"){var c=e._pt=new sn(e._pt,n,s,0,0,Gw);return c.u=a,c.pr=-10,c.tween=u,e._props.push(s),1}}},Wa=[1,0,0,1,0,0],Z1={},W1=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},F0=function(e){var n=jn(e,it);return W1(n)?Wa:n.substr(7).match(s1).map(mt)},Pm=function(e,n){var s=e._gsap||Ks(e),a=e.style,u=F0(e),c,d,h,m;return s.svg&&e.getAttribute("transform")?(h=e.transform.baseVal.consolidate().matrix,u=[h.a,h.b,h.c,h.d,h.e,h.f],u.join(",")==="1,0,0,1,0,0"?Wa:u):(u===Wa&&!e.offsetParent&&e!==il&&!s.svg&&(h=a.display,a.display="block",c=e.parentNode,(!c||!e.offsetParent&&!e.getBoundingClientRect().width)&&(m=1,d=e.nextElementSibling,il.appendChild(e)),u=F0(e),h?a.display=h:Js(e,"display"),m&&(d?c.insertBefore(e,d):c?c.appendChild(e):il.removeChild(e))),n&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},Vd=function(e,n,s,a,u,c){var d=e._gsap,h=u||Pm(e,!0),m=d.xOrigin||0,p=d.yOrigin||0,g=d.xOffset||0,v=d.yOffset||0,b=h[0],C=h[1],S=h[2],T=h[3],A=h[4],D=h[5],N=n.split(" "),Y=parseFloat(N[0])||0,z=parseFloat(N[1])||0,K,Q,G,F;s?h!==Wa&&(Q=b*T-C*S)&&(G=Y*(T/Q)+z*(-S/Q)+(S*D-T*A)/Q,F=Y*(-C/Q)+z*(b/Q)-(b*D-C*A)/Q,Y=G,z=F):(K=X1(e),Y=K.x+(~N[0].indexOf("%")?Y/100*K.width:Y),z=K.y+(~(N[1]||N[0]).indexOf("%")?z/100*K.height:z)),a||a!==!1&&d.smooth?(A=Y-m,D=z-p,d.xOffset=g+(A*b+D*S)-A,d.yOffset=v+(A*C+D*T)-D):d.xOffset=d.yOffset=0,d.xOrigin=Y,d.yOrigin=z,d.smooth=!!a,d.origin=n,d.originIsAbsolute=!!s,e.style[rn]="0px 0px",c&&(os(c,d,"xOrigin",m,Y),os(c,d,"yOrigin",p,z),os(c,d,"xOffset",g,d.xOffset),os(c,d,"yOffset",v,d.yOffset)),e.setAttribute("data-svg-origin",Y+" "+z)},$a=function(e,n){var s=e._gsap||new k1(e);if("x"in s&&!n&&!s.uncache)return s;var a=e.style,u=s.scaleX<0,c="px",d="deg",h=getComputedStyle(e),m=jn(e,rn)||"0",p,g,v,b,C,S,T,A,D,N,Y,z,K,Q,G,F,te,ne,oe,ce,fe,le,U,V,B,ae,R,L,W,$,ee,re;return p=g=v=S=T=A=D=N=Y=0,b=C=1,s.svg=!!(e.getCTM&&K1(e)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(a[it]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[it]!=="none"?h[it]:"")),a.scale=a.rotate=a.translate="none"),Q=Pm(e,s.svg),s.svg&&(s.uncache?(B=e.getBBox(),m=s.xOrigin-B.x+"px "+(s.yOrigin-B.y)+"px",V=""):V=!n&&e.getAttribute("data-svg-origin"),Vd(e,V||m,!!V||s.originIsAbsolute,s.smooth!==!1,Q)),z=s.xOrigin||0,K=s.yOrigin||0,Q!==Wa&&(ne=Q[0],oe=Q[1],ce=Q[2],fe=Q[3],p=le=Q[4],g=U=Q[5],Q.length===6?(b=Math.sqrt(ne*ne+oe*oe),C=Math.sqrt(fe*fe+ce*ce),S=ne||oe?Zr(oe,ne)*Fs:0,D=ce||fe?Zr(ce,fe)*Fs+S:0,D&&(C*=Math.abs(Math.cos(D*sl))),s.svg&&(p-=z-(z*ne+K*ce),g-=K-(z*oe+K*fe))):(re=Q[6],$=Q[7],R=Q[8],L=Q[9],W=Q[10],ee=Q[11],p=Q[12],g=Q[13],v=Q[14],G=Zr(re,W),T=G*Fs,G&&(F=Math.cos(-G),te=Math.sin(-G),V=le*F+R*te,B=U*F+L*te,ae=re*F+W*te,R=le*-te+R*F,L=U*-te+L*F,W=re*-te+W*F,ee=$*-te+ee*F,le=V,U=B,re=ae),G=Zr(-ce,W),A=G*Fs,G&&(F=Math.cos(-G),te=Math.sin(-G),V=ne*F-R*te,B=oe*F-L*te,ae=ce*F-W*te,ee=fe*te+ee*F,ne=V,oe=B,ce=ae),G=Zr(oe,ne),S=G*Fs,G&&(F=Math.cos(G),te=Math.sin(G),V=ne*F+oe*te,B=le*F+U*te,oe=oe*F-ne*te,U=U*F-le*te,ne=V,le=B),T&&Math.abs(T)+Math.abs(S)>359.9&&(T=S=0,A=180-A),b=mt(Math.sqrt(ne*ne+oe*oe+ce*ce)),C=mt(Math.sqrt(U*U+re*re)),G=Zr(le,U),D=Math.abs(G)>2e-4?G*Fs:0,Y=ee?1/(ee<0?-ee:ee):0),s.svg&&(V=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!W1(jn(e,it)),V&&e.setAttribute("transform",V))),Math.abs(D)>90&&Math.abs(D)<270&&(u?(b*=-1,D+=S<=0?180:-180,S+=S<=0?180:-180):(C*=-1,D+=D<=0?180:-180)),n=n||s.uncache,s.x=p-((s.xPercent=p&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+c,s.y=g-((s.yPercent=g&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+c,s.z=v+c,s.scaleX=mt(b),s.scaleY=mt(C),s.rotation=mt(S)+d,s.rotationX=mt(T)+d,s.rotationY=mt(A)+d,s.skewX=D+d,s.skewY=N+d,s.transformPerspective=Y+c,(s.zOrigin=parseFloat(m.split(" ")[2])||!n&&s.zOrigin||0)&&(a[rn]=tc(m)),s.xOffset=s.yOffset=0,s.force3D=bn.force3D,s.renderTransform=s.svg?qw:Q1?$1:Vw,s.uncache=0,s},tc=function(e){return(e=e.split(" "))[0]+" "+e[1]},pd=function(e,n,s){var a=Yt(n);return mt(parseFloat(n)+parseFloat(gs(e,"x",s+"px",a)))+a},Vw=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,$1(e,n)},Hs="0deg",Na="0px",Ys=") ",$1=function(e,n){var s=n||this,a=s.xPercent,u=s.yPercent,c=s.x,d=s.y,h=s.z,m=s.rotation,p=s.rotationY,g=s.rotationX,v=s.skewX,b=s.skewY,C=s.scaleX,S=s.scaleY,T=s.transformPerspective,A=s.force3D,D=s.target,N=s.zOrigin,Y="",z=A==="auto"&&e&&e!==1||A===!0;if(N&&(g!==Hs||p!==Hs)){var K=parseFloat(p)*sl,Q=Math.sin(K),G=Math.cos(K),F;K=parseFloat(g)*sl,F=Math.cos(K),c=pd(D,c,Q*F*-N),d=pd(D,d,-Math.sin(K)*-N),h=pd(D,h,G*F*-N+N)}T!==Na&&(Y+="perspective("+T+Ys),(a||u)&&(Y+="translate("+a+"%, "+u+"%) "),(z||c!==Na||d!==Na||h!==Na)&&(Y+=h!==Na||z?"translate3d("+c+", "+d+", "+h+") ":"translate("+c+", "+d+Ys),m!==Hs&&(Y+="rotate("+m+Ys),p!==Hs&&(Y+="rotateY("+p+Ys),g!==Hs&&(Y+="rotateX("+g+Ys),(v!==Hs||b!==Hs)&&(Y+="skew("+v+", "+b+Ys),(C!==1||S!==1)&&(Y+="scale("+C+", "+S+Ys),D.style[it]=Y||"translate(0, 0)"},qw=function(e,n){var s=n||this,a=s.xPercent,u=s.yPercent,c=s.x,d=s.y,h=s.rotation,m=s.skewX,p=s.skewY,g=s.scaleX,v=s.scaleY,b=s.target,C=s.xOrigin,S=s.yOrigin,T=s.xOffset,A=s.yOffset,D=s.forceCSS,N=parseFloat(c),Y=parseFloat(d),z,K,Q,G,F;h=parseFloat(h),m=parseFloat(m),p=parseFloat(p),p&&(p=parseFloat(p),m+=p,h+=p),h||m?(h*=sl,m*=sl,z=Math.cos(h)*g,K=Math.sin(h)*g,Q=Math.sin(h-m)*-v,G=Math.cos(h-m)*v,m&&(p*=sl,F=Math.tan(m-p),F=Math.sqrt(1+F*F),Q*=F,G*=F,p&&(F=Math.tan(p),F=Math.sqrt(1+F*F),z*=F,K*=F)),z=mt(z),K=mt(K),Q=mt(Q),G=mt(G)):(z=g,G=v,K=Q=0),(N&&!~(c+"").indexOf("px")||Y&&!~(d+"").indexOf("px"))&&(N=gs(b,"x",c,"px"),Y=gs(b,"y",d,"px")),(C||S||T||A)&&(N=mt(N+C-(C*z+S*Q)+T),Y=mt(Y+S-(C*K+S*G)+A)),(a||u)&&(F=b.getBBox(),N=mt(N+a/100*F.width),Y=mt(Y+u/100*F.height)),F="matrix("+z+","+K+","+Q+","+G+","+N+","+Y+")",b.setAttribute("transform",F),D&&(b.style[it]=F)},Qw=function(e,n,s,a,u){var c=360,d=Dt(u),h=parseFloat(u)*(d&&~u.indexOf("rad")?Fs:1),m=h-a,p=a+m+"deg",g,v;return d&&(g=u.split("_")[1],g==="short"&&(m%=c,m!==m%(c/2)&&(m+=m<0?c:-c)),g==="cw"&&m<0?m=(m+c*U0)%c-~~(m/c)*c:g==="ccw"&&m>0&&(m=(m-c*U0)%c-~~(m/c)*c)),e._pt=v=new sn(e._pt,n,s,a,m,Mw),v.e=p,v.u="deg",e._props.push(s),v},G0=function(e,n){for(var s in n)e[s]=n[s];return e},Xw=function(e,n,s){var a=G0({},s._gsap),u="perspective,force3D,transformOrigin,svgOrigin",c=s.style,d,h,m,p,g,v,b,C;a.svg?(m=s.getAttribute("transform"),s.setAttribute("transform",""),c[it]=n,d=$a(s,1),Js(s,it),s.setAttribute("transform",m)):(m=getComputedStyle(s)[it],c[it]=n,d=$a(s,1),c[it]=m);for(h in Di)m=a[h],p=d[h],m!==p&&u.indexOf(h)<0&&(b=Yt(m),C=Yt(p),g=b!==C?gs(s,h,m,C):parseFloat(m),v=parseFloat(p),e._pt=new sn(e._pt,d,h,g,v-g,Yd),e._pt.u=C||0,e._props.push(h));G0(d,a)};nn("padding,margin,Width,Radius",function(r,e){var n="Top",s="Right",a="Bottom",u="Left",c=(e<3?[n,s,a,u]:[n+u,n+s,a+s,a+u]).map(function(d){return e<2?r+d:"border"+d+r});ec[e>1?"border"+r:r]=function(d,h,m,p,g){var v,b;if(arguments.length<4)return v=c.map(function(C){return wi(d,C,m)}),b=v.join(" "),b.split(v[0]).length===5?v[0]:b;v=(p+"").split(" "),b={},c.forEach(function(C,S){return b[C]=v[S]=v[S]||v[(S-1)/2|0]}),d.init(h,b,g)}});var J1={name:"css",register:Gd,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,a,u){var c=this._props,d=e.style,h=s.vars.startAt,m,p,g,v,b,C,S,T,A,D,N,Y,z,K,Q,G;Um||Gd(),this.styles=this.styles||q1(e),G=this.styles.props,this.tween=s;for(S in n)if(S!=="autoRound"&&(p=n[S],!(vn[S]&&z1(S,n,s,a,e,u)))){if(b=typeof p,C=ec[S],b==="function"&&(p=p.call(s,a,e,u),b=typeof p),b==="string"&&~p.indexOf("random(")&&(p=Xa(p)),C)C(this,e,S,p,s)&&(Q=1);else if(S.substr(0,2)==="--")m=(getComputedStyle(e).getPropertyValue(S)+"").trim(),p+="",fs.lastIndex=0,fs.test(m)||(T=Yt(m),A=Yt(p)),A?T!==A&&(m=gs(e,S,m,A)+A):T&&(p+=T),this.add(d,"setProperty",m,p,a,u,0,0,S),c.push(S),G.push(S,0,d[S]);else if(b!=="undefined"){if(h&&S in h?(m=typeof h[S]=="function"?h[S].call(s,a,e,u):h[S],Dt(m)&&~m.indexOf("random(")&&(m=Xa(m)),Yt(m+"")||m==="auto"||(m+=bn.units[S]||Yt(wi(e,S))||""),(m+"").charAt(1)==="="&&(m=wi(e,S))):m=wi(e,S),v=parseFloat(m),D=b==="string"&&p.charAt(1)==="="&&p.substr(0,2),D&&(p=p.substr(2)),g=parseFloat(p),S in ii&&(S==="autoAlpha"&&(v===1&&wi(e,"visibility")==="hidden"&&g&&(v=0),G.push("visibility",0,d.visibility),os(this,d,"visibility",v?"inherit":"hidden",g?"inherit":"hidden",!g)),S!=="scale"&&S!=="transform"&&(S=ii[S],~S.indexOf(",")&&(S=S.split(",")[0]))),N=S in Di,N){if(this.styles.save(S),b==="string"&&p.substring(0,6)==="var(--"&&(p=jn(e,p.substring(4,p.indexOf(")"))),g=parseFloat(p)),Y||(z=e._gsap,z.renderTransform&&!n.parseTransform||$a(e,n.parseTransform),K=n.smoothOrigin!==!1&&z.smooth,Y=this._pt=new sn(this._pt,d,it,0,1,z.renderTransform,z,0,-1),Y.dep=1),S==="scale")this._pt=new sn(this._pt,z,"scaleY",z.scaleY,(D?nl(z.scaleY,D+g):g)-z.scaleY||0,Yd),this._pt.u=0,c.push("scaleY",S),S+="X";else if(S==="transformOrigin"){G.push(rn,0,d[rn]),p=Fw(p),z.svg?Vd(e,p,0,K,0,this):(A=parseFloat(p.split(" ")[2])||0,A!==z.zOrigin&&os(this,z,"zOrigin",z.zOrigin,A),os(this,d,S,tc(m),tc(p)));continue}else if(S==="svgOrigin"){Vd(e,p,1,K,0,this);continue}else if(S in Z1){Qw(this,z,S,v,D?nl(v,D+p):p);continue}else if(S==="smoothOrigin"){os(this,z,"smooth",z.smooth,p);continue}else if(S==="force3D"){z[S]=p;continue}else if(S==="transform"){Xw(this,p,e);continue}}else S in d||(S=ml(S)||S);if(N||(g||g===0)&&(v||v===0)&&!Nw.test(p)&&S in d)T=(m+"").substr((v+"").length),g||(g=0),A=Yt(p)||(S in bn.units?bn.units[S]:T),T!==A&&(v=gs(e,S,m,A)),this._pt=new sn(this._pt,N?z:d,S,v,(D?nl(v,D+g):g)-v,!N&&(A==="px"||S==="zIndex")&&n.autoRound!==!1?Dw:Yd),this._pt.u=A||0,T!==A&&A!=="%"&&(this._pt.b=m,this._pt.r=Ow);else if(S in d)Yw.call(this,e,S,m,D?D+p:p);else if(S in e)this.add(e,S,m||e[S],D?D+p:p,a,u);else if(S!=="parseTransform"){Rm(S,p);continue}N||(S in d?G.push(S,0,d[S]):typeof e[S]=="function"?G.push(S,2,e[S]()):G.push(S,1,m||e[S])),c.push(S)}}Q&&H1(this)},render:function(e,n){if(n.tween._time||!jm())for(var s=n._pt;s;)s.r(e,s.d),s=s._next;else n.styles.revert()},get:wi,aliases:ii,getSetter:function(e,n,s){var a=ii[n];return a&&a.indexOf(",")<0&&(n=a),n in Di&&n!==rn&&(e._gsap.x||wi(e,"x"))?s&&I0===s?n==="scale"?Iw:zw:(I0=s||{})&&(n==="scale"?Uw:jw):e.style&&!Tm(e.style[n])?Lw:~n.indexOf("-")?kw:zm(e,n)},core:{_removeProperty:Js,_getMatrix:Pm}};ln.utils.checkPrefix=ml;ln.core.getStyleSaver=q1;(function(r,e,n,s){var a=nn(r+","+e+","+n,function(u){Di[u]=1});nn(e,function(u){bn.units[u]="deg",Z1[u]=1}),ii[a[13]]=r+","+e,nn(s,function(u){var c=u.split(":");ii[c[1]]=a[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");nn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){bn.units[r]="px"});ln.registerPlugin(J1);var tt=ln.registerPlugin(J1)||ln;tt.core.Tween;const Kw=({targetSelector:r=".cursor-target",spinDuration:e=3.14,hideDefaultCursor:n=!0})=>{const s=O.useRef(null),a=O.useRef(null),u=O.useRef(null),c=O.useRef(null),d=O.useMemo(()=>({borderWidth:3,cornerSize:12,parallaxStrength:5e-5}),[]),h=O.useCallback((m,p)=>{s.current&&tt.to(s.current,{x:m,y:p,duration:.1,ease:"power3.out"})},[]);return O.useEffect(()=>{if(!s.current)return;const m=document.body.style.cursor;n&&(document.body.style.cursor="none");const p=s.current;a.current=p.querySelectorAll(".target-cursor-corner");let g=null,v=null,b=null,C=!1,S=null;const T=Q=>{v&&Q.removeEventListener("mousemove",v),b&&Q.removeEventListener("mouseleave",b),v=null,b=null};tt.set(p,{xPercent:-50,yPercent:-50,x:window.innerWidth/2,y:window.innerHeight/2}),(()=>{u.current&&u.current.kill(),u.current=tt.timeline({repeat:-1}).to(p,{rotation:"+=360",duration:e,ease:"none"})})();const D=Q=>h(Q.clientX,Q.clientY);window.addEventListener("mousemove",D);const N=()=>{if(!g||!s.current)return;const Q=tt.getProperty(s.current,"x"),G=tt.getProperty(s.current,"y"),F=document.elementFromPoint(Q,G);F&&(F===g||F.closest(r)===g)||b&&b()};window.addEventListener("scroll",N,{passive:!0}),window.addEventListener("mousemove",D);const Y=()=>{c.current&&(tt.to(c.current,{scale:.7,duration:.3}),tt.to(s.current,{scale:.9,duration:.2}))},z=()=>{if(a.current){const Q=Array.from(a.current);tt.killTweensOf(Q);const{cornerSize:G}=d,F=[{x:-G*1.5,y:-G*1.5},{x:G*.5,y:-G*1.5},{x:G*.5,y:G*.5},{x:-G*1.5,y:G*.5}];Q.forEach((te,ne)=>{tt.to(te,{x:F[ne].x,y:F[ne].y,duration:.3,ease:"power3.out",clearProps:"x,y"},0)})}tt.to(s.current,{scale:1,duration:.2}),tt.to(c.current,{scale:1,duration:.3}),c.current&&(tt.to(c.current,{scale:1,duration:.3}),tt.to(s.current,{scale:1,duration:.2}))};window.addEventListener("mousedown",Y),window.addEventListener("mouseup",z);const K=Q=>{const G=Q.target,F=[];let te=G;for(;te&&te!==document.body;)te.matches(r)&&F.push(te),te=te.parentElement;const ne=F[0]||null;if(!ne||!s.current||!a.current||g===ne)return;g&&T(g),S&&(clearTimeout(S),S=null),g=ne,tt.killTweensOf(s.current,"rotation"),u.current?.pause(),tt.set(s.current,{rotation:0});const oe=(U,V)=>{const B=ne.getBoundingClientRect(),ae=s.current.getBoundingClientRect(),R=ae.left+ae.width/2,L=ae.top+ae.height/2,[W,$,ee,re]=Array.from(a.current),{borderWidth:ie,cornerSize:Fe,parallaxStrength:De}=d;let Xt={x:B.left-R-ie,y:B.top-L-ie},pe={x:B.right-R+ie-Fe,y:B.top-L-ie},Le={x:B.right-R+ie-Fe,y:B.bottom-L+ie-Fe},Ze={x:B.left-R-ie,y:B.bottom-L+ie-Fe};if(U!==void 0&&V!==void 0){const on=B.left+B.width/2,_t=B.top+B.height/2,bt=(U-on)*De,ft=(V-_t)*De;Xt.x+=bt,Xt.y+=ft,pe.x+=bt,pe.y+=ft,Le.x+=bt,Le.y+=ft,Ze.x+=bt,Ze.y+=ft}const rt=tt.timeline(),xn=[W,$,ee,re],an=[Xt,pe,Le,Ze];xn.forEach((on,_t)=>{rt.to(on,{x:an[_t].x,y:an[_t].y,duration:.2,ease:"power2.out"},0)})};C=!0,oe(),setTimeout(()=>{C=!1},1);let ce=null;const fe=U=>{ce||C||(ce=requestAnimationFrame(()=>{const V=U;oe(V.clientX,V.clientY),ce=null}))},le=()=>{if(g=null,C=!1,a.current){const U=Array.from(a.current);tt.killTweensOf(U);const{cornerSize:V}=d,B=[{x:-V*1.5,y:-V*1.5},{x:V*.5,y:-V*1.5},{x:V*.5,y:V*.5},{x:-V*1.5,y:V*.5}];U.forEach((ae,R)=>{tt.to(ae,{x:B[R].x,y:B[R].y,duration:.3,ease:"power3.out",clearProps:"x,y"},0)})}S=setTimeout(()=>{if(!g&&s.current&&u.current){const V=tt.getProperty(s.current,"rotation")%360;u.current.kill(),u.current=tt.timeline({repeat:-1}).to(s.current,{rotation:"+=360",duration:e,ease:"none"}),tt.to(s.current,{rotation:V+360,duration:e*(1-V/360),ease:"none",onComplete:()=>{u.current?.restart()}})}S=null},50),T(ne)};v=fe,b=le,ne.addEventListener("mousemove",fe),ne.addEventListener("mouseleave",le)};return window.addEventListener("mouseover",K,{passive:!0}),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseover",K),window.removeEventListener("scroll",N),g&&T(g),console.log("Cleaning up TargetCursor"),u.current?.kill(),document.body.style.cursor=m}},[r,e,h,d,n]),O.useEffect(()=>{!s.current||!u.current||u.current.isActive()&&(u.current.kill(),u.current=tt.timeline({repeat:-1}).to(s.current,{rotation:"+=360",duration:e,ease:"none"}))},[e]),x.jsxs("div",{ref:s,className:"target-cursor-wrapper",children:[x.jsx("div",{ref:c,className:"target-cursor-dot"}),x.jsx("div",{className:"target-cursor-corner corner-tl"}),x.jsx("div",{className:"target-cursor-corner corner-tr"}),x.jsx("div",{className:"target-cursor-corner corner-br"}),x.jsx("div",{className:"target-cursor-corner corner-bl"})]})};function gd(r,e,n){e/=100,n/=100;let s=(1-Math.abs(2*n-1))*e,a=s*(1-Math.abs(r/60%2-1)),u=n-s/2,c=0,d=0,h=0;return 0<=r&&r<60?[c,d,h]=[s,a,0]:60<=r&&r<120?[c,d,h]=[a,s,0]:120<=r&&r<180?[c,d,h]=[0,s,a]:180<=r&&r<240?[c,d,h]=[0,a,s]:240<=r&&r<300?[c,d,h]=[a,0,s]:300<=r&&r<360&&([c,d,h]=[s,0,a]),c=Math.round((c+u)*255),d=Math.round((d+u)*255),h=Math.round((h+u)*255),"#"+[c,d,h].map(m=>m.toString(16).padStart(2,"0")).join("")}function Oe({text:r="Button Text",fontSize:e="1vw",angle:n=270,step:s=10,gradient:a,onClick:u}){let c=a;if(!c){const h=n%360,m=(n+s)%360,p=(n+s*2)%360;c=[gd(h,100,50),gd(m,100,20),gd(p,100,50)]}const d=`linear-gradient(135deg, ${c.join(", ")})`;return x.jsx("button",{className:"cursor-target",style:{"--font-size":e,"--button-gradient":d},onClick:u,children:r})}const Hm=({direction:r="right",speed:e=1,borderColor:n="#999",squareSize:s=40,hoverFillColor:a="#222",className:u=""})=>{const c=O.useRef(null),d=O.useRef(null),h=O.useRef(),m=O.useRef(),p=O.useRef({x:0,y:0}),g=O.useRef(null);return O.useEffect(()=>{const v=c.current,b=v.getContext("2d"),C=()=>{v.width=v.offsetWidth,v.height=v.offsetHeight,h.current=Math.ceil(v.width/s)+1,m.current=Math.ceil(v.height/s)+1};window.addEventListener("resize",C),C();const S=()=>{b.clearRect(0,0,v.width,v.height);const N=Math.floor(p.current.x/s)*s,Y=Math.floor(p.current.y/s)*s;for(let K=N;K<v.width+s;K+=s)for(let Q=Y;Q<v.height+s;Q+=s){const G=K-p.current.x%s,F=Q-p.current.y%s;g.current&&Math.floor((K-N)/s)===g.current.x&&Math.floor((Q-Y)/s)===g.current.y&&(b.fillStyle=a,b.fillRect(G,F,s,s)),b.strokeStyle=n,b.strokeRect(G,F,s,s)}const z=b.createRadialGradient(v.width/2,v.height/2,0,v.width/2,v.height/2,Math.sqrt(v.width**2+v.height**2)/2);z.addColorStop(0,"rgba(0, 0, 0, 0)"),b.fillStyle=z,b.fillRect(0,0,v.width,v.height)},T=()=>{const N=Math.max(e,.1);switch(r){case"right":p.current.x=(p.current.x-N+s)%s;break;case"left":p.current.x=(p.current.x+N+s)%s;break;case"up":p.current.y=(p.current.y+N+s)%s;break;case"down":p.current.y=(p.current.y-N+s)%s;break;case"diagonal":p.current.x=(p.current.x-N+s)%s,p.current.y=(p.current.y-N+s)%s;break}S(),d.current=requestAnimationFrame(T)},A=N=>{const Y=v.getBoundingClientRect(),z=N.clientX-Y.left,K=N.clientY-Y.top,Q=Math.floor(p.current.x/s)*s,G=Math.floor(p.current.y/s)*s,F=Math.floor((z+p.current.x-Q)/s),te=Math.floor((K+p.current.y-G)/s);(!g.current||g.current.x!==F||g.current.y!==te)&&(g.current={x:F,y:te})},D=()=>{g.current=null};return v.addEventListener("mousemove",A),v.addEventListener("mouseleave",D),d.current=requestAnimationFrame(T),()=>{window.removeEventListener("resize",C),cancelAnimationFrame(d.current),v.removeEventListener("mousemove",A),v.removeEventListener("mouseleave",D)}},[r,e,n,a,s]),x.jsx("canvas",{ref:c,className:`squares-canvas ${u}`})};function Zw(){const r=rr(),{user:e,logout:n}=Em(),s=()=>{n(),r("/court-setup")};return x.jsxs("div",{className:"home",children:[x.jsx(Hm,{speed:.5,squareSize:100,direction:"diagonal",borderColor:"hsla(270, 50%, 50%, 0.25)",hoverFillColor:"hsla(60, 50%, 50%, 0.25)"}),x.jsxs("div",{className:"session-info-form",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Event ID"}),x.jsx("div",{className:"form-value",children:e?.eventId||"N/A"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Court ID"}),x.jsx("div",{className:"form-value",children:e?.courtId||"N/A"})]}),x.jsx(Oe,{text:"Logout",onClick:s,fontSize:"1.5dvw",angle:0})]}),x.jsxs("div",{className:"menu",children:[x.jsx(Oe,{text:"Screen",fontSize:"3dvw",angle:0,onClick:()=>r("/screen")}),x.jsx(Oe,{text:"Controller",fontSize:"3dvw",angle:60,onClick:()=>r("/controller")}),x.jsx(Oe,{text:"Data Import",fontSize:"3dvw",angle:180,onClick:()=>r("/import")}),x.jsx(Oe,{text:"Referee Register",fontSize:"3dvw",angle:300,onClick:()=>r("/referee/register")})]})]})}const Ww=()=>{};var V0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(r,e){if(!r)throw Tl(e)},Tl=function(r){return new Error("Firebase Database ("+eS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$w=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const a=r[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=r[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=r[n++],c=r[n++],d=r[n++],h=((a&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const u=r[n++],c=r[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Ym={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const u=r[a],c=a+1<r.length,d=c?r[a+1]:0,h=a+2<r.length,m=h?r[a+2]:0,p=u>>2,g=(u&3)<<4|d>>4;let v=(d&15)<<2|m>>6,b=m&63;h||(b=64,c||(v=64)),s.push(n[p],n[g],n[v],n[b])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$w(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const u=n[r.charAt(a++)],d=a<r.length?n[r.charAt(a)]:0;++a;const m=a<r.length?n[r.charAt(a)]:64;++a;const g=a<r.length?n[r.charAt(a)]:64;if(++a,u==null||d==null||m==null||g==null)throw new Jw;const v=u<<2|d>>4;if(s.push(v),m!==64){const b=d<<4&240|m>>2;if(s.push(b),g!==64){const C=m<<6&192|g;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(r){const e=tS(r);return Ym.encodeByteArray(e,!0)},nc=function(r){return nS(r).replace(/\./g,"")},qd=function(r){try{return Ym.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r){return iS(void 0,r)}function iS(r,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tR(n)||(r[n]=iS(r[n],e[n]));return r}function tR(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>nR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof V0>"u")return;const r=V0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qd(r[1]);return e&&JSON.parse(e)},sS=()=>{try{return Ww()||iR()||sR()||rR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lR=r=>sS()?.emulatorHosts?.[r],aR=r=>{const e=lR(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},rS=()=>sS()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oR(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nc(JSON.stringify(n)),nc(JSON.stringify(c)),""].join(".")}const Ba={};function cR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ba))Ba[e]?r.emulator.push(e):r.prod.push(e);return r}function fR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let q0=!1;function hR(r,e){if(typeof window>"u"||typeof document>"u"||!Fm(window.location.host)||Ba[r]===e||Ba[r]||q0)return;Ba[r]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",u=cR().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{q0=!0,c()},v}function p(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=fR(s),b=n("text"),C=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),A=n("preprendIcon"),D=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;d(N),p(T,S);const Y=m();h(D,A),N.append(D,C,T,Y),document.body.appendChild(N)}u?(C.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dR())}function mR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _R(){return eS.NODE_ADMIN===!0}function pR(){try{return typeof indexedDB=="object"}catch{return!1}}function gR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class mo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vR,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aS.prototype.create)}}class aS{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],c=u?yR(u,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new mo(a,d,s)}}function yR(r,e){return r.replace(SR,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const SR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(r){return JSON.parse(r)}function xt(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(r){let e={},n={},s={},a="";try{const u=r.split(".");e=Ja(qd(u[0])||""),n=Ja(qd(u[1])||""),a=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:a}},bR=function(r){const e=oS(r),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ER=function(r){const e=oS(r).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function er(r,e){if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}function Q0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ic(r,e,n){const s={};for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=e.call(n,r[a],a,r));return s}function sc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=r[a],c=e[a];if(X0(u)&&X0(c)){if(!sc(u,c))return!1}else if(u!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function X0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)s[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)s[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const v=s[g-3]^s[g-8]^s[g-14]^s[g-16];s[g]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4],m,p;for(let g=0;g<80;g++){g<40?g<20?(m=d^u&(c^d),p=1518500249):(m=u^c^d,p=1859775393):g<60?(m=u&c|d&(u|c),p=2400959708):(m=u^c^d,p=3395469782);const v=(a<<5|a>>>27)+m+h+p+s[g]&4294967295;h=d,d=c,c=(u<<30|u>>>2)&4294967295,u=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let a=0;const u=this.buf_;let c=this.inbuf_;for(;a<n;){if(c===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(u[c]=e.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(u),c=0;break}}else for(;a<n;)if(u[c]=e[a],++c,++a,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[a]>>u&255,++s;return e}}function Ac(r,e){return`${r} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);if(a>=55296&&a<=56319){const u=a-55296;s++,J(s<r.length,"Surrogate pair missing trail surrogate.");const c=r.charCodeAt(s)-56320;a=65536+(u<<10)+c}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Nc=function(r){let e=0;for(let n=0;n<r.length;n++){const s=r.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(r){return r&&r._delegate?r._delegate:r}class eo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new xl;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AR(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(r){return r===Gs?void 0:r}function AR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const MR={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},OR=qe.INFO,DR={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},LR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=DR[e];if(a)console[a](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uS{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const kR=(r,e)=>e.some(n=>r instanceof n);let K0,Z0;function zR(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cS=new WeakMap,Qd=new WeakMap,fS=new WeakMap,vd=new WeakMap,Gm=new WeakMap;function UR(r){const e=new Promise((n,s)=>{const a=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{n(hs(r.result)),a()},c=()=>{s(r.error),a()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&cS.set(n,r)}).catch(()=>{}),Gm.set(e,r),e}function jR(r){if(Qd.has(r))return;const e=new Promise((n,s)=>{const a=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{n(),a()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});Qd.set(r,e)}let Xd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fS.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function BR(r){Xd=r(Xd)}function PR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(yd(this),e,...n);return fS.set(s,e.sort?e.sort():[e]),hs(s)}:IR().includes(r)?function(...e){return r.apply(yd(this),e),hs(cS.get(this))}:function(...e){return hs(r.apply(yd(this),e))}}function HR(r){return typeof r=="function"?PR(r):(r instanceof IDBTransaction&&jR(r),kR(r,zR())?new Proxy(r,Xd):r)}function hs(r){if(r instanceof IDBRequest)return UR(r);if(vd.has(r))return vd.get(r);const e=HR(r);return e!==r&&(vd.set(r,e),Gm.set(e,r)),e}const yd=r=>Gm.get(r);function YR(r,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const c=indexedDB.open(r,e),d=hs(c);return s&&c.addEventListener("upgradeneeded",h=>{s(hs(c.result),h.oldVersion,h.newVersion,hs(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{u&&h.addEventListener("close",()=>u()),a&&h.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const FR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],Sd=new Map;function W0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sd.get(e))return Sd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=GR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||FR.includes(n)))return;const u=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let m=h.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),a&&h.done]))[0]};return Sd.set(e,u),u}BR(r=>({...r,get:(e,n,s)=>W0(e,n)||r.get(e,n,s),has:(e,n)=>!!W0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qR(r){return r.getComponent()?.type==="VERSION"}const Kd="@firebase/app",$0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new uS("@firebase/app"),QR="@firebase/app-compat",XR="@firebase/analytics-compat",KR="@firebase/analytics",ZR="@firebase/app-check-compat",WR="@firebase/app-check",$R="@firebase/auth",JR="@firebase/auth-compat",e2="@firebase/database",t2="@firebase/data-connect",n2="@firebase/database-compat",i2="@firebase/functions",s2="@firebase/functions-compat",r2="@firebase/installations",l2="@firebase/installations-compat",a2="@firebase/messaging",o2="@firebase/messaging-compat",u2="@firebase/performance",c2="@firebase/performance-compat",f2="@firebase/remote-config",h2="@firebase/remote-config-compat",d2="@firebase/storage",m2="@firebase/storage-compat",_2="@firebase/firestore",p2="@firebase/ai",g2="@firebase/firestore-compat",v2="firebase",y2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",S2={[Kd]:"fire-core",[QR]:"fire-core-compat",[KR]:"fire-analytics",[XR]:"fire-analytics-compat",[WR]:"fire-app-check",[ZR]:"fire-app-check-compat",[$R]:"fire-auth",[JR]:"fire-auth-compat",[e2]:"fire-rtdb",[t2]:"fire-data-connect",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[s2]:"fire-fn-compat",[r2]:"fire-iid",[l2]:"fire-iid-compat",[a2]:"fire-fcm",[o2]:"fire-fcm-compat",[u2]:"fire-perf",[c2]:"fire-perf-compat",[f2]:"fire-rc",[h2]:"fire-rc-compat",[d2]:"fire-gcs",[m2]:"fire-gcs-compat",[_2]:"fire-fst",[g2]:"fire-fst-compat",[p2]:"fire-vertex","fire-js":"fire-js",[v2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,b2=new Map,Wd=new Map;function J0(r,e){try{r.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function lc(r){const e=r.name;if(Wd.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,r);for(const n of rc.values())J0(n,r);for(const n of b2.values())J0(n,r);return!0}function E2(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function C2(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new aS("app","Firebase",T2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=y2;function hS(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Zd,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ds.create("bad-app-name",{appName:String(a)});if(n||(n=rS()),!n)throw ds.create("no-options");const u=rc.get(a);if(u){if(sc(n,u.options)&&sc(s,u.config))return u;throw ds.create("duplicate-app",{appName:a})}const c=new NR(a);for(const h of Wd.values())c.addComponent(h);const d=new x2(n,s,c);return rc.set(a,d),d}function R2(r=Zd){const e=rc.get(r);if(!e&&r===Zd&&rS())return hS();if(!e)throw ds.create("no-app",{appName:r});return e}function rl(r,e,n){let s=S2[r]??r;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(c.join(" "));return}lc(new eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",N2=1,to="firebase-heartbeat-store";let bd=null;function dS(){return bd||(bd=YR(A2,N2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(r=>{throw ds.create("idb-open",{originalErrorMessage:r.message})})),bd}async function M2(r){try{const n=(await dS()).transaction(to),s=await n.objectStore(to).get(mS(r));return await n.done,s}catch(e){if(e instanceof mo)Li.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}}async function ey(r,e){try{const s=(await dS()).transaction(to,"readwrite");await s.objectStore(to).put(e,mS(r)),await s.done}catch(n){if(n instanceof mo)Li.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n?.message});Li.warn(s.message)}}}function mS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=1024,D2=30;class L2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ty();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>D2){const a=I2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ty(),{heartbeatsToSend:n,unsentEntries:s}=k2(this._heartbeatsCache.heartbeats),a=nc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Li.warn(e),""}}}function ty(){return new Date().toISOString().substring(0,10)}function k2(r,e=O2){const n=[];let s=r.slice();for(const a of r){const u=n.find(c=>c.agent===a.agent);if(u){if(u.dates.push(a.date),ny(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ny(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class z2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pR()?gR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ey(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ey(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ny(r){return nc(JSON.stringify({version:2,heartbeats:r})).length}function I2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r){lc(new eo("platform-logger",e=>new VR(e),"PRIVATE")),lc(new eo("heartbeat",e=>new L2(e),"PRIVATE")),rl(Kd,$0,r),rl(Kd,$0,"esm2020"),rl("fire-js","")}U2("");var j2="firebase",B2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl(j2,B2,"app");var iy={};const sy="@firebase/database",ry="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _S="";function P2(r){_S=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ja(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new H2(e)}}catch{}return new Y2},Qs=pS("localStorage"),F2=pS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=new uS("@firebase/database"),gS=function(){let r=1;return function(){return r++}}(),vS=function(r){const e=xR(r),n=new TR;n.update(e);const s=n.digest();return Ym.encodeByteArray(s)},_o=function(...r){let e="";for(let n=0;n<r.length;n++){const s=r[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=_o.apply(null,s):typeof s=="object"?e+=xt(s):e+=s,e+=" "}return e};let Pa=null,ly=!0;const G2=function(r,e){J(!0,"Can't turn on custom loggers persistently."),ll.logLevel=qe.VERBOSE,Pa=ll.log.bind(ll)},It=function(...r){if(ly===!0&&(ly=!1,Pa===null&&F2.get("logging_enabled")===!0&&G2()),Pa){const e=_o.apply(null,r);Pa(e)}},po=function(r){return function(...e){It(r,...e)}},$d=function(...r){const e="FIREBASE INTERNAL ERROR: "+_o(...r);ll.error(e)},ki=function(...r){const e=`FIREBASE FATAL ERROR: ${_o(...r)}`;throw ll.error(e),new Error(e)},Qt=function(...r){const e="FIREBASE WARNING: "+_o(...r);ll.warn(e)},V2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vm=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},q2=function(r){if(document.readyState==="complete")r();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},_l="[MIN_NAME]",tr="[MAX_NAME]",or=function(r,e){if(r===e)return 0;if(r===_l||e===tr)return-1;if(e===_l||r===tr)return 1;{const n=ay(r),s=ay(e);return n!==null?s!==null?n-s===0?r.length-e.length:n-s:-1:s!==null?1:r<e?-1:1}},Q2=function(r,e){return r===e?0:r<e?-1:1},Ma=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+xt(e))},qm=function(r){if(typeof r!="object"||r===null)return xt(r);const e=[];for(const s in r)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=xt(e[s]),n+=":",n+=qm(r[e[s]]);return n+="}",n},yS=function(r,e){const n=r.length;if(n<=e)return[r];const s=[];for(let a=0;a<n;a+=e)a+e>n?s.push(r.substring(a,n)):s.push(r.substring(a,a+e));return s};function jt(r,e){for(const n in r)r.hasOwnProperty(n)&&e(n,r[n])}const SS=function(r){J(!Vm(r),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let a,u,c,d,h;r===0?(u=0,c=0,a=1/r===-1/0?1:0):(a=r<0,r=Math.abs(r),r>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(r)/Math.LN2),s),u=d+s,c=Math.round(r*Math.pow(2,n-d)-Math.pow(2,n))):(u=0,c=Math.round(r/Math.pow(2,1-s-n))));const m=[];for(h=n;h;h-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(h=e;h;h-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(a?1:0),m.reverse();const p=m.join("");let g="";for(h=0;h<64;h+=8){let v=parseInt(p.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},X2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},K2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Z2(r,e){let n="Unknown Error";r==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?n="Client doesn't have permission to access the desired data.":r==="unavailable"&&(n="The service is unavailable");const s=new Error(r+" at "+e._path.toString()+": "+n);return s.code=r.toUpperCase(),s}const W2=new RegExp("^-?(0*)\\d{1,10}$"),$2=-2147483648,J2=2147483647,ay=function(r){if(W2.test(r)){const e=Number(r);if(e>=$2&&e<=J2)return e}return null},wl=function(r){try{r()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Qt("Exception was thrown by user callback.",n),e},Math.floor(0))}},eA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ha=function(r,e){const n=setTimeout(r,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,C2(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Qt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(It("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qt(e)}}class qu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="5",bS="v",ES="s",CS="r",TS="f",xS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wS="ls",RS="p",Jd="ac",AS="websocket",NS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,s,a,u=!1,c="",d=!1,h=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function iA(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function OS(r,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let s;if(e===AS)s=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(e===NS)s=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);iA(r)&&(n.ns=r.namespace);const a=[];return jt(n,(u,c)=>{a.push(u+"="+c)}),s+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.counters_={}}incrementCounter(e,n=1){Kn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed={},Cd={};function Xm(r){const e=r.toString();return Ed[e]||(Ed[e]=new sA),Ed[e]}function rA(r,e){const n=r.toString();return Cd[n]||(Cd[n]=e()),Cd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&wl(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="start",aA="close",oA="pLPCommand",uA="pRTLPCB",DS="id",LS="pw",kS="ser",cA="cb",fA="seg",hA="ts",dA="d",mA="dframe",zS=1870,IS=30,_A=zS-IS,pA=25e3,gA=3e4;class el{constructor(e,n,s,a,u,c,d){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=po(e),this.stats_=Xm(n),this.urlFn=h=>(this.appCheckToken&&(h[Jd]=this.appCheckToken),OS(n,NS,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(gA)),q2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Km((...u)=>{const[c,d,h,m,p]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===oy)this.id=d,this.password=h;else if(c===aA)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[oy]="t",s[kS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[cA]=this.scriptTagHolder.uniqueCallbackIdentifier),s[bS]=Qm,this.transportSessionId&&(s[ES]=this.transportSessionId),this.lastSessionId&&(s[wS]=this.lastSessionId),this.applicationId&&(s[RS]=this.applicationId),this.appCheckToken&&(s[Jd]=this.appCheckToken),typeof location<"u"&&location.hostname&&xS.test(location.hostname)&&(s[CS]=TS);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){el.forceAllow_=!0}static forceDisallow(){el.forceDisallow_=!0}static isAvailable(){return el.forceAllow_?!0:!el.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!X2()&&!K2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=nS(n),a=yS(s,_A);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[mA]="t",s[DS]=e,s[LS]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=xt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Km{constructor(e,n,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gS(),window[oA+this.uniqueCallbackIdentifier]=e,window[uA+this.uniqueCallbackIdentifier]=n,this.myIFrame=Km.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){It("frame writing exception"),d.stack&&It(d.stack),It(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||It("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[DS]=this.myID,e[LS]=this.myPW,e[kS]=this.currentSerial;let n=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+IS+s.length<=zS;){const c=this.pendingSegs.shift();s=s+"&"+fA+a+"="+c.seg+"&"+hA+a+"="+c.ts+"&"+dA+a+"="+c.d,a++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(s,Math.floor(pA)),u=()=>{clearTimeout(a),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{It("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=16384,yA=45e3;let ac=null;typeof MozWebSocket<"u"?ac=MozWebSocket:typeof WebSocket<"u"&&(ac=WebSocket);class Fn{constructor(e,n,s,a,u,c,d){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=po(this.connId),this.stats_=Xm(n),this.connURL=Fn.connectionURL_(n,c,d,a,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,a,u){const c={};return c[bS]=Qm,typeof location<"u"&&location.hostname&&xS.test(location.hostname)&&(c[CS]=TS),n&&(c[ES]=n),s&&(c[wS]=s),a&&(c[Jd]=a),u&&(c[RS]=u),OS(e,AS,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qs.set("previous_websocket_failure",!0);try{let s;_R(),this.mySock=new ac(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Fn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&ac!==null&&!Fn.forceDisallow_}static previouslyFailed(){return Qs.isInMemoryStorage||Qs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Ja(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(J(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=yS(n,vA);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(yA))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fn.responsesRequiredToBeHealthy=2;Fn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static get ALL_TRANSPORTS(){return[el,Fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Fn&&Fn.isAvailable();let s=n&&!Fn.previouslyFailed();if(e.webSocketOnly&&(n||Qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Fn];else{const a=this.transports_=[];for(const u of no.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u);no.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}no.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=6e4,bA=5e3,EA=10*1024,CA=100*1024,Td="t",uy="d",TA="s",cy="r",xA="e",fy="o",hy="a",dy="n",my="p",wA="h";class RA{constructor(e,n,s,a,u,c,d,h,m,p){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=h,this.onKill_=m,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=po("c:"+this.id+":"),this.transportManager_=new no(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ha(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>EA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Td in e){const n=e[Td];n===hy?this.upgradeIfSecondaryHealthy_():n===cy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===fy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ma("t",e),s=Ma("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:my,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ma("t",e),s=Ma("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ma(Td,e);if(uy in e){const s=e[uy];if(n===wA){const a={...s};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===dy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===TA?this.onConnectionShutdown_(s):n===cy?this.onReset_(s):n===xA?$d("Server Error: "+s):n===fy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$d("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qm!==s&&Qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Ha(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(SA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ha(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:my,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{put(e,n,s,a){}merge(e,n,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const a=this.getInitialEvent(e);a&&n.apply(s,a)}off(e,n,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let u=0;u<a.length;u++)if(a[u].callback===n&&(!s||s===a[u].context)){a.splice(u,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends jS{static getInstance(){return new oc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=32,py=768;class Be{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ne(){return new Be("")}function Se(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function vs(r){return r.pieces_.length-r.pieceNum_}function Qe(r){let e=r.pieceNum_;return e<r.pieces_.length&&e++,new Be(r.pieces_,e)}function Zm(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function AA(r){let e="";for(let n=r.pieceNum_;n<r.pieces_.length;n++)r.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(r.pieces_[n])));return e||"/"}function io(r,e=0){return r.pieces_.slice(r.pieceNum_+e)}function BS(r){if(r.pieceNum_>=r.pieces_.length)return null;const e=[];for(let n=r.pieceNum_;n<r.pieces_.length-1;n++)e.push(r.pieces_[n]);return new Be(e,0)}function ut(r,e){const n=[];for(let s=r.pieceNum_;s<r.pieces_.length;s++)n.push(r.pieces_[s]);if(e instanceof Be)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&n.push(s[a])}return new Be(n,0)}function xe(r){return r.pieceNum_>=r.pieces_.length}function qt(r,e){const n=Se(r),s=Se(e);if(n===null)return e;if(n===s)return qt(Qe(r),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+r+")")}function NA(r,e){const n=io(r,0),s=io(e,0);for(let a=0;a<n.length&&a<s.length;a++){const u=or(n[a],s[a]);if(u!==0)return u}return n.length===s.length?0:n.length<s.length?-1:1}function Wm(r,e){if(vs(r)!==vs(e))return!1;for(let n=r.pieceNum_,s=e.pieceNum_;n<=r.pieces_.length;n++,s++)if(r.pieces_[n]!==e.pieces_[s])return!1;return!0}function Bn(r,e){let n=r.pieceNum_,s=e.pieceNum_;if(vs(r)>vs(e))return!1;for(;n<r.pieces_.length;){if(r.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class MA{constructor(e,n){this.errorPrefix_=n,this.parts_=io(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Nc(this.parts_[s]);PS(this)}}function OA(r,e){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(e),r.byteLength_+=Nc(e),PS(r)}function DA(r){const e=r.parts_.pop();r.byteLength_-=Nc(e),r.parts_.length>0&&(r.byteLength_-=1)}function PS(r){if(r.byteLength_>py)throw new Error(r.errorPrefix_+"has a key path longer than "+py+" bytes ("+r.byteLength_+").");if(r.parts_.length>_y)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_y+") or object contains a cycle "+Vs(r))}function Vs(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends jS{static getInstance(){return new $m}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=1e3,LA=300*1e3,gy=30*1e3,kA=1.3,zA=3e4,IA="server_kill",vy=3;class Ni extends US{constructor(e,n,s,a,u,c,d,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=Ni.nextPersistentConnectionId_++,this.log_=po("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oa,this.maxReconnectDelay_=LA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$m.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const a=++this.requestNumber_,u={r:a,a:e,b:n};this.log_(xt(u)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const n=new xl,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,a){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const d={onComplete:a,hashFn:n,query:e,tag:s};this.listens.get(c).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+s+" for "+a);const u={p:s},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,d=>{const h=d.d,m=d.s;Ni.warnOnListenWarnings_(h,n),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(m,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Kn(e,"w")){const s=er(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ER(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=gy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=bR(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,a=>{const u=a.s,c=a.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,n)}sendUnlisten_(e,n,s,a){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";a&&(u.q=s,u.t=a),this.sendRequest(c,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,a){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(e,n,s,a){this.putInternal("p",e,n,s,a)}merge(e,n,s,a){this.putInternal("m",e,n,s,a)}putInternal(e,n,s,a,u){this.initConnection_();const c={p:n,d:s};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:a}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):$d("Unrecognized action received from server: "+xt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zA&&(this.reconnectDelay_=Oa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Ni.nextConnectionId_++,u=this.lastSessionId;let c=!1,d=null;const h=function(){d?d.close():(c=!0,s())},m=function(g){J(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(g)};this.realtime_={close:h,sendRequest:m};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?It("getToken() completed but was canceled"):(It("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,d=new RA(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,b=>{Qt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(IA)},u))}catch(g){this.log_("Failed to get token: "+g),c||(this.repoInfo_.nodeAdmin&&Qt(g),h())}}}interrupt(e){It("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){It("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Q0(this.interruptReasons_)&&(this.reconnectDelay_=Oa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>qm(u)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const s=new Be(e).toString();let a;if(this.listens.has(s)){const u=this.listens.get(s);a=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,n){It("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vy&&(this.reconnectDelay_=gy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){It("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_S.replace(/\./g,"-")]=1,lS()?e["framework.cordova"]=1:mR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oc.getInstance().currentlyOnline();return Q0(this.interruptReasons_)&&e}}Ni.nextPersistentConnectionId_=0;Ni.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new be(_l,e),a=new be(_l,n);return this.compare(s,a)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;class HS extends Mc{static get __EMPTY_NODE(){return Bu}static set __EMPTY_NODE(e){Bu=e}compare(e,n){return or(e.name,n.name)}isDefinedOn(e){throw Tl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return be.MIN}maxPost(){return new be(tr,Bu)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,Bu)}toString(){return".key"}}const al=new HS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,s,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?s(e.key,n):1,a&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ot{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Ot.RED,this.left=a??en.EMPTY_NODE,this.right=u??en.EMPTY_NODE}copy(e,n,s,a,u){return new Ot(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return u<0?a=a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,a;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ot.RED=!0;Ot.BLACK=!1;class UA{copy(e,n,s,a,u){return this}insert(e,n,s){return new Ot(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,n=en.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new en(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ot.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,a=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pu(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new UA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(r,e){return or(r.name,e.name)}function Jm(r,e){return or(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em;function BA(r){em=r}const YS=function(r){return typeof r=="number"?"number:"+SS(r):"string:"+r},FS=function(r){if(r.isLeafNode()){const e=r.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kn(e,".sv"),"Priority must be a string or number.")}else J(r===em||r.isEmpty(),"priority of unexpected type.");J(r===em||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy;class Mt{static set __childrenNodeConstructor(e){yy=e}static get __childrenNodeConstructor(){return yy}constructor(e,n=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:Se(e)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Se(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(J(s!==".priority"||vs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=SS(this.value_):e+=this.value_,this.lazyHash_=vS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mt.__childrenNodeConstructor?-1:(J(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,a=Mt.VALUE_TYPE_ORDER.indexOf(n),u=Mt.VALUE_TYPE_ORDER.indexOf(s);return J(a>=0,"Unknown leaf type: "+n),J(u>=0,"Unknown leaf type: "+s),a===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GS,VS;function PA(r){GS=r}function HA(r){VS=r}class YA extends Mc{compare(e,n){const s=e.node.getPriority(),a=n.node.getPriority(),u=s.compareTo(a);return u===0?or(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return be.MIN}maxPost(){return new be(tr,new Mt("[PRIORITY-POST]",VS))}makePost(e,n){const s=GS(e);return new be(n,new Mt("[PRIORITY-POST]",s))}toString(){return".priority"}}const st=new YA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=Math.log(2);class GA{constructor(e){const n=u=>parseInt(Math.log(u)/FA,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uc=function(r,e,n,s){r.sort(e);const a=function(h,m){const p=m-h;let g,v;if(p===0)return null;if(p===1)return g=r[h],v=n?n(g):g,new Ot(v,g.node,Ot.BLACK,null,null);{const b=parseInt(p/2,10)+h,C=a(h,b),S=a(b+1,m);return g=r[b],v=n?n(g):g,new Ot(v,g.node,Ot.BLACK,C,S)}},u=function(h){let m=null,p=null,g=r.length;const v=function(C,S){const T=g-C,A=g;g-=C;const D=a(T+1,A),N=r[T],Y=n?n(N):N;b(new Ot(Y,N.node,S,null,D))},b=function(C){m?(m.left=C,m=C):(p=C,m=C)};for(let C=0;C<h.count;++C){const S=h.nextBitIsOne(),T=Math.pow(2,h.count-(C+1));S?v(T,Ot.BLACK):(v(T,Ot.BLACK),v(T,Ot.RED))}return p},c=new GA(r.length),d=u(c);return new en(s||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd;const Wr={};class Ri{static get Default(){return J(Wr&&st,"ChildrenNode.ts has not been loaded"),xd=xd||new Ri({".priority":Wr},{".priority":st}),xd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=er(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof en?n:null}hasIndex(e){return Kn(this.indexSet_,e.toString())}addIndex(e,n){J(e!==al,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const u=n.getIterator(be.Wrap);let c=u.getNext();for(;c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();let d;a?d=uc(s,e.getCompare()):d=Wr;const h=e.toString(),m={...this.indexSet_};m[h]=e;const p={...this.indexes_};return p[h]=d,new Ri(p,m)}addToIndexes(e,n){const s=ic(this.indexes_,(a,u)=>{const c=er(this.indexSet_,u);if(J(c,"Missing index implementation for "+u),a===Wr)if(c.isDefinedOn(e.node)){const d=[],h=n.getIterator(be.Wrap);let m=h.getNext();for(;m;)m.name!==e.name&&d.push(m),m=h.getNext();return d.push(e),uc(d,c.getCompare())}else return Wr;else{const d=n.get(e.name);let h=a;return d&&(h=h.remove(new be(e.name,d))),h.insert(e,e.node)}});return new Ri(s,this.indexSet_)}removeFromIndexes(e,n){const s=ic(this.indexes_,a=>{if(a===Wr)return a;{const u=n.get(e.name);return u?a.remove(new be(e.name,u)):a}});return new Ri(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da;class me{static get EMPTY_NODE(){return Da||(Da=new me(new en(Jm),null,Ri.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&FS(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Da}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Da:n}}getChild(e){const n=Se(e);return n===null?this:this.getImmediateChild(n).getChild(Qe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(J(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new be(e,n);let a,u;n.isEmpty()?(a=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const c=a.isEmpty()?Da:this.priorityNode_;return new me(a,c,u)}}updateChild(e,n){const s=Se(e);if(s===null)return n;{J(Se(e)!==".priority"||vs(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(Qe(e),n);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,a=0,u=!0;if(this.forEachChild(st,(c,d)=>{n[c]=d.val(e),s++,u&&me.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):u=!1}),!e&&u&&a<2*s){const c=[];for(const d in n)c[d]=n[d];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+YS(this.getPriority().val())+":"),this.forEachChild(st,(n,s)=>{const a=s.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":vS(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const a=this.resolveIndex_(s);if(a){const u=a.getPredecessorKey(new be(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new be(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,be.Wrap);let u=a.peek();for(;u!=null&&n.compare(u,e)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let u=a.peek();for(;u!=null&&n.compare(u,e)>0;)a.getNext(),u=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===go?-1:0}withIndex(e){if(e===al||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===al||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(st),a=n.getIterator(st);let u=s.getNext(),c=a.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=s.getNext(),c=a.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===al?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class VA extends me{constructor(){super(new en(Jm),me.EMPTY_NODE,Ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const go=new VA;Object.defineProperties(be,{MIN:{value:new be(_l,me.EMPTY_NODE)},MAX:{value:new be(tr,go)}});HS.__EMPTY_NODE=me.EMPTY_NODE;Mt.__childrenNodeConstructor=me;BA(go);HA(go);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=!0;function St(r,e=null){if(r===null)return me.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(e=r[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const n=r;return new Mt(n,St(e))}if(!(r instanceof Array)&&qA){const n=[];let s=!1;if(jt(r,(c,d)=>{if(c.substring(0,1)!=="."){const h=St(d);h.isEmpty()||(s=s||!h.getPriority().isEmpty(),n.push(new be(c,h)))}}),n.length===0)return me.EMPTY_NODE;const u=uc(n,jA,c=>c.name,Jm);if(s){const c=uc(n,st.getCompare());return new me(u,St(e),new Ri({".priority":c},{".priority":st}))}else return new me(u,St(e),Ri.Default)}else{let n=me.EMPTY_NODE;return jt(r,(s,a)=>{if(Kn(r,s)&&s.substring(0,1)!=="."){const u=St(a);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(St(e))}}PA(St);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends Mc{constructor(e){super(),this.indexPath_=e,J(!xe(e)&&Se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),a=this.extractChild(n.node),u=s.compareTo(a);return u===0?or(e.name,n.name):u}makePost(e,n){const s=St(e),a=me.EMPTY_NODE.updateChild(this.indexPath_,s);return new be(n,a)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,go);return new be(tr,e)}toString(){return io(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends Mc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?or(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,n){const s=St(e);return new be(n,s)}toString(){return".value"}}const KA=new XA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(r){return{type:"value",snapshotNode:r}}function pl(r,e){return{type:"child_added",snapshotNode:e,childName:r}}function so(r,e){return{type:"child_removed",snapshotNode:e,childName:r}}function ro(r,e,n){return{type:"child_changed",snapshotNode:e,childName:r,oldSnap:n}}function ZA(r,e){return{type:"child_moved",snapshotNode:e,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.index_=e}updateChild(e,n,s,a,u,c){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(a).equals(s.getChild(a))&&d.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(n)?c.trackChildChange(so(n,d)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(pl(n,s)):c.trackChildChange(ro(n,s,d))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(st,(a,u)=>{n.hasChild(a)||s.trackChildChange(so(a,u))}),n.isLeafNode()||n.forEachChild(st,(a,u)=>{if(e.hasChild(a)){const c=e.getImmediateChild(a);c.equals(u)||s.trackChildChange(ro(a,u,c))}else s.trackChildChange(pl(a,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.indexedFilter_=new e_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lo.getStartPost_(e),this.endPost_=lo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,a,u,c){return this.matches(new be(n,s))||(s=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,a,u,c)}updateFullNode(e,n,s){n.isLeafNode()&&(n=me.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(me.EMPTY_NODE);const u=this;return n.forEachChild(st,(c,d)=>{u.matches(new be(c,d))||(a=a.updateImmediateChild(c,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new lo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,a,u,c){return this.rangedFilter_.matches(new be(n,s))||(s=me.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,a,u,c):this.fullLimitUpdateChild_(e,n,s,u,c)}updateFullNode(e,n,s){let a;if(n.isLeafNode()||n.isEmpty())a=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=me.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))a=a.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(me.EMPTY_NODE);let u;this.reverse_?u=a.getReverseIterator(this.index_):u=a.getIterator(this.index_);let c=0;for(;u.hasNext();){const d=u.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:a=a.updateImmediateChild(d.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,a,u){let c;if(this.reverse_){const g=this.index_.getCompare();c=(v,b)=>g(b,v)}else c=this.index_.getCompare();const d=e;J(d.numChildren()===this.limit_,"");const h=new be(n,s),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),p=this.rangedFilter_.matches(h);if(d.hasChild(n)){const g=d.getImmediateChild(n);let v=a.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const b=v==null?1:c(v,h);if(p&&!s.isEmpty()&&b>=0)return u?.trackChildChange(ro(n,s,g)),d.updateImmediateChild(n,s);{u?.trackChildChange(so(n,g));const S=d.updateImmediateChild(n,me.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u?.trackChildChange(pl(v.name,v.node)),S.updateImmediateChild(v.name,v.node)):S}}else return s.isEmpty()?e:p&&c(m,h)>=0?(u!=null&&(u.trackChildChange(so(m.name,m.node)),u.trackChildChange(pl(n,s))),d.updateImmediateChild(n,s).updateImmediateChild(m.name,me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=st}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_l}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===st}copy(){const e=new t_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $A(r){return r.loadsAllData()?new e_(r.getIndex()):r.hasLimit()?new WA(r):new lo(r)}function Sy(r){const e={};if(r.isDefault())return e;let n;if(r.index_===st?n="$priority":r.index_===KA?n="$value":r.index_===al?n="$key":(J(r.index_ instanceof QA,"Unrecognized index type!"),n=r.index_.toString()),e.orderBy=xt(n),r.startSet_){const s=r.startAfterSet_?"startAfter":"startAt";e[s]=xt(r.indexStartValue_),r.startNameSet_&&(e[s]+=","+xt(r.indexStartName_))}if(r.endSet_){const s=r.endBeforeSet_?"endBefore":"endAt";e[s]=xt(r.indexEndValue_),r.endNameSet_&&(e[s]+=","+xt(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?e.limitToFirst=r.limit_:e.limitToLast=r.limit_),e}function by(r){const e={};if(r.startSet_&&(e.sp=r.indexStartValue_,r.startNameSet_&&(e.sn=r.indexStartName_),e.sin=!r.startAfterSet_),r.endSet_&&(e.ep=r.indexEndValue_,r.endNameSet_&&(e.en=r.indexEndName_),e.ein=!r.endBeforeSet_),r.limitSet_){e.l=r.limit_;let n=r.viewFrom_;n===""&&(r.isViewFromLeft()?n="l":n="r"),e.vf=n}return r.index_!==st&&(e.i=r.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends US{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=po("p:rest:"),this.listens_={}}listen(e,n,s,a){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=cc.getListenId_(e,s),d={};this.listens_[c]=d;const h=Sy(e._queryParams);this.restRequest_(u+".json",h,(m,p)=>{let g=p;if(m===404&&(g=null,m=null),m===null&&this.onDataUpdate_(u,g,!1,s),er(this.listens_,c)===d){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",a(v,null)}})}unlisten(e,n){const s=cc.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Sy(e._queryParams),s=e._path.toString(),a=new xl;return this.restRequest_(s+".json",n,(u,c)=>{let d=c;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(s,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(n.auth=a.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+CR(n);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=Ja(d.responseText)}catch{Qt("Failed to parse JSON response for "+c+": "+d.responseText)}s(null,h)}else d.status!==401&&d.status!==404&&Qt("Got unsuccessful REST response for "+c+" Status: "+d.status),s(d.status);s=null}},d.open("GET",c,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(){return{value:null,children:new Map}}function QS(r,e,n){if(xe(e))r.value=n,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(e,n);else{const s=Se(e);r.children.has(s)||r.children.set(s,fc());const a=r.children.get(s);e=Qe(e),QS(a,e,n)}}function tm(r,e,n){r.value!==null?n(e,r.value):eN(r,(s,a)=>{const u=new Be(e.toString()+"/"+s);tm(a,u,n)})}function eN(r,e){r.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&jt(this.last_,(s,a)=>{n[s]=n[s]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=10*1e3,nN=30*1e3,iN=300*1e3;class sN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tN(e);const s=Ey+(nN-Ey)*Math.random();Ha(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;jt(e,(a,u)=>{u>0&&Kn(this.statsToReport_,a)&&(n[a]=u,s=!0)}),s&&this.server_.reportStats(n),Ha(this.reportStats_.bind(this),Math.floor(Math.random()*2*iN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gn||(Gn={}));function n_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function i_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function s_(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Gn.ACK_USER_WRITE,this.source=n_()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Be(e));return new hc(Ne(),n,this.revert)}}else return J(Se(this.path)===e,"operationForChild called for unrelated child."),new hc(Qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.source=e,this.path=n,this.type=Gn.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new ao(this.source,Ne()):new ao(this.source,Qe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Gn.OVERWRITE}operationForChild(e){return xe(this.path)?new nr(this.source,Ne(),this.snap.getImmediateChild(e)):new nr(this.source,Qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Gn.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Be(e));return n.isEmpty()?null:n.value?new nr(this.source,Ne(),n.value):new gl(this.source,Ne(),n)}else return J(Se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gl(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lN(r,e,n,s){const a=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&r.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(ZA(c.childName,c.snapshotNode))}),La(r,a,"child_removed",e,s,n),La(r,a,"child_added",e,s,n),La(r,a,"child_moved",u,s,n),La(r,a,"child_changed",e,s,n),La(r,a,"value",e,s,n),a}function La(r,e,n,s,a,u){const c=s.filter(d=>d.type===n);c.sort((d,h)=>oN(r,d,h)),c.forEach(d=>{const h=aN(r,d,u);a.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(h,r.query_))})})}function aN(r,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,r.index_)),e}function oN(r,e,n){if(e.childName==null||n.childName==null)throw Tl("Should only compare child_ events.");const s=new be(e.childName,e.snapshotNode),a=new be(n.childName,n.snapshotNode);return r.index_.compare(s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r,e){return{eventCache:r,serverCache:e}}function Ya(r,e,n,s){return Oc(new ys(e,n,s),r.serverCache)}function XS(r,e,n,s){return Oc(r.eventCache,new ys(e,n,s))}function dc(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function ir(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;const uN=()=>(wd||(wd=new en(Q2)),wd);class Ve{static fromObject(e){let n=new Ve(null);return jt(e,(s,a)=>{n=n.set(new Be(s),a)}),n}constructor(e,n=uN()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(xe(e))return null;{const s=Se(e),a=this.children.get(s);if(a!==null){const u=a.findRootMostMatchingPathAndValue(Qe(e),n);return u!=null?{path:ut(new Be(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=Se(e),s=this.children.get(n);return s!==null?s.subtree(Qe(e)):new Ve(null)}}set(e,n){if(xe(e))return new Ve(n,this.children);{const s=Se(e),u=(this.children.get(s)||new Ve(null)).set(Qe(e),n),c=this.children.insert(s,u);return new Ve(this.value,c)}}remove(e){if(xe(e))return this.children.isEmpty()?new Ve(null):new Ve(null,this.children);{const n=Se(e),s=this.children.get(n);if(s){const a=s.remove(Qe(e));let u;return a.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,a),this.value===null&&u.isEmpty()?new Ve(null):new Ve(this.value,u)}else return this}}get(e){if(xe(e))return this.value;{const n=Se(e),s=this.children.get(n);return s?s.get(Qe(e)):null}}setTree(e,n){if(xe(e))return n;{const s=Se(e),u=(this.children.get(s)||new Ve(null)).setTree(Qe(e),n);let c;return u.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,u),new Ve(this.value,c)}}fold(e){return this.fold_(Ne(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((a,u)=>{s[a]=u.fold_(ut(e,a),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ne(),n)}findOnPath_(e,n,s){const a=this.value?s(n,this.value):!1;if(a)return a;if(xe(e))return null;{const u=Se(e),c=this.children.get(u);return c?c.findOnPath_(Qe(e),ut(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ne(),n)}foreachOnPath_(e,n,s){if(xe(e))return this;{this.value&&s(n,this.value);const a=Se(e),u=this.children.get(a);return u?u.foreachOnPath_(Qe(e),ut(n,a),s):new Ve(null)}}foreach(e){this.foreach_(Ne(),e)}foreach_(e,n){this.children.inorderTraversal((s,a)=>{a.foreach_(ut(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.writeTree_=e}static empty(){return new Vn(new Ve(null))}}function Fa(r,e,n){if(xe(e))return new Vn(new Ve(n));{const s=r.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let u=s.value;const c=qt(a,e);return u=u.updateChild(c,n),new Vn(r.writeTree_.set(a,u))}else{const a=new Ve(n),u=r.writeTree_.setTree(e,a);return new Vn(u)}}}function nm(r,e,n){let s=r;return jt(n,(a,u)=>{s=Fa(s,ut(e,a),u)}),s}function Cy(r,e){if(xe(e))return Vn.empty();{const n=r.writeTree_.setTree(e,new Ve(null));return new Vn(n)}}function im(r,e){return ur(r,e)!=null}function ur(r,e){const n=r.writeTree_.findRootMostValueAndPath(e);return n!=null?r.writeTree_.get(n.path).getChild(qt(n.path,e)):null}function Ty(r){const e=[],n=r.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(st,(s,a)=>{e.push(new be(s,a))}):r.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new be(s,a.value))}),e}function ms(r,e){if(xe(e))return r;{const n=ur(r,e);return n!=null?new Vn(new Ve(n)):new Vn(r.writeTree_.subtree(e))}}function sm(r){return r.writeTree_.isEmpty()}function vl(r,e){return KS(Ne(),r.writeTree_,e)}function KS(r,e,n){if(e.value!=null)return n.updateChild(r,e.value);{let s=null;return e.children.inorderTraversal((a,u)=>{a===".priority"?(J(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=KS(ut(r,a),u,n)}),!n.getChild(r).isEmpty()&&s!==null&&(n=n.updateChild(ut(r,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(r,e){return JS(e,r)}function cN(r,e,n,s,a){J(s>r.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),r.allWrites.push({path:e,snap:n,writeId:s,visible:a}),a&&(r.visibleWrites=Fa(r.visibleWrites,e,n)),r.lastWriteId=s}function fN(r,e,n,s){J(s>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:e,children:n,writeId:s,visible:!0}),r.visibleWrites=nm(r.visibleWrites,e,n),r.lastWriteId=s}function hN(r,e){for(let n=0;n<r.allWrites.length;n++){const s=r.allWrites[n];if(s.writeId===e)return s}return null}function dN(r,e){const n=r.allWrites.findIndex(d=>d.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");const s=r.allWrites[n];r.allWrites.splice(n,1);let a=s.visible,u=!1,c=r.allWrites.length-1;for(;a&&c>=0;){const d=r.allWrites[c];d.visible&&(c>=n&&mN(d,s.path)?a=!1:Bn(s.path,d.path)&&(u=!0)),c--}if(a){if(u)return _N(r),!0;if(s.snap)r.visibleWrites=Cy(r.visibleWrites,s.path);else{const d=s.children;jt(d,h=>{r.visibleWrites=Cy(r.visibleWrites,ut(s.path,h))})}return!0}else return!1}function mN(r,e){if(r.snap)return Bn(r.path,e);for(const n in r.children)if(r.children.hasOwnProperty(n)&&Bn(ut(r.path,n),e))return!0;return!1}function _N(r){r.visibleWrites=ZS(r.allWrites,pN,Ne()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function pN(r){return r.visible}function ZS(r,e,n){let s=Vn.empty();for(let a=0;a<r.length;++a){const u=r[a];if(e(u)){const c=u.path;let d;if(u.snap)Bn(n,c)?(d=qt(n,c),s=Fa(s,d,u.snap)):Bn(c,n)&&(d=qt(c,n),s=Fa(s,Ne(),u.snap.getChild(d)));else if(u.children){if(Bn(n,c))d=qt(n,c),s=nm(s,d,u.children);else if(Bn(c,n))if(d=qt(c,n),xe(d))s=nm(s,Ne(),u.children);else{const h=er(u.children,Se(d));if(h){const m=h.getChild(Qe(d));s=Fa(s,Ne(),m)}}}else throw Tl("WriteRecord should have .snap or .children")}}return s}function WS(r,e,n,s,a){if(!s&&!a){const u=ur(r.visibleWrites,e);if(u!=null)return u;{const c=ms(r.visibleWrites,e);if(sm(c))return n;if(n==null&&!im(c,Ne()))return null;{const d=n||me.EMPTY_NODE;return vl(c,d)}}}else{const u=ms(r.visibleWrites,e);if(!a&&sm(u))return n;if(!a&&n==null&&!im(u,Ne()))return null;{const c=function(m){return(m.visible||a)&&(!s||!~s.indexOf(m.writeId))&&(Bn(m.path,e)||Bn(e,m.path))},d=ZS(r.allWrites,c,e),h=n||me.EMPTY_NODE;return vl(d,h)}}}function gN(r,e,n){let s=me.EMPTY_NODE;const a=ur(r.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(st,(u,c)=>{s=s.updateImmediateChild(u,c)}),s;if(n){const u=ms(r.visibleWrites,e);return n.forEachChild(st,(c,d)=>{const h=vl(ms(u,new Be(c)),d);s=s.updateImmediateChild(c,h)}),Ty(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const u=ms(r.visibleWrites,e);return Ty(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function vN(r,e,n,s,a){J(s||a,"Either existingEventSnap or existingServerSnap must exist");const u=ut(e,n);if(im(r.visibleWrites,u))return null;{const c=ms(r.visibleWrites,u);return sm(c)?a.getChild(n):vl(c,a.getChild(n))}}function yN(r,e,n,s){const a=ut(e,n),u=ur(r.visibleWrites,a);if(u!=null)return u;if(s.isCompleteForChild(n)){const c=ms(r.visibleWrites,a);return vl(c,s.getNode().getImmediateChild(n))}else return null}function SN(r,e){return ur(r.visibleWrites,e)}function bN(r,e,n,s,a,u,c){let d;const h=ms(r.visibleWrites,e),m=ur(h,Ne());if(m!=null)d=m;else if(n!=null)d=vl(h,n);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const p=[],g=c.getCompare(),v=u?d.getReverseIteratorFrom(s,c):d.getIteratorFrom(s,c);let b=v.getNext();for(;b&&p.length<a;)g(b,s)!==0&&p.push(b),b=v.getNext();return p}else return[]}function EN(){return{visibleWrites:Vn.empty(),allWrites:[],lastWriteId:-1}}function mc(r,e,n,s){return WS(r.writeTree,r.treePath,e,n,s)}function r_(r,e){return gN(r.writeTree,r.treePath,e)}function xy(r,e,n,s){return vN(r.writeTree,r.treePath,e,n,s)}function _c(r,e){return SN(r.writeTree,ut(r.treePath,e))}function CN(r,e,n,s,a,u){return bN(r.writeTree,r.treePath,e,n,s,a,u)}function l_(r,e,n){return yN(r.writeTree,r.treePath,e,n)}function $S(r,e){return JS(ut(r.treePath,e),r.writeTree)}function JS(r,e){return{treePath:r,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const u=a.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,ro(s,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,so(s,a.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,pl(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,ro(s,e.snapshotNode,a.oldSnap));else throw Tl("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const eb=new xN;class a_{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return l_(this.writes_,e,s)}}getChildAfterChild(e,n,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ir(this.viewCache_),u=CN(this.writes_,a,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(r){return{filter:r}}function RN(r,e){J(e.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function AN(r,e,n,s,a){const u=new TN;let c,d;if(n.type===Gn.OVERWRITE){const m=n;m.source.fromUser?c=rm(r,e,m.path,m.snap,s,a,u):(J(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!xe(m.path),c=pc(r,e,m.path,m.snap,s,a,d,u))}else if(n.type===Gn.MERGE){const m=n;m.source.fromUser?c=MN(r,e,m.path,m.children,s,a,u):(J(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),c=lm(r,e,m.path,m.children,s,a,d,u))}else if(n.type===Gn.ACK_USER_WRITE){const m=n;m.revert?c=LN(r,e,m.path,s,a,u):c=ON(r,e,m.path,m.affectedTree,s,a,u)}else if(n.type===Gn.LISTEN_COMPLETE)c=DN(r,e,n.path,s,u);else throw Tl("Unknown operation type: "+n.type);const h=u.getChanges();return NN(e,c,h),{viewCache:c,changes:h}}function NN(r,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=dc(r);(n.length>0||!r.eventCache.isFullyInitialized()||a&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(qS(dc(e)))}}function tb(r,e,n,s,a,u){const c=e.eventCache;if(_c(s,n)!=null)return e;{let d,h;if(xe(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=ir(e),p=m instanceof me?m:me.EMPTY_NODE,g=r_(s,p);d=r.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const m=mc(s,ir(e));d=r.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=Se(n);if(m===".priority"){J(vs(n)===1,"Can't have a priority with additional path components");const p=c.getNode();h=e.serverCache.getNode();const g=xy(s,n,p,h);g!=null?d=r.filter.updatePriority(p,g):d=c.getNode()}else{const p=Qe(n);let g;if(c.isCompleteForChild(m)){h=e.serverCache.getNode();const v=xy(s,n,c.getNode(),h);v!=null?g=c.getNode().getImmediateChild(m).updateChild(p,v):g=c.getNode().getImmediateChild(m)}else g=l_(s,m,e.serverCache);g!=null?d=r.filter.updateChild(c.getNode(),m,g,p,a,u):d=c.getNode()}}return Ya(e,d,c.isFullyInitialized()||xe(n),r.filter.filtersNodes())}}function pc(r,e,n,s,a,u,c,d){const h=e.serverCache;let m;const p=c?r.filter:r.filter.getIndexedFilter();if(xe(n))m=p.updateFullNode(h.getNode(),s,null);else if(p.filtersNodes()&&!h.isFiltered()){const b=h.getNode().updateChild(n,s);m=p.updateFullNode(h.getNode(),b,null)}else{const b=Se(n);if(!h.isCompleteForPath(n)&&vs(n)>1)return e;const C=Qe(n),T=h.getNode().getImmediateChild(b).updateChild(C,s);b===".priority"?m=p.updatePriority(h.getNode(),T):m=p.updateChild(h.getNode(),b,T,C,eb,null)}const g=XS(e,m,h.isFullyInitialized()||xe(n),p.filtersNodes()),v=new a_(a,g,u);return tb(r,g,n,a,v,d)}function rm(r,e,n,s,a,u,c){const d=e.eventCache;let h,m;const p=new a_(a,e,u);if(xe(n))m=r.filter.updateFullNode(e.eventCache.getNode(),s,c),h=Ya(e,m,!0,r.filter.filtersNodes());else{const g=Se(n);if(g===".priority")m=r.filter.updatePriority(e.eventCache.getNode(),s),h=Ya(e,m,d.isFullyInitialized(),d.isFiltered());else{const v=Qe(n),b=d.getNode().getImmediateChild(g);let C;if(xe(v))C=s;else{const S=p.getCompleteChild(g);S!=null?Zm(v)===".priority"&&S.getChild(BS(v)).isEmpty()?C=S:C=S.updateChild(v,s):C=me.EMPTY_NODE}if(b.equals(C))h=e;else{const S=r.filter.updateChild(d.getNode(),g,C,v,p,c);h=Ya(e,S,d.isFullyInitialized(),r.filter.filtersNodes())}}}return h}function wy(r,e){return r.eventCache.isCompleteForChild(e)}function MN(r,e,n,s,a,u,c){let d=e;return s.foreach((h,m)=>{const p=ut(n,h);wy(e,Se(p))&&(d=rm(r,d,p,m,a,u,c))}),s.foreach((h,m)=>{const p=ut(n,h);wy(e,Se(p))||(d=rm(r,d,p,m,a,u,c))}),d}function Ry(r,e,n){return n.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function lm(r,e,n,s,a,u,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,m;xe(n)?m=s:m=new Ve(null).setTree(n,s);const p=e.serverCache.getNode();return m.children.inorderTraversal((g,v)=>{if(p.hasChild(g)){const b=e.serverCache.getNode().getImmediateChild(g),C=Ry(r,b,v);h=pc(r,h,new Be(g),C,a,u,c,d)}}),m.children.inorderTraversal((g,v)=>{const b=!e.serverCache.isCompleteForChild(g)&&v.value===null;if(!p.hasChild(g)&&!b){const C=e.serverCache.getNode().getImmediateChild(g),S=Ry(r,C,v);h=pc(r,h,new Be(g),S,a,u,c,d)}}),h}function ON(r,e,n,s,a,u,c){if(_c(a,n)!=null)return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(s.value!=null){if(xe(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return pc(r,e,n,h.getNode().getChild(n),a,u,d,c);if(xe(n)){let m=new Ve(null);return h.getNode().forEachChild(al,(p,g)=>{m=m.set(new Be(p),g)}),lm(r,e,n,m,a,u,d,c)}else return e}else{let m=new Ve(null);return s.foreach((p,g)=>{const v=ut(n,p);h.isCompleteForPath(v)&&(m=m.set(p,h.getNode().getChild(v)))}),lm(r,e,n,m,a,u,d,c)}}function DN(r,e,n,s,a){const u=e.serverCache,c=XS(e,u.getNode(),u.isFullyInitialized()||xe(n),u.isFiltered());return tb(r,c,n,s,eb,a)}function LN(r,e,n,s,a,u){let c;if(_c(s,n)!=null)return e;{const d=new a_(s,e,a),h=e.eventCache.getNode();let m;if(xe(n)||Se(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=mc(s,ir(e));else{const g=e.serverCache.getNode();J(g instanceof me,"serverChildren would be complete if leaf node"),p=r_(s,g)}p=p,m=r.filter.updateFullNode(h,p,u)}else{const p=Se(n);let g=l_(s,p,e.serverCache);g==null&&e.serverCache.isCompleteForChild(p)&&(g=h.getImmediateChild(p)),g!=null?m=r.filter.updateChild(h,p,g,Qe(n),d,u):e.eventCache.getNode().hasChild(p)?m=r.filter.updateChild(h,p,me.EMPTY_NODE,Qe(n),d,u):m=h,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=mc(s,ir(e)),c.isLeafNode()&&(m=r.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||_c(s,Ne())!=null,Ya(e,m,c,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new e_(s.getIndex()),u=$A(s);this.processor_=wN(u);const c=n.serverCache,d=n.eventCache,h=a.updateFullNode(me.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(me.EMPTY_NODE,d.getNode(),null),p=new ys(h,c.isFullyInitialized(),a.filtersNodes()),g=new ys(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Oc(g,p),this.eventGenerator_=new rN(this.query_)}get query(){return this.query_}}function zN(r){return r.viewCache_.serverCache.getNode()}function IN(r){return dc(r.viewCache_)}function UN(r,e){const n=ir(r.viewCache_);return n&&(r.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(Se(e)).isEmpty())?n.getChild(e):null}function Ay(r){return r.eventRegistrations_.length===0}function jN(r,e){r.eventRegistrations_.push(e)}function Ny(r,e,n){const s=[];if(n){J(e==null,"A cancel should cancel all event registrations.");const a=r.query._path;r.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,a);c&&s.push(c)})}if(e){let a=[];for(let u=0;u<r.eventRegistrations_.length;++u){const c=r.eventRegistrations_[u];if(!c.matches(e))a.push(c);else if(e.hasAnyCallback()){a=a.concat(r.eventRegistrations_.slice(u+1));break}}r.eventRegistrations_=a}else r.eventRegistrations_=[];return s}function My(r,e,n,s){e.type===Gn.MERGE&&e.source.queryId!==null&&(J(ir(r.viewCache_),"We should always have a full cache before handling merges"),J(dc(r.viewCache_),"Missing event cache, even though we have a server cache"));const a=r.viewCache_,u=AN(r.processor_,a,e,n,s);return RN(r.processor_,u.viewCache),J(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=u.viewCache,nb(r,u.changes,u.viewCache.eventCache.getNode(),null)}function BN(r,e){const n=r.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(st,(u,c)=>{s.push(pl(u,c))}),n.isFullyInitialized()&&s.push(qS(n.getNode())),nb(r,s,n.getNode(),e)}function nb(r,e,n,s){const a=s?[s]:r.eventRegistrations_;return lN(r.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc;class ib{constructor(){this.views=new Map}}function PN(r){J(!gc,"__referenceConstructor has already been defined"),gc=r}function HN(){return J(gc,"Reference.ts has not been loaded"),gc}function YN(r){return r.views.size===0}function o_(r,e,n,s){const a=e.source.queryId;if(a!==null){const u=r.views.get(a);return J(u!=null,"SyncTree gave us an op for an invalid query."),My(u,e,n,s)}else{let u=[];for(const c of r.views.values())u=u.concat(My(c,e,n,s));return u}}function sb(r,e,n,s,a){const u=e._queryIdentifier,c=r.views.get(u);if(!c){let d=mc(n,a?s:null),h=!1;d?h=!0:s instanceof me?(d=r_(n,s),h=!1):(d=me.EMPTY_NODE,h=!1);const m=Oc(new ys(d,h,!1),new ys(s,a,!1));return new kN(e,m)}return c}function FN(r,e,n,s,a,u){const c=sb(r,e,s,a,u);return r.views.has(e._queryIdentifier)||r.views.set(e._queryIdentifier,c),jN(c,n),BN(c,n)}function GN(r,e,n,s){const a=e._queryIdentifier,u=[];let c=[];const d=Ss(r);if(a==="default")for(const[h,m]of r.views.entries())c=c.concat(Ny(m,n,s)),Ay(m)&&(r.views.delete(h),m.query._queryParams.loadsAllData()||u.push(m.query));else{const h=r.views.get(a);h&&(c=c.concat(Ny(h,n,s)),Ay(h)&&(r.views.delete(a),h.query._queryParams.loadsAllData()||u.push(h.query)))}return d&&!Ss(r)&&u.push(new(HN())(e._repo,e._path)),{removed:u,events:c}}function rb(r){const e=[];for(const n of r.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function _s(r,e){let n=null;for(const s of r.views.values())n=n||UN(s,e);return n}function lb(r,e){if(e._queryParams.loadsAllData())return Lc(r);{const s=e._queryIdentifier;return r.views.get(s)}}function ab(r,e){return lb(r,e)!=null}function Ss(r){return Lc(r)!=null}function Lc(r){for(const e of r.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;function VN(r){J(!vc,"__referenceConstructor has already been defined"),vc=r}function qN(){return J(vc,"Reference.ts has not been loaded"),vc}let QN=1;class Oy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=EN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function u_(r,e,n,s,a){return cN(r.pendingWriteTree_,e,n,s,a),a?Rl(r,new nr(n_(),e,n)):[]}function XN(r,e,n,s){fN(r.pendingWriteTree_,e,n,s);const a=Ve.fromObject(n);return Rl(r,new gl(n_(),e,a))}function us(r,e,n=!1){const s=hN(r.pendingWriteTree_,e);if(dN(r.pendingWriteTree_,e)){let u=new Ve(null);return s.snap!=null?u=u.set(Ne(),!0):jt(s.children,c=>{u=u.set(new Be(c),!0)}),Rl(r,new hc(s.path,u,n))}else return[]}function vo(r,e,n){return Rl(r,new nr(i_(),e,n))}function KN(r,e,n){const s=Ve.fromObject(n);return Rl(r,new gl(i_(),e,s))}function ZN(r,e){return Rl(r,new ao(i_(),e))}function WN(r,e,n){const s=c_(r,n);if(s){const a=f_(s),u=a.path,c=a.queryId,d=qt(u,e),h=new ao(s_(c),d);return h_(r,u,h)}else return[]}function yc(r,e,n,s,a=!1){const u=e._path,c=r.syncPointTree_.get(u);let d=[];if(c&&(e._queryIdentifier==="default"||ab(c,e))){const h=GN(c,e,n,s);YN(c)&&(r.syncPointTree_=r.syncPointTree_.remove(u));const m=h.removed;if(d=h.events,!a){const p=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=r.syncPointTree_.findOnPath(u,(v,b)=>Ss(b));if(p&&!g){const v=r.syncPointTree_.subtree(u);if(!v.isEmpty()){const b=eM(v);for(let C=0;C<b.length;++C){const S=b[C],T=S.query,A=fb(r,S);r.listenProvider_.startListening(Ga(T),oo(r,T),A.hashFn,A.onComplete)}}}!g&&m.length>0&&!s&&(p?r.listenProvider_.stopListening(Ga(e),null):m.forEach(v=>{const b=r.queryToTagMap.get(zc(v));r.listenProvider_.stopListening(Ga(v),b)}))}tM(r,m)}return d}function ob(r,e,n,s){const a=c_(r,s);if(a!=null){const u=f_(a),c=u.path,d=u.queryId,h=qt(c,e),m=new nr(s_(d),h,n);return h_(r,c,m)}else return[]}function $N(r,e,n,s){const a=c_(r,s);if(a){const u=f_(a),c=u.path,d=u.queryId,h=qt(c,e),m=Ve.fromObject(n),p=new gl(s_(d),h,m);return h_(r,c,p)}else return[]}function am(r,e,n,s=!1){const a=e._path;let u=null,c=!1;r.syncPointTree_.foreachOnPath(a,(v,b)=>{const C=qt(v,a);u=u||_s(b,C),c=c||Ss(b)});let d=r.syncPointTree_.get(a);d?(c=c||Ss(d),u=u||_s(d,Ne())):(d=new ib,r.syncPointTree_=r.syncPointTree_.set(a,d));let h;u!=null?h=!0:(h=!1,u=me.EMPTY_NODE,r.syncPointTree_.subtree(a).foreachChild((b,C)=>{const S=_s(C,Ne());S&&(u=u.updateImmediateChild(b,S))}));const m=ab(d,e);if(!m&&!e._queryParams.loadsAllData()){const v=zc(e);J(!r.queryToTagMap.has(v),"View does not exist, but we have a tag");const b=nM();r.queryToTagMap.set(v,b),r.tagToQueryMap.set(b,v)}const p=Dc(r.pendingWriteTree_,a);let g=FN(d,e,n,p,u,h);if(!m&&!c&&!s){const v=lb(d,e);g=g.concat(iM(r,e,v))}return g}function kc(r,e,n){const a=r.pendingWriteTree_,u=r.syncPointTree_.findOnPath(e,(c,d)=>{const h=qt(c,e),m=_s(d,h);if(m)return m});return WS(a,e,u,n,!0)}function JN(r,e){const n=e._path;let s=null;r.syncPointTree_.foreachOnPath(n,(m,p)=>{const g=qt(m,n);s=s||_s(p,g)});let a=r.syncPointTree_.get(n);a?s=s||_s(a,Ne()):(a=new ib,r.syncPointTree_=r.syncPointTree_.set(n,a));const u=s!=null,c=u?new ys(s,!0,!1):null,d=Dc(r.pendingWriteTree_,e._path),h=sb(a,e,d,u?c.getNode():me.EMPTY_NODE,u);return IN(h)}function Rl(r,e){return ub(e,r.syncPointTree_,null,Dc(r.pendingWriteTree_,Ne()))}function ub(r,e,n,s){if(xe(r.path))return cb(r,e,n,s);{const a=e.get(Ne());n==null&&a!=null&&(n=_s(a,Ne()));let u=[];const c=Se(r.path),d=r.operationForChild(c),h=e.children.get(c);if(h&&d){const m=n?n.getImmediateChild(c):null,p=$S(s,c);u=u.concat(ub(d,h,m,p))}return a&&(u=u.concat(o_(a,r,s,n))),u}}function cb(r,e,n,s){const a=e.get(Ne());n==null&&a!=null&&(n=_s(a,Ne()));let u=[];return e.children.inorderTraversal((c,d)=>{const h=n?n.getImmediateChild(c):null,m=$S(s,c),p=r.operationForChild(c);p&&(u=u.concat(cb(p,d,h,m)))}),a&&(u=u.concat(o_(a,r,s,n))),u}function fb(r,e){const n=e.query,s=oo(r,n);return{hashFn:()=>(zN(e)||me.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return s?WN(r,n._path,s):ZN(r,n._path);{const u=Z2(a,n);return yc(r,n,null,u)}}}}function oo(r,e){const n=zc(e);return r.queryToTagMap.get(n)}function zc(r){return r._path.toString()+"$"+r._queryIdentifier}function c_(r,e){return r.tagToQueryMap.get(e)}function f_(r){const e=r.indexOf("$");return J(e!==-1&&e<r.length-1,"Bad queryKey."),{queryId:r.substr(e+1),path:new Be(r.substr(0,e))}}function h_(r,e,n){const s=r.syncPointTree_.get(e);J(s,"Missing sync point for query tag that we're tracking");const a=Dc(r.pendingWriteTree_,e);return o_(s,n,a,null)}function eM(r){return r.fold((e,n,s)=>{if(n&&Ss(n))return[Lc(n)];{let a=[];return n&&(a=rb(n)),jt(s,(u,c)=>{a=a.concat(c)}),a}})}function Ga(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(qN())(r._repo,r._path):r}function tM(r,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const a=zc(s),u=r.queryToTagMap.get(a);r.queryToTagMap.delete(a),r.tagToQueryMap.delete(u)}}}function nM(){return QN++}function iM(r,e,n){const s=e._path,a=oo(r,e),u=fb(r,n),c=r.listenProvider_.startListening(Ga(e),a,u.hashFn,u.onComplete),d=r.syncPointTree_.subtree(s);if(a)J(!Ss(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((m,p,g)=>{if(!xe(m)&&p&&Ss(p))return[Lc(p).query];{let v=[];return p&&(v=v.concat(rb(p).map(b=>b.query))),jt(g,(b,C)=>{v=v.concat(C)}),v}});for(let m=0;m<h.length;++m){const p=h[m];r.listenProvider_.stopListening(Ga(p),oo(r,p))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new d_(n)}node(){return this.node_}}class m_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ut(this.path_,e);return new m_(this.syncTree_,n)}node(){return kc(this.syncTree_,this.path_)}}const sM=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Dy=function(r,e,n){if(!r||typeof r!="object")return r;if(J(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return rM(r[".sv"],e,n);if(typeof r[".sv"]=="object")return lM(r[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},rM=function(r,e,n){switch(r){case"timestamp":return n.timestamp;default:J(!1,"Unexpected server value: "+r)}},lM=function(r,e,n){r.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const s=r.increment;typeof s!="number"&&J(!1,"Unexpected increment value: "+s);const a=e.node();if(J(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const c=a.getValue();return typeof c!="number"?s:c+s},hb=function(r,e,n,s){return p_(e,new m_(n,r),s)},__=function(r,e,n){return p_(r,new d_(e),n)};function p_(r,e,n){const s=r.getPriority().val(),a=Dy(s,e.getImmediateChild(".priority"),n);let u;if(r.isLeafNode()){const c=r,d=Dy(c.getValue(),e,n);return d!==c.getValue()||a!==c.getPriority().val()?new Mt(d,St(a)):r}else{const c=r;return u=c,a!==c.getPriority().val()&&(u=u.updatePriority(new Mt(a))),c.forEachChild(st,(d,h)=>{const m=p_(h,e.getImmediateChild(d),n);m!==h&&(u=u.updateImmediateChild(d,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Ic(r,e){let n=e instanceof Be?e:new Be(e),s=r,a=Se(n);for(;a!==null;){const u=er(s.node.children,a)||{children:{},childCount:0};s=new g_(a,s,u),n=Qe(n),a=Se(n)}return s}function cr(r){return r.node.value}function v_(r,e){r.node.value=e,om(r)}function db(r){return r.node.childCount>0}function aM(r){return cr(r)===void 0&&!db(r)}function Uc(r,e){jt(r.node.children,(n,s)=>{e(new g_(n,r,s))})}function mb(r,e,n,s){n&&e(r),Uc(r,a=>{mb(a,e,!0)})}function oM(r,e,n){let s=r.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function yo(r){return new Be(r.parent===null?r.name:yo(r.parent)+"/"+r.name)}function om(r){r.parent!==null&&uM(r.parent,r.name,r)}function uM(r,e,n){const s=aM(n),a=Kn(r.node.children,e);s&&a?(delete r.node.children[e],r.node.childCount--,om(r)):!s&&!a&&(r.node.children[e]=n.node,r.node.childCount++,om(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=/[\[\].#$\/\u0000-\u001F\u007F]/,fM=/[\[\].#$\u0000-\u001F\u007F]/,Rd=10*1024*1024,y_=function(r){return typeof r=="string"&&r.length!==0&&!cM.test(r)},_b=function(r){return typeof r=="string"&&r.length!==0&&!fM.test(r)},hM=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),_b(r)},pb=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!Vm(r)||r&&typeof r=="object"&&Kn(r,".sv")},dM=function(r,e,n,s){So(Ac(r,"value"),e,n)},So=function(r,e,n){const s=n instanceof Be?new MA(n,r):n;if(e===void 0)throw new Error(r+"contains undefined "+Vs(s));if(typeof e=="function")throw new Error(r+"contains a function "+Vs(s)+" with contents = "+e.toString());if(Vm(e))throw new Error(r+"contains "+e.toString()+" "+Vs(s));if(typeof e=="string"&&e.length>Rd/3&&Nc(e)>Rd)throw new Error(r+"contains a string greater than "+Rd+" utf8 bytes "+Vs(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,u=!1;if(jt(e,(c,d)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!y_(c)))throw new Error(r+" contains an invalid key ("+c+") "+Vs(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OA(s,c),So(r,d,s),DA(s)}),a&&u)throw new Error(r+' contains ".value" child '+Vs(s)+" in addition to actual children.")}},mM=function(r,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const u=io(s);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!y_(u[c]))throw new Error(r+"contains an invalid key ("+u[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(NA);let a=null;for(n=0;n<e.length;n++){if(s=e[n],a!==null&&Bn(a,s))throw new Error(r+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}},_M=function(r,e,n,s){const a=Ac(r,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const u=[];jt(e,(c,d)=>{const h=new Be(c);if(So(a,d,ut(n,h)),Zm(h)===".priority"&&!pb(d))throw new Error(a+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(h)}),mM(a,u)},gb=function(r,e,n,s){if(!_b(n))throw new Error(Ac(r,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pM=function(r,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gb(r,e,n)},vb=function(r,e){if(Se(e)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},gM=function(r,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!y_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hM(n))throw new Error(Ac(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jc(r,e){let n=null;for(let s=0;s<e.length;s++){const a=e[s],u=a.getPath();n!==null&&!Wm(u,n.path)&&(r.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(a)}n&&r.eventLists_.push(n)}function yb(r,e,n){jc(r,n),Sb(r,s=>Wm(s,e))}function Tn(r,e,n){jc(r,n),Sb(r,s=>Bn(s,e)||Bn(e,s))}function Sb(r,e){r.recursionDepth_++;let n=!0;for(let s=0;s<r.eventLists_.length;s++){const a=r.eventLists_[s];if(a){const u=a.path;e(u)?(yM(r.eventLists_[s]),r.eventLists_[s]=null):n=!1}}n&&(r.eventLists_=[]),r.recursionDepth_--}function yM(r){for(let e=0;e<r.events.length;e++){const n=r.events[e];if(n!==null){r.events[e]=null;const s=n.getEventRunner();Pa&&It("event: "+n.toString()),wl(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="repo_interrupt",bM=25;class EM{constructor(e,n,s,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fc(),this.transactionQueueTree_=new g_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CM(r,e,n){if(r.stats_=Xm(r.repoInfo_),r.forceRestClient_||eA())r.server_=new cc(r.repoInfo_,(s,a,u,c)=>{Ly(r,s,a,u,c)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>ky(r,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}r.persistentConnection_=new Ni(r.repoInfo_,e,(s,a,u,c)=>{Ly(r,s,a,u,c)},s=>{ky(r,s)},s=>{xM(r,s)},r.authTokenProvider_,r.appCheckProvider_,n),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(s=>{r.server_.refreshAuthToken(s)}),r.appCheckProvider_.addTokenChangeListener(s=>{r.server_.refreshAppCheckToken(s.token)}),r.statsReporter_=rA(r.repoInfo_,()=>new sN(r.stats_,r.server_)),r.infoData_=new JA,r.infoSyncTree_=new Oy({startListening:(s,a,u,c)=>{let d=[];const h=r.infoData_.getNode(s._path);return h.isEmpty()||(d=vo(r.infoSyncTree_,s._path,h),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),S_(r,"connected",!1),r.serverSyncTree_=new Oy({startListening:(s,a,u,c)=>(r.server_.listen(s,u,a,(d,h)=>{const m=c(d,h);Tn(r.eventQueue_,s._path,m)}),[]),stopListening:(s,a)=>{r.server_.unlisten(s,a)}})}function TM(r){const n=r.infoData_.getNode(new Be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bo(r){return sM({timestamp:TM(r)})}function Ly(r,e,n,s,a){r.dataUpdateCount++;const u=new Be(e);n=r.interceptServerDataCallback_?r.interceptServerDataCallback_(e,n):n;let c=[];if(a)if(s){const h=ic(n,m=>St(m));c=$N(r.serverSyncTree_,u,h,a)}else{const h=St(n);c=ob(r.serverSyncTree_,u,h,a)}else if(s){const h=ic(n,m=>St(m));c=KN(r.serverSyncTree_,u,h)}else{const h=St(n);c=vo(r.serverSyncTree_,u,h)}let d=u;c.length>0&&(d=yl(r,u)),Tn(r.eventQueue_,d,c)}function ky(r,e){S_(r,"connected",e),e===!1&&NM(r)}function xM(r,e){jt(e,(n,s)=>{S_(r,n,s)})}function S_(r,e,n){const s=new Be("/.info/"+e),a=St(n);r.infoData_.updateSnapshot(s,a);const u=vo(r.infoSyncTree_,s,a);Tn(r.eventQueue_,s,u)}function Bc(r){return r.nextWriteId_++}function wM(r,e,n){const s=JN(r.serverSyncTree_,e);return s!=null?Promise.resolve(s):r.server_.get(e).then(a=>{const u=St(a).withIndex(e._queryParams.getIndex());am(r.serverSyncTree_,e,n,!0);let c;if(e._queryParams.loadsAllData())c=vo(r.serverSyncTree_,e._path,u);else{const d=oo(r.serverSyncTree_,e);c=ob(r.serverSyncTree_,e._path,u,d)}return Tn(r.eventQueue_,e._path,c),yc(r.serverSyncTree_,e,n,null,!0),u},a=>(Al(r,"get for query "+xt(e)+" failed: "+a),Promise.reject(new Error(a))))}function RM(r,e,n,s,a){Al(r,"set",{path:e.toString(),value:n,priority:s});const u=bo(r),c=St(n,s),d=kc(r.serverSyncTree_,e),h=__(c,d,u),m=Bc(r),p=u_(r.serverSyncTree_,e,h,m,!0);jc(r.eventQueue_,p),r.server_.put(e.toString(),c.val(!0),(v,b)=>{const C=v==="ok";C||Qt("set at "+e+" failed: "+v);const S=us(r.serverSyncTree_,m,!C);Tn(r.eventQueue_,e,S),um(r,a,v,b)});const g=E_(r,e);yl(r,g),Tn(r.eventQueue_,g,[])}function AM(r,e,n,s){Al(r,"update",{path:e.toString(),value:n});let a=!0;const u=bo(r),c={};if(jt(n,(d,h)=>{a=!1,c[d]=hb(ut(e,d),St(h),r.serverSyncTree_,u)}),a)It("update() called with empty data.  Don't do anything."),um(r,s,"ok",void 0);else{const d=Bc(r),h=XN(r.serverSyncTree_,e,c,d);jc(r.eventQueue_,h),r.server_.merge(e.toString(),n,(m,p)=>{const g=m==="ok";g||Qt("update at "+e+" failed: "+m);const v=us(r.serverSyncTree_,d,!g),b=v.length>0?yl(r,e):e;Tn(r.eventQueue_,b,v),um(r,s,m,p)}),jt(n,m=>{const p=E_(r,ut(e,m));yl(r,p)}),Tn(r.eventQueue_,e,[])}}function NM(r){Al(r,"onDisconnectEvents");const e=bo(r),n=fc();tm(r.onDisconnect_,Ne(),(a,u)=>{const c=hb(a,u,r.serverSyncTree_,e);QS(n,a,c)});let s=[];tm(n,Ne(),(a,u)=>{s=s.concat(vo(r.serverSyncTree_,a,u));const c=E_(r,a);yl(r,c)}),r.onDisconnect_=fc(),Tn(r.eventQueue_,Ne(),s)}function MM(r,e,n){let s;Se(e._path)===".info"?s=am(r.infoSyncTree_,e,n):s=am(r.serverSyncTree_,e,n),yb(r.eventQueue_,e._path,s)}function OM(r,e,n){let s;Se(e._path)===".info"?s=yc(r.infoSyncTree_,e,n):s=yc(r.serverSyncTree_,e,n),yb(r.eventQueue_,e._path,s)}function DM(r){r.persistentConnection_&&r.persistentConnection_.interrupt(SM)}function Al(r,...e){let n="";r.persistentConnection_&&(n=r.persistentConnection_.id+":"),It(n,...e)}function um(r,e,n,s){e&&wl(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let u=a;s&&(u+=": "+s);const c=new Error(u);c.code=a,e(c)}})}function LM(r,e,n,s,a,u){Al(r,"transaction on "+e);const c={path:e,update:n,onComplete:s,status:null,order:gS(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=b_(r,e,void 0);c.currentInputSnapshot=d;const h=c.update(d.val());if(h===void 0)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{So("transaction failed: Data returned ",h,c.path),c.status=0;const m=Ic(r.transactionQueueTree_,e),p=cr(m)||[];p.push(c),v_(m,p);let g;typeof h=="object"&&h!==null&&Kn(h,".priority")?(g=er(h,".priority"),J(pb(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(kc(r.serverSyncTree_,e)||me.EMPTY_NODE).getPriority().val();const v=bo(r),b=St(h,g),C=__(b,d,v);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=C,c.currentWriteId=Bc(r);const S=u_(r.serverSyncTree_,e,C,c.currentWriteId,c.applyLocally);Tn(r.eventQueue_,e,S),Pc(r,r.transactionQueueTree_)}}function b_(r,e,n){return kc(r.serverSyncTree_,e,n)||me.EMPTY_NODE}function Pc(r,e=r.transactionQueueTree_){if(e||Hc(r,e),cr(e)){const n=Eb(r,e);J(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&kM(r,yo(e),n)}else db(e)&&Uc(e,n=>{Pc(r,n)})}function kM(r,e,n){const s=n.map(m=>m.currentWriteId),a=b_(r,e,s);let u=a;const c=a.hash();for(let m=0;m<n.length;m++){const p=n[m];J(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=qt(e,p.path);u=u.updateChild(g,p.currentOutputSnapshotRaw)}const d=u.val(!0),h=e;r.server_.put(h.toString(),d,m=>{Al(r,"transaction put response",{path:h.toString(),status:m});let p=[];if(m==="ok"){const g=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(us(r.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&g.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Hc(r,Ic(r.transactionQueueTree_,e)),Pc(r,r.transactionQueueTree_),Tn(r.eventQueue_,e,p);for(let v=0;v<g.length;v++)wl(g[v])}else{if(m==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Qt("transaction at "+h.toString()+" failed: "+m);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=m}yl(r,e)}},c)}function yl(r,e){const n=bb(r,e),s=yo(n),a=Eb(r,n);return zM(r,a,s),s}function zM(r,e,n){if(e.length===0)return;const s=[];let a=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],m=qt(n,h.path);let p=!1,g;if(J(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)p=!0,g=h.abortReason,a=a.concat(us(r.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=bM)p=!0,g="maxretry",a=a.concat(us(r.serverSyncTree_,h.currentWriteId,!0));else{const v=b_(r,h.path,c);h.currentInputSnapshot=v;const b=e[d].update(v.val());if(b!==void 0){So("transaction failed: Data returned ",b,h.path);let C=St(b);typeof b=="object"&&b!=null&&Kn(b,".priority")||(C=C.updatePriority(v.getPriority()));const T=h.currentWriteId,A=bo(r),D=__(C,v,A);h.currentOutputSnapshotRaw=C,h.currentOutputSnapshotResolved=D,h.currentWriteId=Bc(r),c.splice(c.indexOf(T),1),a=a.concat(u_(r.serverSyncTree_,h.path,D,h.currentWriteId,h.applyLocally)),a=a.concat(us(r.serverSyncTree_,T,!0))}else p=!0,g="nodata",a=a.concat(us(r.serverSyncTree_,h.currentWriteId,!0))}Tn(r.eventQueue_,n,a),a=[],p&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(g==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(g),!1,null))))}Hc(r,r.transactionQueueTree_);for(let d=0;d<s.length;d++)wl(s[d]);Pc(r,r.transactionQueueTree_)}function bb(r,e){let n,s=r.transactionQueueTree_;for(n=Se(e);n!==null&&cr(s)===void 0;)s=Ic(s,n),e=Qe(e),n=Se(e);return s}function Eb(r,e){const n=[];return Cb(r,e,n),n.sort((s,a)=>s.order-a.order),n}function Cb(r,e,n){const s=cr(e);if(s)for(let a=0;a<s.length;a++)n.push(s[a]);Uc(e,a=>{Cb(r,a,n)})}function Hc(r,e){const n=cr(e);if(n){let s=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[s]=n[a],s++);n.length=s,v_(e,n.length>0?n:void 0)}Uc(e,s=>{Hc(r,s)})}function E_(r,e){const n=yo(bb(r,e)),s=Ic(r.transactionQueueTree_,e);return oM(s,a=>{Ad(r,a)}),Ad(r,s),mb(s,a=>{Ad(r,a)}),n}function Ad(r,e){const n=cr(e);if(n){const s=[];let a=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(J(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(J(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),a=a.concat(us(r.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&s.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?v_(e,void 0):n.length=u+1,Tn(r.eventQueue_,yo(e),a);for(let c=0;c<s.length;c++)wl(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(r){let e="";const n=r.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let a=n[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function UM(r){const e={};r.charAt(0)==="?"&&(r=r.substring(1));for(const n of r.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Qt(`Invalid query segment '${n}' in query '${r}'`)}return e}const zy=function(r,e){const n=jM(r),s=n.namespace;n.domain==="firebase.com"&&ki(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&ki("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||V2();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new MS(n.host,n.secure,s,a,e,"",s!==n.subdomain),path:new Be(n.pathString)}},jM=function(r){let e="",n="",s="",a="",u="",c=!0,d="https",h=443;if(typeof r=="string"){let m=r.indexOf("//");m>=0&&(d=r.substring(0,m-1),r=r.substring(m+2));let p=r.indexOf("/");p===-1&&(p=r.length);let g=r.indexOf("?");g===-1&&(g=r.length),e=r.substring(0,Math.min(p,g)),p<g&&(a=IM(r.substring(p,g)));const v=UM(r.substring(Math.min(r.length,g)));m=e.indexOf(":"),m>=0?(c=d==="https"||d==="wss",h=parseInt(e.substring(m+1),10)):m=e.length;const b=e.slice(0,m);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const C=e.indexOf(".");s=e.substring(0,C).toLowerCase(),n=e.substring(C+1),u=s}"ns"in v&&(u=v.ns)}return{host:e,port:h,domain:n,subdomain:s,secure:c,scheme:d,pathString:a,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,s,a){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xt(this.snapshot.exportVal())}}class PM{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n,s,a){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=a}get key(){return xe(this._path)?null:Zm(this._path)}get ref(){return new ai(this._repo,this._path)}get _queryIdentifier(){const e=by(this._queryParams),n=qm(e);return n==="{}"?"default":n}get _queryObject(){return by(this._queryParams)}isEqual(e){if(e=ar(e),!(e instanceof C_))return!1;const n=this._repo===e._repo,s=Wm(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+AA(this._path)}}class ai extends C_{constructor(e,n){super(e,n,new t_,!1)}get parent(){const e=BS(this._path);return e===null?null:new ai(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Sl{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Be(e),s=cm(this.ref,e);return new Sl(this._node.getChild(n),s,st)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,a)=>e(new Sl(a,cm(this.ref,s),st)))}hasChild(e){const n=new Be(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xe(r,e){return r=ar(r),r._checkNotDeleted("ref"),e!==void 0?cm(r._root,e):r._root}function cm(r,e){return r=ar(r),Se(r._path)===null?pM("child","path",e):gb("child","path",e),new ai(r._repo,ut(r._path,e))}function ol(r,e){r=ar(r),vb("set",r._path),dM("set",e,r._path);const n=new xl;return RM(r._repo,r._path,e,null,n.wrapCallback(()=>{})),n.promise}function Xs(r,e){_M("update",e,r._path);const n=new xl;return AM(r._repo,r._path,e,n.wrapCallback(()=>{})),n.promise}function qn(r){r=ar(r);const e=new Tb(()=>{}),n=new Yc(e);return wM(r._repo,r,n).then(s=>new Sl(s,new ai(r._repo,r._path),r._queryParams.getIndex()))}class Yc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new BM("value",this,new Sl(e.snapshotNode,new ai(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new PM(this,e,n):null}matches(e){return e instanceof Yc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function HM(r,e,n,s,a){const u=new Tb(n,void 0),c=new Yc(u);return MM(r._repo,r,c),()=>OM(r._repo,r,c)}function Qu(r,e,n,s){return HM(r,"value",e)}PN(ai);VN(ai);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="FIREBASE_DATABASE_EMULATOR_HOST",fm={};let FM=!1;function GM(r,e,n,s){const a=e.lastIndexOf(":"),u=e.substring(0,a),c=Fm(u);r.repoInfo_=new MS(e,c,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(r.authTokenProvider_=s)}function VM(r,e,n,s,a){let u=s||r.options.databaseURL;u===void 0&&(r.options.projectId||ki("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),It("Using default host for project ",r.options.projectId),u=`${r.options.projectId}-default-rtdb.firebaseio.com`);let c=zy(u,a),d=c.repoInfo,h;typeof process<"u"&&iy&&(h=iy[YM]),h?(u=`http://${h}?ns=${d.namespace}`,c=zy(u,a),d=c.repoInfo):c.repoInfo.secure;const m=new nA(r.name,r.options,e);gM("Invalid Firebase Database URL",c),xe(c.path)||ki("Database URL must point to the root of a Firebase Database (not including a child path).");const p=QM(d,r,m,new tA(r,n));return new XM(p,r)}function qM(r,e){const n=fm[e];(!n||n[r.key]!==r)&&ki(`Database ${e}(${r.repoInfo_}) has already been deleted.`),DM(r),delete n[r.key]}function QM(r,e,n,s){let a=fm[e.name];a||(a={},fm[e.name]=a);let u=a[r.toURLString()];return u&&ki("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new EM(r,FM,n,s),a[r.toURLString()]=u,u}class XM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ai(this._repo,Ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ki("Cannot call "+e+" on a deleted database.")}}function KM(r=R2(),e){const n=E2(r,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=aR("database");s&&ZM(n,...s)}return n}function ZM(r,e,n,s={}){r=ar(r),r._checkNotDeleted("useEmulator");const a=`${e}:${n}`,u=r._repoInternal;if(r._instanceStarted){if(a===r._repoInternal.repoInfo_.host&&sc(s,u.repoInfo_.emulatorOptions))return;ki("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&ki('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new qu(qu.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:uR(s.mockUserToken,r.app.options.projectId);c=new qu(d)}Fm(e)&&(oR(e),hR("Database",!0)),GM(u,a,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(r){P2(w2),lc(new eo("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return VM(s,a,u,n)},"PUBLIC").setMultipleInstances(!0)),rl(sy,ry,r),rl(sy,ry,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function uo(r,e,n){if(r=ar(r),vb("Reference.transaction",r._path),r.key===".length"||r.key===".keys")throw"Reference.transaction failed: "+r.key+" is a read-only object.";const s=!0,a=new xl,u=(d,h,m)=>{let p=null;d?a.reject(d):(p=new Sl(m,new ai(r._repo,r._path),st),a.resolve(new $M(h,p)))},c=Qu(r,()=>{});return LM(r._repo,r._path,e,u,c,s),a.promise}Ni.prototype.simpleListen=function(r,e){this.sendRequest("q",{p:r},e)};Ni.prototype.echo=function(r,e){this.sendRequest("echo",{d:r},e)};WM();const JM={apiKey:"AIzaSyAWmDDr3A7r0Jg1bxh-XjHjAkM_RCdlHQk",authDomain:"tkd-react-app.firebaseapp.com",databaseURL:"https://tkd-react-app-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"tkd-react-app",storageBucket:"tkd-react-app.firebasestorage.app",messagingSenderId:"131767355176",appId:"1:131767355176:web:4955187fe336e69f7bf21d",measurementId:"G-TNYHYGHZ8C"},eO=hS(JM),Ke=KM(eO);function tO(){const[r,e]=O.useState(""),[n,s]=O.useState(""),[a,u]=O.useState([]),[c,d]=O.useState(""),[h,m]=O.useState(""),[p,g]=O.useState([]),v=rr(),{login:b}=Em();O.useEffect(()=>{const S=Xe(Ke,"events");qn(S).then(T=>{if(T.exists()){const A=Object.keys(T.val());u(A);const D=localStorage.getItem("selectedEvent");D&&A.includes(D)?d(D):d("")}})},[]),O.useEffect(()=>{if(c){const S=Xe(Ke,`events/${c}/courts`);qn(S).then(T=>{if(T.exists()){g(Object.keys(T.val()));const A=localStorage.getItem("selectedCourt");A&&Object.keys(T.val()).includes(A)?m(A):m("")}else g([]),m("")})}else g([]),m("")},[c]);const C=async S=>{if(S.preventDefault(),s(""),!c){s("Please select an event.");return}if(!h){s("Please select a court.");return}const T=Xe(Ke,`events/${c}/settings/setupPassword`);try{const A=await qn(T);if(A.exists()){const D=A.val();if(r===D){const N=Xe(Ke,`events/${c}/courts/${h}`);await ol(N,{name:h,currentMatchId:""}),localStorage.setItem("selectedEvent",c),localStorage.setItem("selectedCourt",h),b({courtId:h,eventId:c,role:"admin"}),v("/")}else s("Incorrect password, please try again.")}else s("Setup Password has not been configured for this event. Please contact an administrator."),console.error(`Setup password not found at 'events/${c}/settings/setupPassword'`)}catch(A){s("An error occurred while connecting to the database."),console.error("Error during setup:",A)}};return x.jsxs("div",{className:"cs-container",children:[x.jsx(Hm,{speed:.5,squareSize:100,direction:"diagonal",borderColor:"hsla(270, 50%, 50%, 0.25)",hoverFillColor:"hsla(60, 50%, 50%, 0.25)"}),x.jsxs("div",{className:"cs-content",children:[x.jsx("h1",{children:"Court Setup"}),x.jsxs("form",{onSubmit:C,className:"cs-form",children:[x.jsx("p",{children:"Select the event, court, and enter the Setup Password to connect this device."}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"event-select",children:"Select Event"}),x.jsxs("select",{id:"event-select",value:c,onChange:S=>d(S.target.value),required:!0,children:[x.jsx("option",{value:"",disabled:!0,children:"-- Please select an event --"}),a.map(S=>x.jsx("option",{value:S,children:S},S))]})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"court-select",children:"Select Court"}),x.jsxs("select",{id:"court-select",value:h,onChange:S=>m(S.target.value),disabled:!c||p.length===0,required:!0,children:[x.jsx("option",{value:"",disabled:!0,children:"-- Please select a court --"}),p.map(S=>x.jsx("option",{value:S,children:S},S))]})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"setup-password",children:"Setup Password"}),x.jsx("input",{id:"setup-password",type:"password",value:r,onChange:S=>e(S.target.value),placeholder:"Enter setup password",required:!0,disabled:!c||!h})]}),n&&x.jsx("p",{className:"cs-error-message",children:n}),x.jsxs("div",{className:"cs-action-buttons",children:[x.jsx(Oe,{type:"submit",text:"Confirm Settings",fontSize:"1.5dvw",angle:30,disabled:!c||!h}),x.jsx(Oe,{text:"Back to Home",fontSize:"1.5dvw",angle:150,onClick:()=>v("/")})]})]})]})]})}function nO(){return O.useEffect(()=>{const r=new window.AirConsole,e=document.getElementById("btn-msg");e&&e.addEventListener("click",function(){r.message(window.AirConsole.SCREEN,"How are you?")}),r.onMessage=function(n,s){const a=document.createElement("DIV");a.innerHTML=s,document.body.appendChild(a)}},[]),x.jsxs("div",{className:"controller",onClick:()=>document.documentElement.requestFullscreen(),children:[x.jsxs("div",{className:"col",children:[x.jsx(Oe,{text:"Red 5",angle:350,fontSize:"4vw"}),x.jsx(Oe,{text:"Red 4",angle:350,fontSize:"4vw"}),x.jsx(Oe,{text:"Red 1",angle:350,fontSize:"4vw"})]}),x.jsxs("div",{className:"col",children:[x.jsx(Oe,{text:"Red 3",angle:350,fontSize:"4vw"}),x.jsx(Oe,{text:"Red 2",angle:350,fontSize:"4vw"})]}),x.jsx("div",{className:"col",children:x.jsx("button",{id:"btn-msg",children:"Send Message"})}),x.jsxs("div",{className:"col",children:[x.jsx(Oe,{text:"Blue 3",angle:210,fontSize:"4vw"}),x.jsx(Oe,{text:"Blue 2",angle:210,fontSize:"4vw"})]}),x.jsxs("div",{className:"col",children:[x.jsx(Oe,{text:"Blue 5",angle:210,fontSize:"4vw"}),x.jsx(Oe,{text:"Blue 4",angle:210,fontSize:"4vw"}),x.jsx(Oe,{text:"Blue 1",angle:210,fontSize:"4vw"})]})]})}const Sc=(r,e)=>{const n=r?.pointsStat||[0,0,0,0,0];return n[0]*1+n[1]*2+n[2]*3+n[3]*4+n[4]*5+(e||0)},iO=(r,e,n,s,a,u)=>{const c=Xe(Ke,`events/${r}/matches/${e}`);uo(c,d=>{if(!d||d.state.phase==="REST")return;d.stats||(d.stats={red:{pointsStat:[0,0,0,0,0],gamjeom:0},blue:{pointsStat:[0,0,0,0,0],gamjeom:0}}),d.state||(d.state={isFinished:!1,isPaused:!0,timer:0,winReason:null,lastStartTime:null,dominantSide:"none"});const h=d.stats[n];if(s==="gamjeom")h.gamjeom=(h.gamjeom||0)+u,h.gamjeom<0&&(h.gamjeom=0);else if(s==="pointsStat"){if(!h.pointsStat||h.pointsStat.length<5){const D=h.pointsStat||[];h.pointsStat=[D[0]||0,D[1]||0,D[2]||0,D[3]||0,D[4]||0]}h.pointsStat[a]=(h.pointsStat[a]||0)+u,h.pointsStat[a]<0&&(h.pointsStat[a]=0)}const m=d.stats.red.gamjeom,p=d.stats.blue.gamjeom,g=Sc(d.stats.red,p),v=Sc(d.stats.blue,m),b=()=>{if(!d.state.isPaused&&d.state.lastStartTime){const D=Date.now(),N=Math.floor((D-d.state.lastStartTime)/1e3);d.state.timer=(d.state.timer||0)-N,d.state.timer<0&&(d.state.timer=0)}d.state.isPaused=!0,d.state.lastStartTime=null},C=d.config?.rules?.maxPointGap||12,S=d.config?.rules?.maxGamjeom||5,T=m>=S||p>=S,A=Math.abs(g-v)>=C;return d.state.dominantSide="none",T?(b(),d.state.winReason="PUN",m>=S&&(d.state.dominantSide="blue"),p>=S&&(d.state.dominantSide="red")):A?(b(),d.state.winReason="PTG",g>v&&(d.state.dominantSide="red"),v>g&&(d.state.dominantSide="blue")):(d.state.winReason==="PTG"||d.state.winReason==="PUN")&&(d.state.winReason=null),d}).catch(d=>console.error("Transaction failed:",d))},sO=(r,e,n)=>{const s=Xe(Ke,`events/${r}/matches/${e}`);uo(s,a=>{if(!a)return;a.state||(a.state={}),a.stats||(a.stats={}),a.stats.roundWins||(a.stats.roundWins={red:0,blue:0}),a.stats.roundScores||(a.stats.roundScores={});const u=a.state.currentRound||1;a.stats.roundScores[`R${u}`]={red:Sc(a.stats.red,a.stats.blue.gamjeom),blue:Sc(a.stats.blue,a.stats.red.gamjeom)},n==="red"?a.stats.roundWins.red=(a.stats.roundWins.red||0)+1:n==="blue"&&(a.stats.roundWins.blue=(a.stats.roundWins.blue||0)+1);const c=a.stats.roundWins.red,d=a.stats.roundWins.blue,h=a.config?.rules?.roundsToWin||2;if(c>=h||d>=h)a.state.isFinished=!0,a.state.winReason="PTF",a.state.isPaused=!0,a.state.timer=0,a.state.phase="ROUND";else{const m={...a.stats};a.stats={...m,red:{gamjeom:0,pointsStat:[0,0,0,0,0]},blue:{gamjeom:0,pointsStat:[0,0,0,0,0]}},a.state.phase="REST",a.state.timer=a.config?.rules?.restDuration||60,a.state.isPaused=!1,a.state.lastStartTime=Date.now(),a.state.isFinished=!1,a.state.winReason=null,a.state.dominantSide="none"}return a})},rO=(r,e)=>{const n=Xe(Ke,`events/${r}/matches/${e}`);uo(n,s=>{if(s)return s.stats.red={gamjeom:0,pointsStat:[0,0,0,0,0]},s.stats.blue={gamjeom:0,pointsStat:[0,0,0,0,0]},s.state.currentRound=(s.state.currentRound||1)+1,s.state.phase="ROUND",s.state.timer=s.config?.rules?.roundDuration||120,s.state.isPaused=!0,s.state.lastStartTime=null,s.state.isFinished=!1,s.state.dominantSide="none",s})},lO=async(r,e,n)=>{const s=`events/${r}/matches`;try{const u=(await qn(Xe(Ke,`${s}/${e}/config`))).val();if(!u)return;const c=u.competitors[n],{nextMatchId:d,nextMatchSlot:h}=u;if(!d||!h){alert(" (Next Match ID/Slot missing)");return}const m=`${s}/${d}/config/competitors/${h}`;await Xs(Xe(Ke,m),{name:c.name,affiliatedClub:c.affiliatedClub||""}),alert(`
${c.name} -> ${d} (${h})`)}catch(a){console.error(a),alert(`: ${a.message}`)}},aO=({visible:r,setVisible:e,eventName:n,matchId:s,matchData:a})=>{const[u,c]=O.useState(0),[d,h]=O.useState(0),[m,p]=O.useState(0),[g,v]=O.useState(0),[b,C]=O.useState(!1),S=B=>{!n||!s||!B||(sO(n,s,B),e(!1),C(!1))},T=()=>{!n||!s||(rO(n,s),e(!1))},A=()=>{const B=a?.state?.dominantSide;B&&B.trim()!=="none"?S(B):C(!0)},D=(B,ae,R,L)=>{iO(n,s,B,ae,R,L)};O.useEffect(()=>{if(!r){C(!1);return}const B=a?.state?.timer||0,ae=Math.floor(B/60),R=Math.floor(B%60),L=a?.state?.phase||"ROUND";if(L==="ROUND"?(c(ae),h(R)):L==="REST"&&(p(ae),v(R)),n&&s){const W=Xe(Ke,`events/${n}/matches/${s}/config`);qn(W).then($=>{if(!$.exists())return;const ee=$.val(),re=ee.rules?.roundDuration||120,ie=ee.rules?.restDuration||60;L==="ROUND"?(p(Math.floor(ie/60)),v(ie%60)):L==="REST"&&(c(Math.floor(re/60)),h(re%60))})}},[r,n,s,a]);const N=(B,ae,R)=>{if(!n||!s)return;const L=parseInt(ae,10)*60+parseInt(R,10),W=Xe(Ke,`events/${n}/matches/${s}/state`),$={timer:L,isPaused:!0,lastStartTime:null,isFinished:L===0};qn(W).then(ee=>{if(ee.exists()){const ie=ee.val().phase||"ROUND";(B==="match"&&ie==="ROUND"||B==="rest"&&ie==="REST")&&Xs(W,$)}})},Y=B=>{c(B),N("match",B,d)},z=B=>{h(B),N("match",u,B)},K=B=>{p(B),N("rest",B,g)},Q=B=>{v(B),N("rest",m,B)},G="1.5dvw",F=[{name:"Gam-jeom",type:"gamjeom",index:null},{name:"Punch",type:"pointsStat",index:0},{name:"Body",type:"pointsStat",index:1},{name:"Head",type:"pointsStat",index:2},{name:"Body(Turn)",type:"pointsStat",index:3},{name:"Head(Turn)",type:"pointsStat",index:4}];if(!a)return null;const{state:te={},stats:ne={}}=a,{phase:oe,isFinished:ce,winReason:fe}=te||{},{roundWins:le}=ne||{},V=le?.red>le?.blue?"red":le?.blue>le?.red?"blue":null;return x.jsxs("div",{className:`edit-bar ${r?"visible":""}`,children:[x.jsxs("div",{className:"edit-grid",children:[x.jsx("div",{className:"grid-cell header"}),F.map(B=>x.jsx("div",{className:"grid-cell header",children:B.name},B.name)),x.jsx("div",{className:"grid-cell side-label blue",children:"Blue"}),F.map(B=>x.jsx("div",{className:"grid-cell",children:x.jsxs("div",{className:"buttons",children:[x.jsx(Oe,{text:"+",fontSize:G,onClick:()=>D("blue",B.type,B.index,1),angle:220}),x.jsx(Oe,{text:"",fontSize:G,onClick:()=>D("blue",B.type,B.index,-1),angle:220})]})},`blue-${B.name}`)),x.jsx("div",{className:"grid-cell side-label red",children:"Red"}),F.map(B=>x.jsx("div",{className:"grid-cell",children:x.jsxs("div",{className:"buttons",children:[x.jsx(Oe,{text:"+",fontSize:G,onClick:()=>D("red",B.type,B.index,1),angle:0}),x.jsx(Oe,{text:"",fontSize:G,onClick:()=>D("red",B.type,B.index,-1),angle:0})]})},`red-${B.name}`))]}),x.jsxs("div",{className:"time-bar",children:[x.jsxs("div",{className:"time-control-group",children:[x.jsx("h2",{children:"Match Time"}),x.jsxs("div",{className:"time-selects",children:[x.jsx("select",{value:u,onChange:B=>Y(B.target.value),children:[0,1,2].map(B=>x.jsx("option",{value:B,children:B},B))})," min",x.jsx("select",{value:d,onChange:B=>z(B.target.value),children:Array.from({length:60},(B,ae)=>ae).map(B=>x.jsx("option",{value:B,children:B},B))})," sec"]})]}),x.jsxs("div",{className:"time-control-group",children:[x.jsx("h2",{children:"Rest Time"}),x.jsxs("div",{className:"time-selects",children:[x.jsx("select",{value:m,onChange:B=>K(B.target.value),children:[0,1].map(B=>x.jsx("option",{value:B,children:B},B))})," min",x.jsx("select",{value:g,onChange:B=>Q(B.target.value),children:Array.from({length:60},(B,ae)=>ae).map(B=>x.jsx("option",{value:B,children:B},B))})," sec"]})]}),oe==="REST"&&!ce&&x.jsx(Oe,{text:`Start Round ${(a?.state?.currentRound||1)+1}`,fontSize:"1.8vw",onClick:T,angle:50}),ce&&V&&x.jsx(Oe,{onClick:()=>lO(n,s,V),text:"Promote Winner",fontSize:"1.8vw",angle:50}),oe==="ROUND"&&!ce&&!b&&x.jsx(Oe,{text:"Declare Round Winner",fontSize:"1.8vw",onClick:A,angle:50}),b&&x.jsxs("div",{className:"superiority-vote time-control-group",children:[x.jsx("h2",{children:"Woo-se-girok"}),x.jsxs("div",{className:"buttons",children:[x.jsx(Oe,{text:"Blue",fontSize:"1.8vw",onClick:()=>S("blue"),angle:220}),x.jsx(Oe,{text:"Red",fontSize:"1.8vw",onClick:()=>S("red"),angle:0})]})]}),x.jsx(Oe,{text:"Done",fontSize:"2vw",onClick:()=>e(!1)})]})]})},oO=r=>{if(typeof r!="number"||isNaN(r))return"0:00";const e=Math.floor(r/60),n=Math.floor(r%60);return`${e}:${n.toString().padStart(2,"0")}`},bc=(r,e)=>{const n=r?.pointsStat||[0,0,0,0,0];return n[0]*1+n[1]*2+n[2]*3+n[3]*4+n[4]*5+(e||0)},uO=(r,e)=>{const n=r?.pointsStat||[0,0,0,0,0],s=e?.pointsStat||[0,0,0,0,0],a=r?.gamjeom||0,u=e?.gamjeom||0,c=bc({pointsStat:n},u),d=bc({pointsStat:s},a);if(c>d)return"red";if(d>c)return"blue";const h=n[3]*4+n[4]*5,m=s[3]*4+s[4]*5;if(h>m)return"red";if(m>h)return"blue";const p=n[2]+n[4],g=s[2]+s[4];if(p>g)return"red";if(g>p)return"blue";const v=n[1]+n[3],b=s[1]+s[3];return v>b?"red":b>v?"blue":n[0]>s[0]?"red":s[0]>n[0]?"blue":a<u?"red":u<a?"blue":"none"};function cO(){const[r,e]=O.useState(null),[n,s]=O.useState("row"),[a,u]=O.useState(!1),[c,d]=O.useState(0),[h,m]=O.useState(localStorage.getItem("selectedEvent")),[p,g]=O.useState(localStorage.getItem("selectedCourt")),[v,b]=O.useState(null),C=O.useRef();O.useEffect(()=>{if(!h||!p)return;const pe=Xe(Ke,`events/${h}/courts/${p}/currentMatchId`),Le=Qu(pe,Ze=>{const rt=Ze.val();rt?b(rt):(b(null),e(null))});return()=>Le()},[h,p]),O.useEffect(()=>{if(!v||!h)return;const pe=Xe(Ke,`events/${h}/matches/${v}`),Le=Qu(pe,Ze=>{e(Ze.val())});return()=>Le()},[v,h]),O.useEffect(()=>{if(!r?.state)return;const pe=r.state,{timer:Le,isPaused:Ze,lastStartTime:rt,isFinished:xn,phase:an}=pe,on=()=>{if(xn&&an!=="REST"){d(0),cancelAnimationFrame(C.current);return}if(Ze){d(Le||0),cancelAnimationFrame(C.current);return}const _t=Date.now(),bt=Math.floor((_t-rt)/1e3),ft=(Le||0)-bt;if(ft<=0){if(d(0),cancelAnimationFrame(C.current),an!=="REST"){const oi=Xe(Ke,`events/${h}/matches/${v}/state`);Xs(oi,{isFinished:!0,isPaused:!0,timer:0,lastStartTime:null})}}else d(ft),C.current=requestAnimationFrame(on)};return C.current=requestAnimationFrame(on),()=>cancelAnimationFrame(C.current)},[r?.state,h,v]),O.useEffect(()=>{if(!h||!p||!v)return;const pe=Xe(Ke,`judgingQueue/${h}/${p}`),Le=Qu(pe,Ze=>{const rt=Ze.val();if(!rt)return;const xn=2,an={punch:1,body:2,head:3,bodyTurn:4,headTurn:5},on=`events/${h}/matches/${v}`;(async()=>{for(const bt of["red","blue"]){for(const ft of Object.keys(an))if(rt[bt]?.[ft]&&Object.keys(rt[bt][ft]).length>=xn){const oi=an[ft],zi=Object.values(an).indexOf(oi),Es=Xe(Ke,`${on}/stats/${bt}/pointsStat/${zi}`);return await uo(Es,Eo=>(Eo||0)+1),!0}if(rt[bt]?.gamjeom&&Object.keys(rt[bt].gamjeom).length>=xn){const ft=Xe(Ke,`${on}/stats/${bt}/gamjeom`);return await uo(ft,oi=>(oi||0)+1),!0}}return!1})().then(bt=>{bt&&ol(pe,null)})});return()=>Le()},[h,p,v]);const S=()=>s(pe=>pe==="row"?"row-reverse":"row"),T=async()=>{if(!h||!v)return;const pe=Xe(Ke,`events/${h}/matches/${v}/state`);try{const Le=await qn(pe);if(!Le.exists())return;const Ze=Le.val(),{isStarted:rt=!1,isPaused:xn=!0,isFinished:an=!1,timer:on=0,lastStartTime:_t=null,phase:bt}=Ze,ft=Date.now();if(an&&bt!=="REST")return;if(!rt){await Xs(pe,{isStarted:!0,isPaused:!1,isFinished:!1,lastStartTime:ft});return}if(xn)await Xs(pe,{isPaused:!1,lastStartTime:ft});else{const zi=Math.floor((ft-(_t||ft))/1e3);let Es=on-zi;Es<0&&(Es=0),await Xs(pe,{isPaused:!0,timer:Es,lastStartTime:null})}}catch(Le){console.error("Toggle Timer Error:",Le)}};O.useEffect(()=>{const pe=Le=>{Le.code==="Space"&&(Le.preventDefault(),T()),Le.key==="\\"&&S(),(Le.key==="e"||Le.key==="E")&&u(Ze=>!Ze)};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[h,v]);const A=r?.stats?.red,D=r?.stats?.blue,N=O.useMemo(()=>uO(A,D),[A,D]);if(!p)return x.jsxs("div",{className:"screen-unconfigured",children:[x.jsx("h1",{children:"Screen Unconfigured"}),x.jsxs("p",{children:["Please go to ",x.jsx("strong",{children:"Court Setup"})," to assign this screen to a court."]})]});if(!r)return x.jsxs("div",{className:"screen-configured-no-match",children:[x.jsx("h1",{children:p.replace(/([A-Z])/g," $1").replace(/^./,pe=>pe.toUpperCase())}),x.jsx("p",{children:"Waiting for a match to be loaded..."})]});const{state:Y={},config:z={},stats:K={}}=r,{phase:Q="ROUND",currentRound:G=1,winReason:F,isFinished:te,isPaused:ne}=Y,{roundScores:oe={},roundWins:ce={red:0,blue:0}}=K,fe=Q==="REST",le=ce.red===2||ce.blue===2,U=pe=>pe?.name?pe.affiliatedClub?`${pe.name} (${pe.affiliatedClub})`:pe.name:pe?.previousMatch?`Winner of ${pe.previousMatch}`:"",V=U(z.competitors?.blue)||"Blue Player",B=U(z.competitors?.red)||"Red Player",ae=K.red?.gamjeom||0,R=K.blue?.gamjeom||0,L=bc(K.red,R),W=bc(K.blue,ae),$=z.matchId||"----",ee=ne?"#FFFF00":"#FFFFFF",re=!fe&&N==="red"?"#FFFF00":"#FFFFFF",ie=!fe&&N==="blue"?"#FFFF00":"#FFFFFF",Fe=()=>F||oO(c),De=pe=>{const Le=oe||{};return x.jsxs("div",{className:"round-history-container",children:[Object.entries(Le).sort(([Ze],[rt])=>parseInt(Ze.substring(1))-parseInt(rt.substring(1))).map(([Ze,rt])=>x.jsxs("div",{className:"history-row",children:[x.jsx("span",{className:"history-label",children:Ze}),x.jsx("span",{className:"history-value",children:rt[pe]??0})]},Ze)),x.jsx("div",{className:"total-round-wins",children:ce[pe]||0})]})},Xt=()=>{const pe={backgroundColor:ne?"#FFFF00":"#000000"};return ne?pe.color="#000000":fe||(pe.color="#000000"),pe};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"screen",onClick:()=>!a&&document.documentElement.requestFullscreen(),children:[x.jsxs("div",{className:`top ${fe?"rest-mode":""}`,style:{flexDirection:n},children:[x.jsx("div",{className:"red-name red-bg name-font",children:B}),x.jsx("div",{className:"blue-name blue-bg name-font",children:V})]}),x.jsxs("div",{className:"midbottom",style:{flexDirection:n,display:"flex"},children:[x.jsx("div",{className:"red-log red-bg",children:x.jsxs("div",{className:"red-gamjeom red-bg",onClick:()=>u(!0),children:[x.jsx("div",{className:"gamjeom-number",children:ae}),x.jsx("div",{className:"gamjeom-font",children:"GAM-JEOM"})]})}),x.jsx("div",{className:"red-score red-bg",children:x.jsx("div",{className:"red-score-text red-score-bg score-font cursor-target",style:{color:re},onClick:()=>u(!0),children:fe||F||le?De("red"):L})}),x.jsxs("div",{className:"match-info",children:[x.jsxs("div",{className:"match cursor-target",onClick:S,children:[x.jsx("div",{className:"match-font",children:"MATCH"}),x.jsx("div",{className:"match-number",children:$})]}),x.jsxs("div",{className:"timer",children:[x.jsx("div",{className:"game-timer timer-font cursor-target",onClick:T,style:{color:ee},children:Fe()}),x.jsx("div",{className:`time-out match-font cursor-target ${ne?"":"timeout-active"} ${fe?"rest-mode":""}`,onClick:T,style:Xt(),children:fe?"REST TIME":"Time out"})]}),x.jsxs("div",{className:"round-info",children:[x.jsx("div",{className:"round-font",children:"ROUND"}),x.jsx("div",{className:"round-number",children:G})]})]}),x.jsx("div",{className:"blue-score blue-bg",children:x.jsx("div",{className:"blue-score-text blue-score-bg score-font cursor-target",style:{color:ie},onClick:()=>u(!0),children:fe||F||le?De("blue"):W})}),x.jsx("div",{className:"blue-log blue-bg",children:x.jsxs("div",{className:"blue-gamjeom blue-bg",onClick:()=>u(!0),children:[x.jsx("div",{className:"gamjeom-number",children:R}),x.jsx("div",{className:"gamjeom-font",children:"GAM-JEOM"})]})})]})]}),x.jsx(aO,{visible:a,setVisible:u,eventName:h,matchId:v,matchData:r})]})}function fO(){return new URLSearchParams(li().search)}function hO(){const[r,e]=O.useState("Validating..."),n=fO(),s=rr();return O.useEffect(()=>{const a=n.get("event"),u=n.get("court"),c=n.get("role"),d=n.get("key");if(!a||!u||!c||!d){e("Error: Missing required information in the link.");return}(async()=>{const m=Xe(Ke,`events/${a}/courts/${u}/accessKey`);try{const p=await qn(m);if(p.exists()){const g=p.val();d===g?(e("Validation successful! Redirecting..."),localStorage.setItem("referee_event",a),localStorage.setItem("referee_court",u),localStorage.setItem("referee_role",c),s("/controller")):e("Error: Invalid or expired access key. Please scan a new QR code.")}else e("Error: This court has not been properly configured. No access key found.")}catch(p){console.error("Validation Error:",p),e("Error: Could not connect to the database to validate the key.")}})()},[n,s]),x.jsx("div",{className:"rl-container",children:x.jsxs("div",{className:"rl-status-box",children:[x.jsx("h1",{children:"Referee Login"}),x.jsx("p",{className:"rl-status-message",children:r}),r.startsWith("Error")&&x.jsx("button",{className:"rl-retry-button",onClick:()=>window.location.reload(),children:"Retry"})]})})}const Iy=r=>{if(!r)return{name:"",club:""};const e=r.match(/(.+?)\s*\((.+)\)/);return e?{name:e[1].trim(),club:e[2].trim()}:{name:r,club:""}},dO=()=>{const r=rr(),[e,n]=O.useState(""),[s,a]=O.useState([]),[u,c]=O.useState({}),[d,h]=O.useState(null),[m,p]=O.useState(""),[g,v]=O.useState(""),[b,C]=O.useState(""),[S,T]=O.useState(12),[A,D]=O.useState(5),[N,Y]=O.useState(120),[z,K]=O.useState(60),[Q,G]=O.useState(""),[F,te]=O.useState(""),[ne,oe]=O.useState(""),[ce,fe]=O.useState(""),[le,U]=O.useState(""),[V,B]=O.useState("");O.useEffect(()=>{const L=Xe(Ke,"events");qn(L).then(W=>{W.exists()&&a(Object.keys(W.val()))})},[]),O.useEffect(()=>{if(h(null),e){const L=Xe(Ke,`events/${e}/matches`);qn(L).then(W=>{W.exists()?c(W.val()):c({})})}else c({})},[e]),O.useEffect(()=>{if(m&&u[m]){const W=u[m].config,$=W.rules,ee=W.competitors;v(W.nextMatchId||""),C(W.nextMatchSlot||""),T($.maxPointGap||12),D($.maxGamjeom||5),Y($.roundDuration||120),K($.restDuration||60);const re=ee.blue;if(re.affiliatedClub!==void 0)G(re.name||""),te(re.affiliatedClub||"");else{const Fe=Iy(re.name);G(Fe.name),te(Fe.club)}oe(re.previousMatch||"");const ie=ee.red;if(ie.affiliatedClub!==void 0)fe(ie.name||""),U(ie.affiliatedClub||"");else{const Fe=Iy(ie.name);fe(Fe.name),U(Fe.club)}B(ie.previousMatch||"")}},[m,u]),O.useEffect(()=>{d&&p(d)},[d]);const ae=async()=>{if(!e||!m){alert("Please provide an Event Name and a Match ID.");return}try{const L=Xe(Ke,`events/${e}`);(await qn(L)).exists()||await ol(L,{settings:{},courts:{court1:{name:"Court 1",currentMatchId:""},court2:{name:"Court 2",currentMatchId:""},court3:{name:"Court 3",currentMatchId:""},court4:{name:"Court 4",currentMatchId:""}},judgingQueue:{},matches:{}});const $={config:{matchId:m,nextMatchId:g||null,nextMatchSlot:b||null,rules:{maxPointGap:parseInt(S,10),maxGamjeom:parseInt(A,10),roundDuration:parseInt(N,10),restDuration:parseInt(z,10)},competitors:{blue:{name:Q,affiliatedClub:F||"",previousMatch:ne||null},red:{name:ce,affiliatedClub:le||"",previousMatch:V||null}}},state:{isStarted:!1,isPaused:!0,isFinished:!1,currentRound:1,timer:parseInt(N,10),winnerSide:null,phase:"ROUND",winReason:null},stats:{roundWins:{red:0,blue:0},blue:{pointsStat:[0,0,0,0,0],gamjeom:0},red:{pointsStat:[0,0,0,0,0],gamjeom:0}}},ee=Xe(Ke,`events/${e}/matches/${m}`);await ol(ee,$),alert(`Match ${m} added to event ${e} in Firebase!`),c(re=>({...re,[m]:$})),p(""),G(""),te(""),fe(""),U(""),v(""),C(""),oe(""),B("")}catch(L){console.error("Error writing to Firebase:",L),alert("Failed to add match to Firebase. See console for details.")}},R=async()=>{if(!e||!d){alert("Please select an event and a match to load.");return}const L=localStorage.getItem("selectedCourt");if(!L){alert("No court is configured for this device. Please go to Court Setup first.");return}try{const W=Xe(Ke,`events/${e}/courts/${L}/currentMatchId`);await ol(W,d),localStorage.setItem("selectedEvent",e),localStorage.setItem("selectedMatchId",d),alert(`Match ${d} successfully loaded to ${L}.`)}catch(W){console.error("Error loading match to court:",W),alert("Failed to load match to court. See console for details.")}};return x.jsxs("div",{className:"di-container",children:[x.jsx(Hm,{speed:.5,squareSize:100,direction:"diagonal",borderColor:"hsla(270, 50%, 50%, 0.25)",hoverFillColor:"hsla(60, 50%, 50%, 0.25)"}),x.jsx("div",{className:"di-content-wrapper",children:x.jsxs("div",{className:"di-form-and-list-container",children:[x.jsxs("div",{className:"di-form-section",children:[x.jsx("h2",{children:"Import Event Data"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"eventName-select",children:"Event Name"}),x.jsxs("select",{id:"eventName-select",value:e,onChange:L=>n(L.target.value),required:!0,children:[x.jsx("option",{value:"",disabled:!0,children:"-- Please select an event --"}),s.map(L=>x.jsx("option",{value:L,children:L},L))]})]}),x.jsxs("div",{className:"match-form",children:[x.jsxs("fieldset",{children:[x.jsx("legend",{children:"Match Configuration"}),x.jsxs("div",{className:"fieldset-content",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Match ID"}),x.jsx("input",{list:"match-ids",type:"text",value:m,onChange:L=>p(L.target.value),placeholder:"A1001"}),x.jsx("datalist",{id:"match-ids",children:Object.keys(u).map(L=>x.jsx("option",{value:L},L))})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Next Match ID"}),x.jsx("input",{type:"text",value:g,onChange:L=>v(L.target.value),placeholder:"e.g. A2001 (optional)"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Next Match Slot"}),x.jsxs("select",{value:b||"",onChange:L=>C(L.target.value),children:[x.jsx("option",{value:"",children:"(optional)"}),x.jsx("option",{value:"blue",children:"Blue"}),x.jsx("option",{value:"red",children:"Red"})]})]})]})]}),x.jsxs("fieldset",{children:[x.jsx("legend",{children:"Rules"}),x.jsxs("div",{className:"fieldset-content",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Max Point Gap"}),x.jsx("input",{type:"number",value:S,onChange:L=>T(L.target.value)})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Max Gam-jeom"}),x.jsx("input",{type:"number",value:A,onChange:L=>D(L.target.value)})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Round Duration (s)"}),x.jsx("input",{type:"number",value:N,onChange:L=>Y(L.target.value)})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Rest Duration (s)"}),x.jsx("input",{type:"number",value:z,onChange:L=>K(L.target.value)})]})]})]}),x.jsxs("fieldset",{className:"competitor-group blue",children:[x.jsx("legend",{children:"Blue Competitor"}),x.jsxs("div",{className:"fieldset-content",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Name"}),x.jsx("input",{type:"text",value:Q,onChange:L=>G(L.target.value),placeholder:"Blue Player Name"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Affiliated Club"}),x.jsx("input",{type:"text",value:F,onChange:L=>te(L.target.value),placeholder:"Club (optional)"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Source Match ID"}),x.jsx("input",{type:"text",value:ne,onChange:L=>oe(L.target.value),placeholder:"Source Match (optional)"})]})]})]}),x.jsxs("fieldset",{className:"competitor-group red",children:[x.jsx("legend",{children:"Red Competitor"}),x.jsxs("div",{className:"fieldset-content",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Name"}),x.jsx("input",{type:"text",value:ce,onChange:L=>fe(L.target.value),placeholder:"Red Player Name"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Affiliated Club"}),x.jsx("input",{type:"text",value:le,onChange:L=>U(L.target.value),placeholder:"Club (optional)"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Source Match ID"}),x.jsx("input",{type:"text",value:V,onChange:L=>B(L.target.value),placeholder:"Source Match (optional)"})]})]})]})]}),x.jsxs("div",{className:"di-action-buttons",children:[x.jsx(Oe,{text:"Add Match",fontSize:"1.5dvw",angle:260,onClick:ae}),x.jsx(Oe,{text:"Load to Screen",fontSize:"1.5dvw",angle:40,onClick:d?R:null,disabled:!d}),x.jsx(Oe,{text:"Back to Home",fontSize:"1.5dvw",angle:150,onClick:()=>r("/")})]})]}),x.jsx("div",{className:"di-matches-section",children:x.jsxs("div",{className:"matches-list",children:[x.jsxs("h3",{children:["Matches in ",e||"Event"]}),x.jsx("ul",{children:Object.keys(u).map(L=>{const W=u[L].config.competitors.blue,$=u[L].config.competitors.red,ee=re=>re.affiliatedClub?`${re.name} (${re.affiliatedClub})`:re.name;return x.jsxs("li",{onClick:()=>h(L),className:d===L?"selected":"",children:[x.jsxs("strong",{children:[L,":"]})," ",`${ee(W)} vs ${ee($)}`]},L)})})]})})]})})]})};var mO=Object.defineProperty,Ec=Object.getOwnPropertySymbols,xb=Object.prototype.hasOwnProperty,wb=Object.prototype.propertyIsEnumerable,Uy=(r,e,n)=>e in r?mO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,hm=(r,e)=>{for(var n in e||(e={}))xb.call(e,n)&&Uy(r,n,e[n]);if(Ec)for(var n of Ec(e))wb.call(e,n)&&Uy(r,n,e[n]);return r},dm=(r,e)=>{var n={};for(var s in r)xb.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&Ec)for(var s of Ec(r))e.indexOf(s)<0&&wb.call(r,s)&&(n[s]=r[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var sr;(r=>{const e=class Te{constructor(h,m,p,g){if(this.version=h,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],h<Te.MIN_VERSION||h>Te.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let v=[];for(let C=0;C<this.size;C++)v.push(!1);for(let C=0;C<this.size;C++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(p);if(this.drawCodewords(b),g==-1){let C=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const T=this.getPenaltyScore();T<C&&(g=S,C=T),this.applyMask(S)}}a(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(h,m){const p=r.QrSegment.makeSegments(h);return Te.encodeSegments(p,m)}static encodeBinary(h,m){const p=r.QrSegment.makeBytes(h);return Te.encodeSegments([p],m)}static encodeSegments(h,m,p=1,g=40,v=-1,b=!0){if(!(Te.MIN_VERSION<=p&&p<=g&&g<=Te.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let C,S;for(C=p;;C++){const N=Te.getNumDataCodewords(C,m)*8,Y=c.getTotalBits(h,C);if(Y<=N){S=Y;break}if(C>=g)throw new RangeError("Data too long")}for(const N of[Te.Ecc.MEDIUM,Te.Ecc.QUARTILE,Te.Ecc.HIGH])b&&S<=Te.getNumDataCodewords(C,N)*8&&(m=N);let T=[];for(const N of h){n(N.mode.modeBits,4,T),n(N.numChars,N.mode.numCharCountBits(C),T);for(const Y of N.getData())T.push(Y)}a(T.length==S);const A=Te.getNumDataCodewords(C,m)*8;a(T.length<=A),n(0,Math.min(4,A-T.length),T),n(0,(8-T.length%8)%8,T),a(T.length%8==0);for(let N=236;T.length<A;N^=253)n(N,8,T);let D=[];for(;D.length*8<T.length;)D.push(0);return T.forEach((N,Y)=>D[Y>>>3]|=N<<7-(Y&7)),new Te(C,m,D,v)}getModule(h,m){return 0<=h&&h<this.size&&0<=m&&m<this.size&&this.modules[m][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),m=h.length;for(let p=0;p<m;p++)for(let g=0;g<m;g++)p==0&&g==0||p==0&&g==m-1||p==m-1&&g==0||this.drawAlignmentPattern(h[p],h[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const m=this.errorCorrectionLevel.formatBits<<3|h;let p=m;for(let v=0;v<10;v++)p=p<<1^(p>>>9)*1335;const g=(m<<10|p)^21522;a(g>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,s(g,v));this.setFunctionModule(8,7,s(g,6)),this.setFunctionModule(8,8,s(g,7)),this.setFunctionModule(7,8,s(g,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,s(g,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,s(g,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,s(g,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let p=0;p<12;p++)h=h<<1^(h>>>11)*7973;const m=this.version<<12|h;a(m>>>18==0);for(let p=0;p<18;p++){const g=s(m,p),v=this.size-11+p%3,b=Math.floor(p/3);this.setFunctionModule(v,b,g),this.setFunctionModule(b,v,g)}}drawFinderPattern(h,m){for(let p=-4;p<=4;p++)for(let g=-4;g<=4;g++){const v=Math.max(Math.abs(g),Math.abs(p)),b=h+g,C=m+p;0<=b&&b<this.size&&0<=C&&C<this.size&&this.setFunctionModule(b,C,v!=2&&v!=4)}}drawAlignmentPattern(h,m){for(let p=-2;p<=2;p++)for(let g=-2;g<=2;g++)this.setFunctionModule(h+g,m+p,Math.max(Math.abs(g),Math.abs(p))!=1)}setFunctionModule(h,m,p){this.modules[m][h]=p,this.isFunction[m][h]=!0}addEccAndInterleave(h){const m=this.version,p=this.errorCorrectionLevel;if(h.length!=Te.getNumDataCodewords(m,p))throw new RangeError("Invalid argument");const g=Te.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m],v=Te.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m],b=Math.floor(Te.getNumRawDataModules(m)/8),C=g-b%g,S=Math.floor(b/g);let T=[];const A=Te.reedSolomonComputeDivisor(v);for(let N=0,Y=0;N<g;N++){let z=h.slice(Y,Y+S-v+(N<C?0:1));Y+=z.length;const K=Te.reedSolomonComputeRemainder(z,A);N<C&&z.push(0),T.push(z.concat(K))}let D=[];for(let N=0;N<T[0].length;N++)T.forEach((Y,z)=>{(N!=S-v||z>=C)&&D.push(Y[N])});return a(D.length==b),D}drawCodewords(h){if(h.length!=Math.floor(Te.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let g=0;g<this.size;g++)for(let v=0;v<2;v++){const b=p-v,S=(p+1&2)==0?this.size-1-g:g;!this.isFunction[S][b]&&m<h.length*8&&(this.modules[S][b]=s(h[m>>>3],7-(m&7)),m++)}}a(m==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let p=0;p<this.size;p++){let g;switch(h){case 0:g=(p+m)%2==0;break;case 1:g=m%2==0;break;case 2:g=p%3==0;break;case 3:g=(p+m)%3==0;break;case 4:g=(Math.floor(p/3)+Math.floor(m/2))%2==0;break;case 5:g=p*m%2+p*m%3==0;break;case 6:g=(p*m%2+p*m%3)%2==0;break;case 7:g=((p+m)%2+p*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][p]&&g&&(this.modules[m][p]=!this.modules[m][p])}}getPenaltyScore(){let h=0;for(let v=0;v<this.size;v++){let b=!1,C=0,S=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[v][T]==b?(C++,C==5?h+=Te.PENALTY_N1:C>5&&h++):(this.finderPenaltyAddHistory(C,S),b||(h+=this.finderPenaltyCountPatterns(S)*Te.PENALTY_N3),b=this.modules[v][T],C=1);h+=this.finderPenaltyTerminateAndCount(b,C,S)*Te.PENALTY_N3}for(let v=0;v<this.size;v++){let b=!1,C=0,S=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][v]==b?(C++,C==5?h+=Te.PENALTY_N1:C>5&&h++):(this.finderPenaltyAddHistory(C,S),b||(h+=this.finderPenaltyCountPatterns(S)*Te.PENALTY_N3),b=this.modules[T][v],C=1);h+=this.finderPenaltyTerminateAndCount(b,C,S)*Te.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let b=0;b<this.size-1;b++){const C=this.modules[v][b];C==this.modules[v][b+1]&&C==this.modules[v+1][b]&&C==this.modules[v+1][b+1]&&(h+=Te.PENALTY_N2)}let m=0;for(const v of this.modules)m=v.reduce((b,C)=>b+(C?1:0),m);const p=this.size*this.size,g=Math.ceil(Math.abs(m*20-p*10)/p)-1;return a(0<=g&&g<=9),h+=g*Te.PENALTY_N4,a(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let p=[6];for(let g=this.size-7;p.length<h;g-=m)p.splice(1,0,g);return p}}static getNumRawDataModules(h){if(h<Te.MIN_VERSION||h>Te.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*h+128)*h+64;if(h>=2){const p=Math.floor(h/7)+2;m-=(25*p-10)*p-55,h>=7&&(m-=36)}return a(208<=m&&m<=29648),m}static getNumDataCodewords(h,m){return Math.floor(Te.getNumRawDataModules(h)/8)-Te.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h]*Te.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let m=[];for(let g=0;g<h-1;g++)m.push(0);m.push(1);let p=1;for(let g=0;g<h;g++){for(let v=0;v<m.length;v++)m[v]=Te.reedSolomonMultiply(m[v],p),v+1<m.length&&(m[v]^=m[v+1]);p=Te.reedSolomonMultiply(p,2)}return m}static reedSolomonComputeRemainder(h,m){let p=m.map(g=>0);for(const g of h){const v=g^p.shift();p.push(0),m.forEach((b,C)=>p[C]^=Te.reedSolomonMultiply(b,v))}return p}static reedSolomonMultiply(h,m){if(h>>>8||m>>>8)throw new RangeError("Byte out of range");let p=0;for(let g=7;g>=0;g--)p=p<<1^(p>>>7)*285,p^=(m>>>g&1)*h;return a(p>>>8==0),p}finderPenaltyCountPatterns(h){const m=h[1];a(m<=this.size*3);const p=m>0&&h[2]==m&&h[3]==m*3&&h[4]==m&&h[5]==m;return(p&&h[0]>=m*4&&h[6]>=m?1:0)+(p&&h[6]>=m*4&&h[0]>=m?1:0)}finderPenaltyTerminateAndCount(h,m,p){return h&&(this.finderPenaltyAddHistory(m,p),m=0),m+=this.size,this.finderPenaltyAddHistory(m,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(h,m){m[0]==0&&(h+=this.size),m.pop(),m.unshift(h)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function n(d,h,m){if(h<0||h>31||d>>>h)throw new RangeError("Value out of range");for(let p=h-1;p>=0;p--)m.push(d>>>p&1)}function s(d,h){return(d>>>h&1)!=0}function a(d){if(!d)throw new Error("Assertion error")}const u=class ot{constructor(h,m,p){if(this.mode=h,this.numChars=m,this.bitData=p,m<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(h){let m=[];for(const p of h)n(p,8,m);return new ot(ot.Mode.BYTE,h.length,m)}static makeNumeric(h){if(!ot.isNumeric(h))throw new RangeError("String contains non-numeric characters");let m=[];for(let p=0;p<h.length;){const g=Math.min(h.length-p,3);n(parseInt(h.substring(p,p+g),10),g*3+1,m),p+=g}return new ot(ot.Mode.NUMERIC,h.length,m)}static makeAlphanumeric(h){if(!ot.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],p;for(p=0;p+2<=h.length;p+=2){let g=ot.ALPHANUMERIC_CHARSET.indexOf(h.charAt(p))*45;g+=ot.ALPHANUMERIC_CHARSET.indexOf(h.charAt(p+1)),n(g,11,m)}return p<h.length&&n(ot.ALPHANUMERIC_CHARSET.indexOf(h.charAt(p)),6,m),new ot(ot.Mode.ALPHANUMERIC,h.length,m)}static makeSegments(h){return h==""?[]:ot.isNumeric(h)?[ot.makeNumeric(h)]:ot.isAlphanumeric(h)?[ot.makeAlphanumeric(h)]:[ot.makeBytes(ot.toUtf8ByteArray(h))]}static makeEci(h){let m=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)n(h,8,m);else if(h<16384)n(2,2,m),n(h,14,m);else if(h<1e6)n(6,3,m),n(h,21,m);else throw new RangeError("ECI assignment value out of range");return new ot(ot.Mode.ECI,0,m)}static isNumeric(h){return ot.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return ot.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,m){let p=0;for(const g of h){const v=g.mode.numCharCountBits(m);if(g.numChars>=1<<v)return 1/0;p+=4+v+g.bitData.length}return p}static toUtf8ByteArray(h){h=encodeURI(h);let m=[];for(let p=0;p<h.length;p++)h.charAt(p)!="%"?m.push(h.charCodeAt(p)):(m.push(parseInt(h.substring(p+1,p+3),16)),p+=2);return m}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=u;r.QrSegment=u})(sr||(sr={}));(r=>{(e=>{const n=class{constructor(a,u){this.ordinal=a,this.formatBits=u}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(r.QrCode||(r.QrCode={}))})(sr||(sr={}));(r=>{(e=>{const n=class{constructor(a,u){this.modeBits=a,this.numBitsCharCount=u}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(r.QrSegment||(r.QrSegment={}))})(sr||(sr={}));var tl=sr;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _O={L:tl.QrCode.Ecc.LOW,M:tl.QrCode.Ecc.MEDIUM,Q:tl.QrCode.Ecc.QUARTILE,H:tl.QrCode.Ecc.HIGH},Rb=128,Ab="L",Nb="#FFFFFF",Mb="#000000",Ob=!1,Db=1,pO=4,gO=0,vO=.1;function Lb(r,e=0){const n=[];return r.forEach(function(s,a){let u=null;s.forEach(function(c,d){if(!c&&u!==null){n.push(`M${u+e} ${a+e}h${d-u}v1H${u+e}z`),u=null;return}if(d===s.length-1){if(!c)return;u===null?n.push(`M${d+e},${a+e} h1v1H${d+e}z`):n.push(`M${u+e},${a+e} h${d+1-u}v1H${u+e}z`);return}c&&u===null&&(u=d)})}),n.join("")}function kb(r,e){return r.slice().map((n,s)=>s<e.y||s>=e.y+e.h?n:n.map((a,u)=>u<e.x||u>=e.x+e.w?a:!1))}function yO(r,e,n,s){if(s==null)return null;const a=r.length+n*2,u=Math.floor(e*vO),c=a/e,d=(s.width||u)*c,h=(s.height||u)*c,m=s.x==null?r.length/2-d/2:s.x*c,p=s.y==null?r.length/2-h/2:s.y*c,g=s.opacity==null?1:s.opacity;let v=null;if(s.excavate){let C=Math.floor(m),S=Math.floor(p),T=Math.ceil(d+m-C),A=Math.ceil(h+p-S);v={x:C,y:S,w:T,h:A}}const b=s.crossOrigin;return{x:m,y:p,h,w:d,excavation:v,opacity:g,crossOrigin:b}}function SO(r,e){return e!=null?Math.max(Math.floor(e),0):r?pO:gO}function zb({value:r,level:e,minVersion:n,includeMargin:s,marginSize:a,imageSettings:u,size:c,boostLevel:d}){let h=Tt.useMemo(()=>{const C=(Array.isArray(r)?r:[r]).reduce((S,T)=>(S.push(...tl.QrSegment.makeSegments(T)),S),[]);return tl.QrCode.encodeSegments(C,_O[e],n,void 0,void 0,d)},[r,e,n,d]);const{cells:m,margin:p,numCells:g,calculatedImageSettings:v}=Tt.useMemo(()=>{let b=h.getModules();const C=SO(s,a),S=b.length+C*2,T=yO(b,c,C,u);return{cells:b,margin:C,numCells:S,calculatedImageSettings:T}},[h,c,u,s,a]);return{qrcode:h,margin:p,cells:m,numCells:g,calculatedImageSettings:v}}var bO=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),EO=Tt.forwardRef(function(e,n){const s=e,{value:a,size:u=Rb,level:c=Ab,bgColor:d=Nb,fgColor:h=Mb,includeMargin:m=Ob,minVersion:p=Db,boostLevel:g,marginSize:v,imageSettings:b}=s,S=dm(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=S,A=dm(S,["style"]),D=b?.src,N=Tt.useRef(null),Y=Tt.useRef(null),z=Tt.useCallback(fe=>{N.current=fe,typeof n=="function"?n(fe):n&&(n.current=fe)},[n]),[K,Q]=Tt.useState(!1),{margin:G,cells:F,numCells:te,calculatedImageSettings:ne}=zb({value:a,level:c,minVersion:p,boostLevel:g,includeMargin:m,marginSize:v,imageSettings:b,size:u});Tt.useEffect(()=>{if(N.current!=null){const fe=N.current,le=fe.getContext("2d");if(!le)return;let U=F;const V=Y.current,B=ne!=null&&V!==null&&V.complete&&V.naturalHeight!==0&&V.naturalWidth!==0;B&&ne.excavation!=null&&(U=kb(F,ne.excavation));const ae=window.devicePixelRatio||1;fe.height=fe.width=u*ae;const R=u/te*ae;le.scale(R,R),le.fillStyle=d,le.fillRect(0,0,te,te),le.fillStyle=h,bO?le.fill(new Path2D(Lb(U,G))):F.forEach(function(L,W){L.forEach(function($,ee){$&&le.fillRect(ee+G,W+G,1,1)})}),ne&&(le.globalAlpha=ne.opacity),B&&le.drawImage(V,ne.x+G,ne.y+G,ne.w,ne.h)}}),Tt.useEffect(()=>{Q(!1)},[D]);const oe=hm({height:u,width:u},T);let ce=null;return D!=null&&(ce=Tt.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{Q(!0)},ref:Y,crossOrigin:ne?.crossOrigin})),Tt.createElement(Tt.Fragment,null,Tt.createElement("canvas",hm({style:oe,height:u,width:u,ref:z,role:"img"},A)),ce)});EO.displayName="QRCodeCanvas";var Ib=Tt.forwardRef(function(e,n){const s=e,{value:a,size:u=Rb,level:c=Ab,bgColor:d=Nb,fgColor:h=Mb,includeMargin:m=Ob,minVersion:p=Db,boostLevel:g,title:v,marginSize:b,imageSettings:C}=s,S=dm(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:A,numCells:D,calculatedImageSettings:N}=zb({value:a,level:c,minVersion:p,boostLevel:g,includeMargin:m,marginSize:b,imageSettings:C,size:u});let Y=A,z=null;C!=null&&N!=null&&(N.excavation!=null&&(Y=kb(A,N.excavation)),z=Tt.createElement("image",{href:C.src,height:N.h,width:N.w,x:N.x+T,y:N.y+T,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const K=Lb(Y,T);return Tt.createElement("svg",hm({height:u,width:u,viewBox:`0 0 ${D} ${D}`,ref:n,role:"img"},S),!!v&&Tt.createElement("title",null,v),Tt.createElement("path",{fill:d,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),Tt.createElement("path",{fill:h,d:K,shapeRendering:"crispEdges"}),z)});Ib.displayName="QRCodeSVG";const CO=()=>Math.random().toString(36).substring(2,10);function TO(){const[r,e]=O.useState(null),[n,s]=O.useState(null),[a,u]=O.useState(null),[c,d]=O.useState(""),h=rr();O.useEffect(()=>{const g=localStorage.getItem("courtId"),v=localStorage.getItem("selectedEvent");if(g&&v){e(g),s(v);const b=CO();u(b);const C=Xe(Ke,`events/${v}/courts/${g}/accessKey`);ol(C,b).catch(S=>{console.error("Failed to store access key:",S),d("Failed to write access key to the database.")})}else d("Court or Event not found. Please return to Court Setup.")},[]);const m=[{id:"judge1",name:"Judge 1"},{id:"judge2",name:"Judge 2"},{id:"judge3",name:"Judge 3"}],p=g=>{if(!a||!n||!r)return"";const v=new URL(`${window.location.origin}/referee/login`);return v.searchParams.append("event",n),v.searchParams.append("court",r),v.searchParams.append("role",g),v.searchParams.append("key",a),v.toString()};return x.jsx("div",{className:"rr-container",children:x.jsxs("div",{className:"rr-content",children:[x.jsxs("div",{className:"rr-header",children:[x.jsx("h1",{children:"Referee Registration"}),n&&r&&x.jsxs("p",{children:["Scan the appropriate QR code to join ",x.jsx("strong",{children:n})," on ",x.jsxs("strong",{children:["Court ",r.slice(-1)]})]})]}),c&&x.jsx("p",{className:"rr-error",children:c}),!a&&!c&&x.jsx("p",{className:"rr-loading",children:"Generating session key..."}),a&&x.jsx("div",{className:"rr-qr-grid",children:m.map(g=>x.jsxs("div",{className:"rr-qr-card",children:[x.jsx("h3",{children:g.name}),x.jsx("div",{className:"rr-qr-code-wrapper",children:x.jsx(Ib,{value:p(g.id),bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!0})}),x.jsxs("p",{className:"rr-role-id",children:["Role: ",g.id]})]},g.id))}),x.jsx("div",{className:"rr-button-container",children:x.jsx(Oe,{text:"Back to Home",fontSize:"1rem",angle:0,onClick:()=>h("/")})})]})})}function xO(){return x.jsxs(kx,{children:[x.jsx(Kw,{targetSelector:"input, select, .cursor-target"}),x.jsx(Tx,{basename:"/TKD-scoreboard",children:x.jsxs(tx,{children:[x.jsx(Ti,{path:"/court-setup",element:x.jsx(tO,{})}),x.jsx(Ti,{path:"/screen",element:x.jsx(cO,{})}),x.jsx(Ti,{path:"/referee/login",element:x.jsx(hO,{})}),x.jsx(Ti,{path:"/",element:x.jsx(Uu,{children:x.jsx(Zw,{})})}),x.jsx(Ti,{path:"/controller",element:x.jsx(Uu,{children:x.jsx(nO,{})})}),x.jsx(Ti,{path:"/import",element:x.jsx(Uu,{children:x.jsx(dO,{})})}),x.jsx(Ti,{path:"/referee/register",element:x.jsx(Uu,{children:x.jsx(TO,{})})}),x.jsx(Ti,{path:"*",element:x.jsx(Qy,{to:"/",replace:!0})})]})})]})}fT.createRoot(document.getElementById("root")).render(x.jsx(O.StrictMode,{children:x.jsx(xO,{})}));
